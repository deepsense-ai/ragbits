import{u as g,g as j,h as O,a as b,b as y,r as C,j as t,D as v,d as a,I as S,m as _,e as D,f as F}from"./index-CjnJSg7Z.js";import{u as E,g as l,v as n,F as N}from"./index-DYhnm9Ng.js";import{m as R}from"./chunk-IGSAU2ZA-DR-W4utu.js";function H(){const{isOpen:c,onOpen:d,onClose:o}=g(),u=j(O(s=>s.chatOptions)),{setChatOptions:r,initializeChatOptions:i}=b(),{config:{user_settings:m}}=y(),e=m?.form,h=()=>{o()},f=s=>{r(s.formData),o()},p=()=>{if(!e)return;const s=l(n,e);r(s),o()},x=E();return C.useEffect(()=>{if(!e)return;const s=l(n,e);i(s)},[i,e]),e?t.jsxs(t.Fragment,{children:[t.jsx(v,{content:"Chat Options",placement:"bottom",children:t.jsx(a,{isIconOnly:!0,variant:"ghost",className:"p-0","aria-label":"Open chat options",onPress:d,"data-testid":"open-chat-options",children:t.jsx(S,{icon:"heroicons:cog-6-tooth"})})}),t.jsx(_,{isOpen:c,onOpenChange:h,children:t.jsx(D,{children:s=>t.jsxs(t.Fragment,{children:[t.jsx(R,{className:"text-default-900 flex flex-col gap-1",children:e.title||"Chat Options"}),t.jsx(F,{children:t.jsx("div",{className:"flex flex-col gap-4",children:t.jsx(N,{schema:e,validator:n,formData:u,onSubmit:f,transformErrors:x,liveValidate:!0,children:t.jsxs("div",{className:"flex justify-end gap-4 py-4",children:[t.jsx(a,{className:"mr-auto",color:"primary",variant:"light",onPress:p,"aria-label":"Restore default user settings",children:"Restore defaults"}),t.jsx(a,{color:"danger",variant:"light",onPress:s,"aria-label":"Close chat options form",children:"Cancel"}),t.jsx(a,{color:"primary",type:"submit","aria-label":"Save chat options","data-testid":"chat-options-submit",children:"Save"})]})})})})]})})})]}):null}export{H as default};
