import{d as c,aY as m,aZ as p,aU as g,j as e,e as f}from"./index-CGTLCg14.js";import{i as n}from"./chunk-SSA7SXE4-W6etCkoX.js";function b(){const r=c("/api/auth/login",{headers:{"Content-Type":"application/json"},method:"POST"}),o=m(p,s=>s.login),i=g(),l=async s=>{s.preventDefault(),s.stopPropagation();const t=new FormData(s.currentTarget),d=t.get("username"),u=t.get("password");try{const a=await r.call({body:{username:d,password:u}});if(!a.success||!a.session_id||!a.user)return;o({email:a.user.email},a.session_id),i("/")}catch(a){console.error("Failed to login",a)}};return e.jsx("div",{className:"flex h-screen w-screen",children:e.jsxs("form",{className:"rounded-medium border-small border-divider m-auto flex flex-col gap-4 p-4",onSubmit:l,children:[e.jsxs("div",{className:"text-small",children:[e.jsx("div",{className:"text-foreground truncate leading-5 font-semibold",children:"Sign in"}),e.jsx("div",{className:"text-default-500 truncate leading-5 font-normal",children:"Sign in to start chatting."})]}),e.jsx(n,{label:"Username",name:"username",labelPlacement:"outside",placeholder:"Your username",required:!0}),e.jsx(n,{label:"Password",labelPlacement:"outside",id:"password",name:"password",type:"password",placeholder:"••••••••",required:!0}),e.jsx(f,{type:"submit",children:"Sign in"})]})})}export{b as default};
