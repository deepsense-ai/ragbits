import{d as j,e as g,u as O,a as b,r as y,j as t,D as C,c as e,I as v}from"./index-D8McQxBc.js";import{u as _,g as c,v as r,F as S}from"./index-wTLSNgJ9.js";import{u as D,m as F,a as E,b as N,c as R}from"./index-BtHRNjYB.js";function H(){const{isOpen:d,onOpen:u,onClose:o}=D(),m=j(g(s=>s.chatOptions)),{setChatOptions:i,initializeChatOptions:l}=O(),{config:{user_settings:n}}=b(),a=n==null?void 0:n.form,h=()=>{o()},f=s=>{i(s.formData),o()},p=()=>{if(!a)return;const s=c(r,a);i(s),o()},x=_();return y.useEffect(()=>{if(!a)return;const s=c(r,a);l(s)},[l,a]),a?t.jsxs(t.Fragment,{children:[t.jsx(C,{content:"Chat Options",placement:"bottom",children:t.jsx(e,{isIconOnly:!0,variant:"ghost",className:"p-0","aria-label":"Open chat options",onPress:u,"data-testid":"open-chat-options",children:t.jsx(v,{icon:"heroicons:cog-6-tooth"})})}),t.jsx(F,{isOpen:d,onOpenChange:h,children:t.jsx(E,{children:s=>t.jsxs(t.Fragment,{children:[t.jsx(N,{className:"flex flex-col gap-1 text-default-900",children:a.title||"Chat Options"}),t.jsx(R,{children:t.jsx("div",{className:"flex flex-col gap-4",children:t.jsx(S,{schema:a,validator:r,formData:m,onSubmit:f,transformErrors:x,liveValidate:!0,children:t.jsxs("div",{className:"flex justify-end gap-4 py-4",children:[t.jsx(e,{className:"mr-auto",color:"primary",variant:"light",onPress:p,"aria-label":"Restore default user settings",children:"Restore defaults"}),t.jsx(e,{color:"danger",variant:"light",onPress:s,"aria-label":"Close chat options form",children:"Cancel"}),t.jsx(e,{color:"primary",type:"submit","aria-label":"Save chat options","data-testid":"chat-options-submit",children:"Save"})]})})})})]})})})]}):null}export{H as default};
