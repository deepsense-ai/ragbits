import{u as j,g,a as O,b,r as C,j as t,D as v,d as a,I as y,m as _,e as D,f as F}from"./index-DfoSa1rk.js";import{u as S,g as c,v as r,F as E}from"./index-DdsBv8Y5.js";import{m as N}from"./chunk-IGSAU2ZA-Iyf0LR5z.js";function I(){const{isOpen:d,onOpen:m,onClose:o}=j(),u=g(e=>e.chatOptions),{setChatOptions:i,initializeChatOptions:l}=O(),{config:{user_settings:n}}=b(),s=n==null?void 0:n.form,f=()=>{o()},h=e=>{i(e.formData),o()},p=()=>{if(!s)return;const e=c(r,s);i(e),o()},x=S();return C.useEffect(()=>{if(!s)return;const e=c(r,s);l(e)},[l,s]),s?t.jsxs(t.Fragment,{children:[t.jsx(v,{content:"Chat Options",placement:"bottom",children:t.jsx(a,{isIconOnly:!0,variant:"ghost",className:"p-0","aria-label":"Open chat options",onPress:m,"data-testid":"open-chat-options",children:t.jsx(y,{icon:"heroicons:cog-6-tooth"})})}),t.jsx(_,{isOpen:d,onOpenChange:f,children:t.jsx(D,{children:e=>t.jsxs(t.Fragment,{children:[t.jsx(N,{className:"flex flex-col gap-1 text-default-900",children:s.title||"Chat Options"}),t.jsx(F,{children:t.jsx("div",{className:"flex flex-col gap-4",children:t.jsx(E,{schema:s,validator:r,formData:u,onSubmit:h,transformErrors:x,liveValidate:!0,children:t.jsxs("div",{className:"flex justify-end gap-4 py-4",children:[t.jsx(a,{className:"mr-auto",color:"primary",variant:"light",onPress:p,"aria-label":"Restore default user settings",children:"Restore defaults"}),t.jsx(a,{color:"danger",variant:"light",onPress:e,"aria-label":"Close chat options form",children:"Cancel"}),t.jsx(a,{color:"primary",type:"submit","aria-label":"Save chat options","data-testid":"chat-options-submit",children:"Save"})]})})})})]})})})]}):null}export{I as default};
