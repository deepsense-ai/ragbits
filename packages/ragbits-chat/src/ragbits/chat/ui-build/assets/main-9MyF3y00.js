const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cfivfv5E.js","assets/features-animation-CL71PIGH.js","assets/useThemeContext-CXEHnhK-.js","assets/useThemeContext-DSDPhRdI.css","assets/FeedbackForm-6ubxHVpo.js","assets/index-CKHjNt2l.js","assets/chunk-SSA7SXE4-CsstRNQK.js","assets/useListState-hBaYo1Zk.js","assets/useMenuTriggerState-CFKBykqS.js","assets/useSelectableItem-BMjT4ZeY.js","assets/index-DOj_9Bld.js","assets/chunk-IGSAU2ZA-DUsvhAfS.js","assets/ChatOptionsForm-9GXOuke2.js","assets/ShareButton-suUhCGLy.js","assets/UsageButton-hf03gD4E.js","assets/useHasTabbableChild-LMP191lJ.js","assets/ChatHistory-BZi_xwSy.js","assets/Login-Ctzl3npD.js","assets/authStore-CG9vQHsZ.js","assets/AuthGuard-0x0xzXyF.js","assets/LogoutButton-vlyrGtdG.js"])))=>i.map(i=>d[i]);
import{r as b,$ as $s,a as Li,l as hb,d as pb,g as gb,b as mb,c as vb,e as bb,M as xb,t as yb,u as _b,f as wb,h as bs,i as Tr,R as nt,j as Cb,k as uu,m as $b,n as Sb,o as Oi,p as ir,q as Xu,s as Eb,v as Ib,w as Pb,x as Ab,y as Rb,z as Nr,A as Ss,B as Zn,C as Zu,D as Qu,E as Es,F as xs,G as Tb,H as Lb,I as On,J as or,K as ec,L as Is,N as kr,O as vn,P as dt,Q as ve,S as tc,T as cu,U as nc,V as p,W as Nn,X as Lr,_ as kt,Y as Or,Z as kn,a0 as Ps,a1 as Ob,a2 as Nb,a3 as kb,a4 as Db,a5 as Mb,a6 as jb,a7 as rc,a8 as Fb,a9 as Bb,aa as Kb,ab as Hb,ac as Ub,ad as Mi,ae as Wb,af as zb,ag as Gb,ah as du,ai as fu,aj as Vb,ak as qb,al as Yb,am as Jb,an as Xb,ao as Zb,ap as Qb,aq as hu,ar as As,as as Si,at as ji,au as ex,av as Oe,aw as ic,ax as pu,ay as Pr,az as Ar,aA as qe,aB as ft,aC as tx,aD as oc,aE as Ei,aF as nx,aG as sc,aH as ac,aI as rx,aJ as ix,aK as ox,aL as _r,aM as sx,aN as ax,aO as lx,aP as ux,aQ as cx,aR as dx,aS as fx,aT as hx,aU as px,aV as gx,aW as mx,aX as vx}from"./useThemeContext-CXEHnhK-.js";function bx(){const o=()=>()=>{};return b.useSyncExternalStore(o,()=>!0,()=>!1)}const xx=Symbol.for("react-aria.i18n.locale"),yx=Symbol.for("react-aria.i18n.strings");let Qn;class Fi{getStringForLocale(i,r){let l=this.getStringsForLocale(r)[i];if(!l)throw new Error(`Could not find intl message ${i} in ${r} locale`);return l}getStringsForLocale(i){let r=this.strings[i];return r||(r=_x(i,this.strings,this.defaultLocale),this.strings[i]=r),r}static getGlobalDictionaryForPackage(i){if(typeof window>"u")return null;let r=window[xx];if(Qn===void 0){let l=window[yx];if(!l)return null;Qn={};for(let c in l)Qn[c]=new Fi({[r]:l[c]},r)}let a=Qn?.[i];if(!a)throw new Error(`Strings for package "${i}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return a}constructor(i,r="en-US"){this.strings=Object.fromEntries(Object.entries(i).filter(([,a])=>a)),this.defaultLocale=r}}function _x(o,i,r="en-US"){if(i[o])return i[o];let a=wx(o);if(i[a])return i[a];for(let l in i)if(l.startsWith(a+"-"))return i[l];return i[r]}function wx(o){return Intl.Locale?new Intl.Locale(o).language:o.split("-")[0]}const gu=new Map,mu=new Map;class Cx{format(i,r){let a=this.strings.getStringForLocale(i,this.locale);return typeof a=="function"?a(r,this):a}plural(i,r,a="cardinal"){let l=r["="+i];if(l)return typeof l=="function"?l():l;let c=this.locale+":"+a,h=gu.get(c);h||(h=new Intl.PluralRules(this.locale,{type:a}),gu.set(c,h));let g=h.select(i);return l=r[g]||r.other,typeof l=="function"?l():l}number(i){let r=mu.get(this.locale);return r||(r=new Intl.NumberFormat(this.locale),mu.set(this.locale,r)),r.format(i)}select(i,r){let a=i[r]||i.other;return typeof a=="function"?a():a}constructor(i,r){this.locale=i,this.strings=r}}const vu=new WeakMap;function $x(o){let i=vu.get(o);return i||(i=new Fi(o),vu.set(o,i)),i}function Sx(o,i){return i&&Fi.getGlobalDictionaryForPackage(i)||$x(o)}function Ex(o,i){let{locale:r}=$s(),a=Sx(o,i);return b.useMemo(()=>new Cx(r,a),[r,a])}function Ix(){return typeof window.ResizeObserver<"u"}function bu(o){const{ref:i,box:r,onResize:a}=o;b.useEffect(()=>{let l=i?.current;if(l)if(Ix()){const c=new window.ResizeObserver(h=>{h.length&&a()});return c.observe(l,{box:r}),()=>{l&&c.unobserve(l)}}else return window.addEventListener("resize",a,!1),()=>{window.removeEventListener("resize",a,!1)}},[a,i,r])}function lc(o,i){let r=o;for(Li(r,i)&&(r=r.parentElement);r&&!Li(r,i);)r=r.parentElement;return r||document.scrollingElement||document.documentElement}let ds=new Map;function Px(o){let{locale:i}=$s(),r=i+(o?Object.entries(o).sort((l,c)=>l[0]<c[0]?-1:1).join():"");if(ds.has(r))return ds.get(r);let a=new Intl.Collator(i,o);return ds.set(r,a),a}const Ax=new Set(["opacity","clipPath","filter","transform"]),Rx={...mb,...gb,...pb,...hb},nn=vb(Rx,bb);class Tx extends xb{constructor(){super(...arguments),this.isEnabled=!1}add(i){(yb.has(i)||Ax.has(i))&&(this.isEnabled=!0,this.update())}update(){this.set(this.isEnabled?"transform":"auto")}}function Lx(){return _b(()=>new Tx("auto"))}const Kt={top:"top",bottom:"top",left:"left",right:"left"},Ni={top:"bottom",bottom:"top",left:"right",right:"left"},Ox={top:"left",left:"top"},ys={top:"height",left:"width"},uc={width:"totalWidth",height:"totalHeight"},Ii={};let Ke=typeof document<"u"?window.visualViewport:null;function xu(o){let i=0,r=0,a=0,l=0,c=0,h=0,g={};var m;let _=((m=Ke?.scale)!==null&&m!==void 0?m:1)>1;if(o.tagName==="BODY"){let I=document.documentElement;a=I.clientWidth,l=I.clientHeight;var y;i=(y=Ke?.width)!==null&&y!==void 0?y:a;var w;r=(w=Ke?.height)!==null&&w!==void 0?w:l,g.top=I.scrollTop||o.scrollTop,g.left=I.scrollLeft||o.scrollLeft,Ke&&(c=Ke.offsetTop,h=Ke.offsetLeft)}else({width:i,height:r,top:c,left:h}=tr(o)),g.top=o.scrollTop,g.left=o.scrollLeft,a=i,l=r;if(wb()&&(o.tagName==="BODY"||o.tagName==="HTML")&&_){g.top=0,g.left=0;var P;c=(P=Ke?.pageTop)!==null&&P!==void 0?P:0;var E;h=(E=Ke?.pageLeft)!==null&&E!==void 0?E:0}return{width:i,height:r,totalWidth:a,totalHeight:l,scroll:g,top:c,left:h}}function Nx(o){return{top:o.scrollTop,left:o.scrollLeft,width:o.scrollWidth,height:o.scrollHeight}}function yu(o,i,r,a,l,c,h){var g;let m=(g=l.scroll[o])!==null&&g!==void 0?g:0,_=a[ys[o]],y=a.scroll[Kt[o]]+c,w=_+a.scroll[Kt[o]]-c,P=i-m+h[o]-a[Kt[o]],E=i-m+r+h[o]-a[Kt[o]];return P<y?y-P:E>w?Math.max(w-E,y-P):0}function kx(o){let i=window.getComputedStyle(o);return{top:parseInt(i.marginTop,10)||0,bottom:parseInt(i.marginBottom,10)||0,left:parseInt(i.marginLeft,10)||0,right:parseInt(i.marginRight,10)||0}}function _u(o){if(Ii[o])return Ii[o];let[i,r]=o.split(" "),a=Kt[i]||"right",l=Ox[a];Kt[r]||(r="center");let c=ys[a],h=ys[l];return Ii[o]={placement:i,crossPlacement:r,axis:a,crossAxis:l,size:c,crossSize:h},Ii[o]}function fs(o,i,r,a,l,c,h,g,m,_){let{placement:y,crossPlacement:w,axis:P,crossAxis:E,size:I,crossSize:S}=a,R={};var D;R[E]=(D=o[E])!==null&&D!==void 0?D:0;var O,F,U,M;w==="center"?R[E]+=(((O=o[S])!==null&&O!==void 0?O:0)-((F=r[S])!==null&&F!==void 0?F:0))/2:w!==E&&(R[E]+=((U=o[S])!==null&&U!==void 0?U:0)-((M=r[S])!==null&&M!==void 0?M:0)),R[E]+=c;const k=o[E]-r[S]+m+_,K=o[E]+o[S]-m-_;if(R[E]=bs(R[E],k,K),y===P){const V=g?h[I]:i[uc[I]];R[Ni[P]]=Math.floor(V-o[P]+l)}else R[P]=Math.floor(o[P]+o[I]+l);return R}function Dx(o,i,r,a,l,c,h,g){const m=a?r.height:i[uc.height];var _;let y=o.top!=null?r.top+o.top:r.top+(m-((_=o.bottom)!==null&&_!==void 0?_:0)-h);var w,P,E,I,S,R;let D=g!=="top"?Math.max(0,i.height+i.top+((w=i.scroll.top)!==null&&w!==void 0?w:0)-y-(((P=l.top)!==null&&P!==void 0?P:0)+((E=l.bottom)!==null&&E!==void 0?E:0)+c)):Math.max(0,y+h-(i.top+((I=i.scroll.top)!==null&&I!==void 0?I:0))-(((S=l.top)!==null&&S!==void 0?S:0)+((R=l.bottom)!==null&&R!==void 0?R:0)+c));return Math.min(i.height-c*2,D)}function wu(o,i,r,a,l,c){let{placement:h,axis:g,size:m}=c;var _,y;if(h===g)return Math.max(0,r[g]-o[g]-((_=o.scroll[g])!==null&&_!==void 0?_:0)+i[g]-((y=a[g])!==null&&y!==void 0?y:0)-a[Ni[g]]-l);var w;return Math.max(0,o[m]+o[g]+o.scroll[g]-i[g]-r[g]-r[m]-((w=a[g])!==null&&w!==void 0?w:0)-a[Ni[g]]-l)}function Mx(o,i,r,a,l,c,h,g,m,_,y,w,P,E,I,S){let R=_u(o),{size:D,crossAxis:O,crossSize:F,placement:U,crossPlacement:M}=R,k=fs(i,g,r,R,y,w,_,P,I,S),K=y,V=wu(g,_,i,l,c+y,R);if(h&&a[D]>V){let me=_u(`${Ni[U]} ${M}`),Ae=fs(i,g,r,me,y,w,_,P,I,S);wu(g,_,i,l,c+y,me)>V&&(R=me,k=Ae,K=y)}let H="bottom";R.axis==="top"?R.placement==="top"?H="top":R.placement==="bottom"&&(H="bottom"):R.crossAxis==="top"&&(R.crossPlacement==="top"?H="bottom":R.crossPlacement==="bottom"&&(H="top"));let q=yu(O,k[O],r[F],g,m,c,_);k[O]+=q;let J=Dx(k,g,_,P,l,c,r.height,H);E&&E<J&&(J=E),r.height=Math.min(r.height,J),k=fs(i,g,r,R,K,w,_,P,I,S),q=yu(O,k[O],r[F],g,m,c,_),k[O]+=q;let W={},ee=i[O]+.5*i[F]-k[O]-l[Kt[O]];const te=I/2+S;var de,ae,re,G;const be=Kt[O]==="left"?((de=l.left)!==null&&de!==void 0?de:0)+((ae=l.right)!==null&&ae!==void 0?ae:0):((re=l.top)!==null&&re!==void 0?re:0)+((G=l.bottom)!==null&&G!==void 0?G:0),ie=r[F]-be-I/2-S,le=i[O]+I/2-(k[O]+l[Kt[O]]),Me=i[O]+i[F]-I/2-(k[O]+l[Kt[O]]),Pe=bs(ee,le,Me);return W[O]=bs(Pe,te,ie),{position:k,maxHeight:J,arrowOffsetLeft:W.left,arrowOffsetTop:W.top,placement:R.placement}}function jx(o){let{placement:i,targetNode:r,overlayNode:a,scrollNode:l,padding:c,shouldFlip:h,boundaryElement:g,offset:m,crossOffset:_,maxHeight:y,arrowSize:w=0,arrowBoundaryOffset:P=0}=o,E=a instanceof HTMLElement?Fx(a):document.documentElement,I=E===document.documentElement;const S=window.getComputedStyle(E).position;let R=!!S&&S!=="static",D=I?tr(r):Cu(r,E);if(!I){let{marginTop:W,marginLeft:ee}=window.getComputedStyle(r);D.top+=parseInt(W,10)||0,D.left+=parseInt(ee,10)||0}let O=tr(a),F=kx(a);var U,M;O.width+=((U=F.left)!==null&&U!==void 0?U:0)+((M=F.right)!==null&&M!==void 0?M:0);var k,K;O.height+=((k=F.top)!==null&&k!==void 0?k:0)+((K=F.bottom)!==null&&K!==void 0?K:0);let V=Nx(l),H=xu(g),q=xu(E),J=g.tagName==="BODY"?tr(E):Cu(E,g);return E.tagName==="HTML"&&g.tagName==="BODY"&&(q.scroll.top=0,q.scroll.left=0),Mx(i,D,O,V,F,c,h,H,q,J,m,_,R,y,w,P)}function tr(o){let{top:i,left:r,width:a,height:l}=o.getBoundingClientRect(),{scrollTop:c,scrollLeft:h,clientTop:g,clientLeft:m}=document.documentElement;return{top:i+c-g,left:r+h-m,width:a,height:l}}function Cu(o,i){let r=window.getComputedStyle(o),a;if(r.position==="fixed"){let{top:l,left:c,width:h,height:g}=o.getBoundingClientRect();a={top:l,left:c,width:h,height:g}}else{a=tr(o);let l=tr(i),c=window.getComputedStyle(i);l.top+=(parseInt(c.borderTopWidth,10)||0)-i.scrollTop,l.left+=(parseInt(c.borderLeftWidth,10)||0)-i.scrollLeft,a.top-=l.top,a.left-=l.left}return a.top-=parseInt(r.marginTop,10)||0,a.left-=parseInt(r.marginLeft,10)||0,a}function Fx(o){let i=o.offsetParent;if(i&&i===document.body&&window.getComputedStyle(i).position==="static"&&!$u(i)&&(i=document.documentElement),i==null)for(i=o.parentElement;i&&!$u(i);)i=i.parentElement;return i||document.documentElement}function $u(o){let i=window.getComputedStyle(o);return i.transform!=="none"||/transform|perspective/.test(i.willChange)||i.filter!=="none"||i.contain==="paint"||"backdropFilter"in i&&i.backdropFilter!=="none"||"WebkitBackdropFilter"in i&&i.WebkitBackdropFilter!=="none"}const Bx=new WeakMap;function Kx(o){let{triggerRef:i,isOpen:r,onClose:a}=o;b.useEffect(()=>{if(!r||a===null)return;let l=c=>{let h=c.target;if(!i.current||h instanceof Node&&!h.contains(i.current)||c.target instanceof HTMLInputElement||c.target instanceof HTMLTextAreaElement)return;let g=a||Bx.get(i.current);g&&g()};return window.addEventListener("scroll",l,!0),()=>{window.removeEventListener("scroll",l,!0)}},[r,a,i])}let De=typeof document<"u"?window.visualViewport:null;function Hx(o){let{direction:i}=$s(),{arrowSize:r=0,targetRef:a,overlayRef:l,scrollRef:c=l,placement:h="bottom",containerPadding:g=12,shouldFlip:m=!0,boundaryElement:_=typeof document<"u"?document.body:null,offset:y=0,crossOffset:w=0,shouldUpdatePosition:P=!0,isOpen:E=!0,onClose:I,maxHeight:S,arrowBoundaryOffset:R=0}=o,[D,O]=b.useState(null),F=[P,h,l.current,a.current,c.current,g,m,_,y,w,E,i,S,R,r],U=b.useRef(De?.scale);b.useEffect(()=>{E&&(U.current=De?.scale)},[E]);let M=b.useCallback(()=>{if(P===!1||!E||!l.current||!a.current||!_||De?.scale!==U.current)return;let q=null;if(c.current&&c.current.contains(document.activeElement)){var J;let G=(J=document.activeElement)===null||J===void 0?void 0:J.getBoundingClientRect(),be=c.current.getBoundingClientRect();var W;if(q={type:"top",offset:((W=G?.top)!==null&&W!==void 0?W:0)-be.top},q.offset>be.height/2){q.type="bottom";var ee;q.offset=((ee=G?.bottom)!==null&&ee!==void 0?ee:0)-be.bottom}}let te=l.current;if(!S&&l.current){var de;te.style.top="0px",te.style.bottom="";var ae;te.style.maxHeight=((ae=(de=window.visualViewport)===null||de===void 0?void 0:de.height)!==null&&ae!==void 0?ae:window.innerHeight)+"px"}let re=jx({placement:Wx(h,i),overlayNode:l.current,targetNode:a.current,scrollNode:c.current||l.current,padding:g,shouldFlip:m,boundaryElement:_,offset:y,crossOffset:w,maxHeight:S,arrowSize:r,arrowBoundaryOffset:R});if(re.position){if(te.style.top="",te.style.bottom="",te.style.left="",te.style.right="",Object.keys(re.position).forEach(G=>te.style[G]=re.position[G]+"px"),te.style.maxHeight=re.maxHeight!=null?re.maxHeight+"px":"",q&&document.activeElement&&c.current){let G=document.activeElement.getBoundingClientRect(),be=c.current.getBoundingClientRect(),ie=G[q.type]-be[q.type];c.current.scrollTop+=ie-q.offset}O(re)}},F);Tr(M,F),Ux(M),bu({ref:l,onResize:M}),bu({ref:a,onResize:M});let k=b.useRef(!1);Tr(()=>{let q,J=()=>{k.current=!0,clearTimeout(q),q=setTimeout(()=>{k.current=!1},500),M()},W=()=>{k.current&&J()};return De?.addEventListener("resize",J),De?.addEventListener("scroll",W),()=>{De?.removeEventListener("resize",J),De?.removeEventListener("scroll",W)}},[M]);let K=b.useCallback(()=>{k.current||I?.()},[I,k]);Kx({triggerRef:a,isOpen:E,onClose:I&&K});var V,H;return{overlayProps:{style:{position:"absolute",zIndex:1e5,...D?.position,maxHeight:(V=D?.maxHeight)!==null&&V!==void 0?V:"100vh"}},placement:(H=D?.placement)!==null&&H!==void 0?H:null,arrowProps:{"aria-hidden":"true",role:"presentation",style:{left:D?.arrowOffsetLeft,top:D?.arrowOffsetTop}},updatePosition:M}}function Ux(o){Tr(()=>(window.addEventListener("resize",o,!1),()=>{window.removeEventListener("resize",o,!1)}),[o])}function Wx(o,i){return i==="rtl"?o.replace("start","right").replace("end","left"):o.replace("start","left").replace("end","right")}function zx({children:o}){let i=b.useMemo(()=>({register:()=>{}}),[]);return nt.createElement(Cb.Provider,{value:i},o)}function Gx(o){let{ref:i,onInteractOutside:r,isDisabled:a,onInteractOutsideStart:l}=o,c=b.useRef({isPointerDown:!1,ignoreEmulatedMouseEvents:!1}),h=uu(m=>{r&&Su(m,i)&&(l&&l(m),c.current.isPointerDown=!0)}),g=uu(m=>{r&&r(m)});b.useEffect(()=>{let m=c.current;if(a)return;const _=i.current,y=$b(_);if(typeof PointerEvent<"u"){let w=P=>{m.isPointerDown&&Su(P,i)&&g(P),m.isPointerDown=!1};return y.addEventListener("pointerdown",h,!0),y.addEventListener("click",w,!0),()=>{y.removeEventListener("pointerdown",h,!0),y.removeEventListener("click",w,!0)}}},[i,a,h,g])}function Su(o,i){if(o.button>0)return!1;if(o.target){const r=o.target.ownerDocument;if(!r||!r.documentElement.contains(o.target)||o.target.closest("[data-react-aria-top-layer]"))return!1}return i.current?!o.composedPath().includes(i.current):!1}const hs=typeof document<"u"&&window.visualViewport,Vx=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Pi=0,ps;function qx(o={}){let{isDisabled:i}=o;Tr(()=>{if(!i)return Pi++,Pi===1&&(Sb()?ps=Jx():ps=Yx()),()=>{Pi--,Pi===0&&ps()}},[i])}function Yx(){let o=window.innerWidth-document.documentElement.clientWidth;return Oi(o>0&&("scrollbarGutter"in document.documentElement.style?Ln(document.documentElement,"scrollbarGutter","stable"):Ln(document.documentElement,"paddingRight",`${o}px`)),Ln(document.documentElement,"overflow","hidden"))}function Jx(){let o,i,r=_=>{o=lc(_.target,!0),!(o===document.documentElement&&o===document.body)&&o instanceof HTMLElement&&window.getComputedStyle(o).overscrollBehavior==="auto"&&(i=Ln(o,"overscrollBehavior","contain"))},a=_=>{if(!o||o===document.documentElement||o===document.body){_.preventDefault();return}o.scrollHeight===o.clientHeight&&o.scrollWidth===o.clientWidth&&_.preventDefault()},l=()=>{i&&i()},c=_=>{let y=_.target;Xx(y)&&(g(),y.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{y.style.transform="",hs&&(hs.height<window.innerHeight?requestAnimationFrame(()=>{Eu(y)}):hs.addEventListener("resize",()=>Eu(y),{once:!0}))}))},h=null,g=()=>{if(h)return;let _=()=>{window.scrollTo(0,0)},y=window.pageXOffset,w=window.pageYOffset;h=Oi(wr(window,"scroll",_),Ln(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`),Ln(document.documentElement,"overflow","hidden"),Ln(document.body,"marginTop",`-${w}px`),()=>{window.scrollTo(y,w)}),window.scrollTo(0,0)},m=Oi(wr(document,"touchstart",r,{passive:!1,capture:!0}),wr(document,"touchmove",a,{passive:!1,capture:!0}),wr(document,"touchend",l,{passive:!1,capture:!0}),wr(document,"focus",c,!0));return()=>{i?.(),h?.(),m()}}function Ln(o,i,r){let a=o.style[i];return o.style[i]=r,()=>{o.style[i]=a}}function wr(o,i,r,a){return o.addEventListener(i,r,a),()=>{o.removeEventListener(i,r,a)}}function Eu(o){let i=document.scrollingElement||document.documentElement,r=o;for(;r&&r!==i;){let a=lc(r);if(a!==document.documentElement&&a!==document.body&&a!==r){let l=a.getBoundingClientRect().top,c=r.getBoundingClientRect().top;c>l+r.clientHeight&&(a.scrollTop+=c-l)}r=a.parentElement}}function Xx(o){return o instanceof HTMLInputElement&&!Vx.has(o.type)||o instanceof HTMLTextAreaElement||o instanceof HTMLElement&&o.isContentEditable}var cc={};cc={dismiss:"تجاهل"};var dc={};dc={dismiss:"Отхвърляне"};var fc={};fc={dismiss:"Odstranit"};var hc={};hc={dismiss:"Luk"};var pc={};pc={dismiss:"Schließen"};var gc={};gc={dismiss:"Απόρριψη"};var mc={};mc={dismiss:"Dismiss"};var vc={};vc={dismiss:"Descartar"};var bc={};bc={dismiss:"Lõpeta"};var xc={};xc={dismiss:"Hylkää"};var yc={};yc={dismiss:"Rejeter"};var _c={};_c={dismiss:"התעלם"};var wc={};wc={dismiss:"Odbaci"};var Cc={};Cc={dismiss:"Elutasítás"};var $c={};$c={dismiss:"Ignora"};var Sc={};Sc={dismiss:"閉じる"};var Ec={};Ec={dismiss:"무시"};var Ic={};Ic={dismiss:"Atmesti"};var Pc={};Pc={dismiss:"Nerādīt"};var Ac={};Ac={dismiss:"Lukk"};var Rc={};Rc={dismiss:"Negeren"};var Tc={};Tc={dismiss:"Zignoruj"};var Lc={};Lc={dismiss:"Descartar"};var Oc={};Oc={dismiss:"Dispensar"};var Nc={};Nc={dismiss:"Revocare"};var kc={};kc={dismiss:"Пропустить"};var Dc={};Dc={dismiss:"Zrušiť"};var Mc={};Mc={dismiss:"Opusti"};var jc={};jc={dismiss:"Odbaci"};var Fc={};Fc={dismiss:"Avvisa"};var Bc={};Bc={dismiss:"Kapat"};var Kc={};Kc={dismiss:"Скасувати"};var Hc={};Hc={dismiss:"取消"};var Uc={};Uc={dismiss:"關閉"};var Wc={};Wc={"ar-AE":cc,"bg-BG":dc,"cs-CZ":fc,"da-DK":hc,"de-DE":pc,"el-GR":gc,"en-US":mc,"es-ES":vc,"et-EE":bc,"fi-FI":xc,"fr-FR":yc,"he-IL":_c,"hr-HR":wc,"hu-HU":Cc,"it-IT":$c,"ja-JP":Sc,"ko-KR":Ec,"lt-LT":Ic,"lv-LV":Pc,"nb-NO":Ac,"nl-NL":Rc,"pl-PL":Tc,"pt-BR":Lc,"pt-PT":Oc,"ro-RO":Nc,"ru-RU":kc,"sk-SK":Dc,"sl-SI":Mc,"sr-SP":jc,"sv-SE":Fc,"tr-TR":Bc,"uk-UA":Kc,"zh-CN":Hc,"zh-TW":Uc};const Iu={border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"};function Zx(o={}){let{style:i,isFocusable:r}=o,[a,l]=b.useState(!1),{focusWithinProps:c}=Xu({isDisabled:!r,onFocusWithinChange:g=>l(g)}),h=b.useMemo(()=>a?i:i?{...Iu,...i}:Iu,[a]);return{visuallyHiddenProps:{...c,style:h}}}function Qx(o){let{children:i,elementType:r="div",isFocusable:a,style:l,...c}=o,{visuallyHiddenProps:h}=Zx(o);return nt.createElement(r,ir(c,h),i)}function e1(o){return o&&o.__esModule?o.default:o}function Pu(o){let{onDismiss:i,...r}=o,a=Ex(e1(Wc),"@react-aria/overlays"),l=Eb(r,a.format("dismiss")),c=()=>{i&&i()};return nt.createElement(Qx,null,nt.createElement("button",{...l,tabIndex:-1,onClick:c,style:{width:1,height:1}}))}let Cr=new WeakMap,At=[];function t1(o,i=document.body){let r=new Set(o),a=new Set,l=m=>{for(let P of m.querySelectorAll("[data-live-announcer], [data-react-aria-top-layer]"))r.add(P);let _=P=>{if(r.has(P)||P.parentElement&&a.has(P.parentElement)&&P.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let E of r)if(P.contains(E))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},y=document.createTreeWalker(m,NodeFilter.SHOW_ELEMENT,{acceptNode:_}),w=_(m);if(w===NodeFilter.FILTER_ACCEPT&&c(m),w!==NodeFilter.FILTER_REJECT){let P=y.nextNode();for(;P!=null;)c(P),P=y.nextNode()}},c=m=>{var _;let y=(_=Cr.get(m))!==null&&_!==void 0?_:0;m.getAttribute("aria-hidden")==="true"&&y===0||(y===0&&m.setAttribute("aria-hidden","true"),a.add(m),Cr.set(m,y+1))};At.length&&At[At.length-1].disconnect(),l(i);let h=new MutationObserver(m=>{for(let _ of m)if(!(_.type!=="childList"||_.addedNodes.length===0)&&![...r,...a].some(y=>y.contains(_.target))){for(let y of _.removedNodes)y instanceof Element&&(r.delete(y),a.delete(y));for(let y of _.addedNodes)(y instanceof HTMLElement||y instanceof SVGElement)&&(y.dataset.liveAnnouncer==="true"||y.dataset.reactAriaTopLayer==="true")?r.add(y):y instanceof Element&&l(y)}});h.observe(i,{childList:!0,subtree:!0});let g={visibleNodes:r,hiddenNodes:a,observe(){h.observe(i,{childList:!0,subtree:!0})},disconnect(){h.disconnect()}};return At.push(g),()=>{h.disconnect();for(let m of a){let _=Cr.get(m);_!=null&&(_===1?(m.removeAttribute("aria-hidden"),Cr.delete(m)):Cr.set(m,_-1))}g===At[At.length-1]?(At.pop(),At.length&&At[At.length-1].observe()):At.splice(At.indexOf(g),1)}}const zc=nt.createContext(null);function n1(o){let i=Ib(),{portalContainer:r=i?null:document.body,isExiting:a}=o,[l,c]=b.useState(!1),h=b.useMemo(()=>({contain:l,setContain:c}),[l,c]),{getContainer:g}=Pb();if(!o.portalContainer&&g&&(r=g()),!r)return null;let m=o.children;return o.disableFocusManagement||(m=nt.createElement(Ab,{restoreFocus:!0,contain:(o.shouldContainFocus||l)&&!a},m)),m=nt.createElement(zc.Provider,{value:h},nt.createElement(zx,null,m)),Rb.createPortal(m,r)}function Gc(){let o=b.useContext(zc),i=o?.setContain;Tr(()=>{i?.(!0)},[i])}var Au=Nr({slots:{base:["z-0","relative","bg-transparent","before:content-['']","before:hidden","before:z-[-1]","before:absolute","before:rotate-45","before:w-2.5","before:h-2.5","before:rounded-sm","data-[arrow=true]:before:block","data-[placement=top]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top]:before:left-1/2","data-[placement=top]:before:-translate-x-1/2","data-[placement=top-start]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-start]:before:left-3","data-[placement=top-end]:before:-bottom-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=top-end]:before:right-3","data-[placement=bottom]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom]:before:left-1/2","data-[placement=bottom]:before:-translate-x-1/2","data-[placement=bottom-start]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-start]:before:left-3","data-[placement=bottom-end]:before:-top-[calc(theme(spacing.5)/4_-_1.5px)]","data-[placement=bottom-end]:before:right-3","data-[placement=left]:before:-right-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=left]:before:top-1/2","data-[placement=left]:before:-translate-y-1/2","data-[placement=left-start]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-start]:before:top-1/4","data-[placement=left-end]:before:-right-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=left-end]:before:bottom-1/4","data-[placement=right]:before:-left-[calc(theme(spacing.5)/4_-_2px)]","data-[placement=right]:before:top-1/2","data-[placement=right]:before:-translate-y-1/2","data-[placement=right-start]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-start]:before:top-1/4","data-[placement=right-end]:before:-left-[calc(theme(spacing.5)/4_-_3px)]","data-[placement=right-end]:before:bottom-1/4",...Ss],content:["z-10","px-2.5","py-1","w-full","inline-flex","flex-col","items-center","justify-center","box-border","subpixel-antialiased","outline-hidden","box-border"],trigger:["z-10"],backdrop:["hidden"],arrow:[]},variants:{size:{sm:{content:"text-tiny"},md:{content:"text-small"},lg:{content:"text-medium"}},color:{default:{base:"before:bg-content1 before:shadow-small",content:"bg-content1"},foreground:{base:"before:bg-foreground",content:Zn.solid.foreground},primary:{base:"before:bg-primary",content:Zn.solid.primary},secondary:{base:"before:bg-secondary",content:Zn.solid.secondary},success:{base:"before:bg-success",content:Zn.solid.success},warning:{base:"before:bg-warning",content:Zn.solid.warning},danger:{base:"before:bg-danger",content:Zn.solid.danger}},radius:{none:{content:"rounded-none"},sm:{content:"rounded-small"},md:{content:"rounded-medium"},lg:{content:"rounded-large"},full:{content:"rounded-full"}},shadow:{none:{content:"shadow-none"},sm:{content:"shadow-small"},md:{content:"shadow-medium"},lg:{content:"shadow-large"}},backdrop:{transparent:{},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-sm backdrop-saturate-150 bg-overlay/30"}},triggerScaleOnOpen:{true:{trigger:["aria-expanded:scale-[0.97]","aria-expanded:opacity-70","subpixel-antialiased"]},false:{}},disableAnimation:{true:{base:"animate-none"}},isTriggerDisabled:{true:{trigger:"opacity-disabled pointer-events-none"},false:{}}},defaultVariants:{color:"default",radius:"lg",size:"md",shadow:"md",backdrop:"transparent",triggerScaleOnOpen:!0},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"block w-full h-full fixed inset-0 -z-30"}}]}),Ru=Nr({slots:{wrapper:["flex","w-screen","h-[100dvh]","fixed","inset-0","z-50","overflow-x-auto","justify-center","h-[--visual-viewport-height]"],base:["flex","flex-col","relative","bg-white","z-50","w-full","box-border","bg-content1","outline-hidden","mx-1","my-1","sm:mx-6","sm:my-16"],backdrop:"z-50",header:"flex py-4 px-6 flex-initial text-large font-semibold",body:"flex flex-1 flex-col gap-3 px-6 py-2",footer:"flex flex-row gap-2 px-6 py-4 justify-end",closeButton:["absolute","appearance-none","outline-hidden","select-none","top-1","end-1","p-2","text-foreground-500","rounded-full","hover:bg-default-100","active:bg-default-200","tap-highlight-transparent",...Ss]},variants:{size:{xs:{base:"max-w-xs"},sm:{base:"max-w-sm"},md:{base:"max-w-md"},lg:{base:"max-w-lg"},xl:{base:"max-w-xl"},"2xl":{base:"max-w-2xl"},"3xl":{base:"max-w-3xl"},"4xl":{base:"max-w-4xl"},"5xl":{base:"max-w-5xl"},full:{base:"my-0 mx-0 sm:mx-0 sm:my-0 max-w-full h-[100dvh] min-h-[100dvh] !rounded-none"}},radius:{none:{base:"rounded-none"},sm:{base:"rounded-small"},md:{base:"rounded-medium"},lg:{base:"rounded-large"}},placement:{auto:{wrapper:"items-end sm:items-center"},center:{wrapper:"items-center sm:items-center"},top:{wrapper:"items-start sm:items-start"},"top-center":{wrapper:"items-start sm:items-center"},bottom:{wrapper:"items-end sm:items-end"},"bottom-center":{wrapper:"items-end sm:items-center"}},shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},backdrop:{transparent:{backdrop:"hidden"},opaque:{backdrop:"bg-overlay/50 backdrop-opacity-disabled"},blur:{backdrop:"backdrop-blur-md backdrop-saturate-150 bg-overlay/30"}},scrollBehavior:{normal:{base:"overflow-y-hidden"},inside:{base:"max-h-[calc(100%_-_8rem)]",body:"overflow-y-auto"},outside:{wrapper:"items-start sm:items-start overflow-y-auto",base:"my-16"}},disableAnimation:{false:{wrapper:["[--scale-enter:100%]","[--scale-exit:100%]","[--slide-enter:0px]","[--slide-exit:80px]","sm:[--scale-enter:100%]","sm:[--scale-exit:103%]","sm:[--slide-enter:0px]","sm:[--slide-exit:0px]"]}}},defaultVariants:{size:"md",radius:"lg",shadow:"sm",placement:"auto",backdrop:"opaque",scrollBehavior:"normal"},compoundVariants:[{backdrop:["opaque","blur"],class:{backdrop:"w-screen h-screen fixed inset-0"}}]}),Tu=Nr({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-shimmer","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),r1=Nr({base:"px-2",variants:{variant:{light:"",shadow:"px-4 shadow-medium rounded-medium bg-content1",bordered:"px-4 border-medium border-divider rounded-medium",splitted:"flex flex-col gap-2"},fullWidth:{true:"w-full"}},defaultVariants:{variant:"light",fullWidth:!0}}),i1=Nr({slots:{base:"",heading:"",trigger:["flex py-4 w-full h-full gap-3 outline-hidden items-center tap-highlight-transparent",...Ss],startContent:"shrink-0",indicator:"text-default-400",titleWrapper:"flex-1 flex flex-col text-start",title:"text-foreground text-medium",subtitle:"text-small text-foreground-500 font-normal",content:"py-2"},variants:{variant:{splitted:{base:"px-4 bg-content1 shadow-medium rounded-medium"}},isCompact:{true:{trigger:"py-2",title:"text-medium",subtitle:"text-small",indicator:"text-medium",content:"py-1"}},isDisabled:{true:{base:"opacity-disabled pointer-events-none"}},hideIndicator:{true:{indicator:"hidden"}},disableAnimation:{true:{content:"hidden data-[open=true]:block"},false:{indicator:"transition-transform",trigger:"transition-opacity"}},disableIndicatorAnimation:{true:{indicator:"transition-none"},false:{indicator:"rotate-0 data-[open=true]:-rotate-90 rtl:-rotate-180 rtl:data-[open=true]:-rotate-90"}}},defaultVariants:{size:"md",radius:"lg",isDisabled:!1,hideIndicator:!1,disableIndicatorAnimation:!1}});function o1(o,i){let{elementType:r="button",isDisabled:a,onPress:l,onPressStart:c,onPressEnd:h,onPressUp:g,onPressChange:m,preventFocusOnPress:_,allowFocusWhenDisabled:y,onClick:w,href:P,target:E,rel:I,type:S="button"}=o,R;r==="button"?R={type:S,disabled:a}:R={role:"button",href:r==="a"&&!a?P:void 0,target:r==="a"?E:void 0,type:r==="input"?S:void 0,disabled:r==="input"?a:void 0,"aria-disabled":!a||r==="input"?void 0:a,rel:r==="a"?I:void 0};let{pressProps:D,isPressed:O}=Zu({onPressStart:c,onPressEnd:h,onPressChange:m,onPress:l,onPressUp:g,onClick:w,isDisabled:a,preventFocusOnPress:_,ref:i}),{focusableProps:F}=Qu(o,i);y&&(F.tabIndex=a?-1:F.tabIndex);let U=ir(F,D,Es(o,{labelable:!0}));return{isPressed:O,buttonProps:ir(R,U,{"aria-haspopup":o["aria-haspopup"],"aria-expanded":o["aria-expanded"],"aria-controls":o["aria-controls"],"aria-pressed":o["aria-pressed"],"aria-current":o["aria-current"]})}}function s1(o,i,r){let{item:a,isDisabled:l}=o,c=a.key,h=i.selectionManager,g=b.useId(),m=b.useId(),_=i.disabledKeys.has(a.key)||l;b.useEffect(()=>{c===i.focusedKey&&document.activeElement!==r.current&&r.current&&xs(r.current)},[r,c,i.focusedKey]);let y=b.useCallback(S=>{h.canSelectItem(c)&&(h.select(c,S),i.toggleKey(c))},[c,h]);const w=b.useCallback(S=>{h.selectionBehavior==="replace"&&h.extendSelection(S),h.setFocusedKey(S)},[h]),P=b.useCallback(S=>{const D={ArrowDown:()=>{const O=i.collection.getKeyAfter(c);if(O&&i.disabledKeys.has(O)){const F=i.collection.getKeyAfter(O);F&&w(F)}else O&&w(O)},ArrowUp:()=>{const O=i.collection.getKeyBefore(c);if(O&&i.disabledKeys.has(O)){const F=i.collection.getKeyBefore(O);F&&w(F)}else O&&w(O)},Home:()=>{const O=i.collection.getFirstKey();O&&w(O)},End:()=>{const O=i.collection.getLastKey();O&&w(O)}}[S.key];D&&(S.preventDefault(),h.canSelectItem(c)&&D(S))},[c,h]);let{buttonProps:E}=o1({id:g,elementType:"button",isDisabled:_,onKeyDown:P,onPress:y},r),I=i.selectionManager.isSelected(a.key);return{buttonProps:{...E,"aria-expanded":I,"aria-controls":I?m:void 0},regionProps:{id:m,role:"region","aria-labelledby":g}}}class Lu{getItemRect(i){let r=this.ref.current;if(!r)return null;let a=i!=null?Tb(this.ref,i):null;if(!a)return null;let l=r.getBoundingClientRect(),c=a.getBoundingClientRect();return{x:c.left-l.left+r.scrollLeft,y:c.top-l.top+r.scrollTop,width:c.width,height:c.height}}getContentSize(){let i=this.ref.current;var r,a;return{width:(r=i?.scrollWidth)!==null&&r!==void 0?r:0,height:(a=i?.scrollHeight)!==null&&a!==void 0?a:0}}getVisibleRect(){let i=this.ref.current;var r,a,l,c;return{x:(r=i?.scrollLeft)!==null&&r!==void 0?r:0,y:(a=i?.scrollTop)!==null&&a!==void 0?a:0,width:(l=i?.offsetWidth)!==null&&l!==void 0?l:0,height:(c=i?.offsetHeight)!==null&&c!==void 0?c:0}}constructor(i){this.ref=i}}class a1{isDisabled(i){var r;return this.disabledBehavior==="all"&&(((r=i.props)===null||r===void 0?void 0:r.isDisabled)||this.disabledKeys.has(i.key))}findNextNonDisabled(i,r){let a=i;for(;a!=null;){let l=this.collection.getItem(a);if(l?.type==="item"&&!this.isDisabled(l))return a;a=r(a)}return null}getNextKey(i){let r=i;return r=this.collection.getKeyAfter(r),this.findNextNonDisabled(r,a=>this.collection.getKeyAfter(a))}getPreviousKey(i){let r=i;return r=this.collection.getKeyBefore(r),this.findNextNonDisabled(r,a=>this.collection.getKeyBefore(a))}findKey(i,r,a){let l=i,c=this.layoutDelegate.getItemRect(l);if(!c||l==null)return null;let h=c;do{if(l=r(l),l==null)break;c=this.layoutDelegate.getItemRect(l)}while(c&&a(h,c)&&l!=null);return l}isSameRow(i,r){return i.y===r.y||i.x!==r.x}isSameColumn(i,r){return i.x===r.x||i.y!==r.y}getKeyBelow(i){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(i,r=>this.getNextKey(r),this.isSameRow):this.getNextKey(i)}getKeyAbove(i){return this.layout==="grid"&&this.orientation==="vertical"?this.findKey(i,r=>this.getPreviousKey(r),this.isSameRow):this.getPreviousKey(i)}getNextColumn(i,r){return r?this.getPreviousKey(i):this.getNextKey(i)}getKeyRightOf(i){let r=this.direction==="ltr"?"getKeyRightOf":"getKeyLeftOf";return this.layoutDelegate[r]?(i=this.layoutDelegate[r](i),this.findNextNonDisabled(i,a=>this.layoutDelegate[r](a))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(i,this.direction==="rtl"):this.findKey(i,a=>this.getNextColumn(a,this.direction==="rtl"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(i,this.direction==="rtl"):null}getKeyLeftOf(i){let r=this.direction==="ltr"?"getKeyLeftOf":"getKeyRightOf";return this.layoutDelegate[r]?(i=this.layoutDelegate[r](i),this.findNextNonDisabled(i,a=>this.layoutDelegate[r](a))):this.layout==="grid"?this.orientation==="vertical"?this.getNextColumn(i,this.direction==="ltr"):this.findKey(i,a=>this.getNextColumn(a,this.direction==="ltr"),this.isSameColumn):this.orientation==="horizontal"?this.getNextColumn(i,this.direction==="ltr"):null}getFirstKey(){let i=this.collection.getFirstKey();return this.findNextNonDisabled(i,r=>this.collection.getKeyAfter(r))}getLastKey(){let i=this.collection.getLastKey();return this.findNextNonDisabled(i,r=>this.collection.getKeyBefore(r))}getKeyPageAbove(i){let r=this.ref.current,a=this.layoutDelegate.getItemRect(i);if(!a)return null;if(r&&!Li(r))return this.getFirstKey();let l=i;if(this.orientation==="horizontal"){let c=Math.max(0,a.x+a.width-this.layoutDelegate.getVisibleRect().width);for(;a&&a.x>c&&l!=null;)l=this.getKeyAbove(l),a=l==null?null:this.layoutDelegate.getItemRect(l)}else{let c=Math.max(0,a.y+a.height-this.layoutDelegate.getVisibleRect().height);for(;a&&a.y>c&&l!=null;)l=this.getKeyAbove(l),a=l==null?null:this.layoutDelegate.getItemRect(l)}return l??this.getFirstKey()}getKeyPageBelow(i){let r=this.ref.current,a=this.layoutDelegate.getItemRect(i);if(!a)return null;if(r&&!Li(r))return this.getLastKey();let l=i;if(this.orientation==="horizontal"){let c=Math.min(this.layoutDelegate.getContentSize().width,a.y-a.width+this.layoutDelegate.getVisibleRect().width);for(;a&&a.x<c&&l!=null;)l=this.getKeyBelow(l),a=l==null?null:this.layoutDelegate.getItemRect(l)}else{let c=Math.min(this.layoutDelegate.getContentSize().height,a.y-a.height+this.layoutDelegate.getVisibleRect().height);for(;a&&a.y<c&&l!=null;)l=this.getKeyBelow(l),a=l==null?null:this.layoutDelegate.getItemRect(l)}return l??this.getLastKey()}getKeyForSearch(i,r){if(!this.collator)return null;let a=this.collection,l=r||this.getFirstKey();for(;l!=null;){let c=a.getItem(l);if(!c)return null;let h=c.textValue.slice(0,i.length);if(c.textValue&&this.collator.compare(h,i)===0)return l;l=this.getNextKey(l)}return null}constructor(...i){if(i.length===1){let r=i[0];this.collection=r.collection,this.ref=r.ref,this.collator=r.collator,this.disabledKeys=r.disabledKeys||new Set,this.disabledBehavior=r.disabledBehavior||"all",this.orientation=r.orientation||"vertical",this.direction=r.direction,this.layout=r.layout||"stack",this.layoutDelegate=r.layoutDelegate||new Lu(r.ref)}else this.collection=i[0],this.disabledKeys=i[1],this.ref=i[2],this.collator=i[3],this.layout="stack",this.orientation="vertical",this.disabledBehavior="all",this.layoutDelegate=new Lu(this.ref);this.layout==="stack"&&this.orientation==="vertical"&&(this.getKeyLeftOf=void 0,this.getKeyRightOf=void 0)}}function l1(o){let{selectionManager:i,collection:r,disabledKeys:a,ref:l,keyboardDelegate:c,layoutDelegate:h}=o,g=Px({usage:"search",sensitivity:"base"}),m=i.disabledBehavior,_=b.useMemo(()=>c||new a1({collection:r,disabledKeys:a,disabledBehavior:m,ref:l,collator:g,layoutDelegate:h}),[c,h,r,a,l,g,m]),{collectionProps:y}=Lb({...o,ref:l,selectionManager:i,keyboardDelegate:_});return{listProps:y}}function u1(o,i,r){let{listProps:a}=l1({...o,...i,allowsTabNavigation:!0,disallowSelectAll:!0,ref:r});return delete a.onKeyDownCapture,{accordionProps:{...a,tabIndex:void 0}}}function c1(o){var i,r;const a=On(),{ref:l,as:c,item:h,onFocusChange:g}=o,{state:m,className:_,indicator:y,children:w,title:P,subtitle:E,startContent:I,motionProps:S,focusedKey:R,variant:D,isCompact:O=!1,classNames:F={},isDisabled:U=!1,hideIndicator:M=!1,disableAnimation:k=(i=a?.disableAnimation)!=null?i:!1,keepContentMounted:K=!1,disableIndicatorAnimation:V=!1,HeadingComponent:H=c||"h2",onPress:q,onPressStart:J,onPressEnd:W,onPressChange:ee,onPressUp:te,onClick:de,...ae}=o,re=c||"div",G=typeof re=="string",be=or(l),ie=m.disabledKeys.has(h.key)||U,le=m.selectionManager.isSelected(h.key),{buttonProps:Me,regionProps:Pe}=s1({item:h,isDisabled:ie},{...m,focusedKey:R},be),{onFocus:me,onBlur:Ae,...Re}=Me,{isFocused:Dt,isFocusVisible:it,focusProps:xe}=ec({autoFocus:(r=h.props)==null?void 0:r.autoFocus}),{isHovered:ot,hoverProps:Ye}=Is({isDisabled:ie}),{pressProps:st,isPressed:Dn}=Zu({ref:be,isDisabled:ie,onPress:q,onPressStart:J,onPressEnd:W,onPressChange:ee,onPressUp:te}),Je=b.useCallback(()=>{g?.(!0,h.key)},[]),Ut=b.useCallback(()=>{g?.(!1,h.key)},[]),oe=b.useMemo(()=>({...F}),[kr(F)]),we=b.useMemo(()=>i1({isCompact:O,isDisabled:ie,hideIndicator:M,disableAnimation:k,disableIndicatorAnimation:V,variant:D}),[O,ie,M,k,V,D]),rn=vn(oe?.base,_),Ki=b.useCallback((Xe={})=>({"data-open":ve(le),"data-disabled":ve(ie),"data-slot":"base",className:we.base({class:rn}),...dt(tc(ae,{enabled:G}),Xe)}),[rn,G,ae,we,h.props,le,ie]),bn=(Xe={})=>{var on,Wt;return{ref:be,"data-open":ve(le),"data-focus":ve(Dt),"data-focus-visible":ve(it),"data-disabled":ve(ie),"data-hover":ve(ot),"data-pressed":ve(Dn),"data-slot":"trigger",className:we.trigger({class:oe?.trigger}),onFocus:cu(Je,me,xe.onFocus,ae.onFocus,(on=h.props)==null?void 0:on.onFocus),onBlur:cu(Ut,Ae,xe.onBlur,ae.onBlur,(Wt=h.props)==null?void 0:Wt.onBlur),...dt(Re,Ye,st,Xe,{onClick:nc(st.onClick,de)})}},ht=b.useCallback((Xe={})=>({"data-open":ve(le),"data-disabled":ve(ie),"data-slot":"content",className:we.content({class:oe?.content}),...dt(Pe,Xe)}),[we,oe,Pe,le,ie,oe?.content]),xn=b.useCallback((Xe={})=>({"aria-hidden":ve(!0),"data-open":ve(le),"data-disabled":ve(ie),"data-slot":"indicator",className:we.indicator({class:oe?.indicator}),...Xe}),[we,oe?.indicator,le,ie,oe?.indicator]),Mn=b.useCallback((Xe={})=>({"data-open":ve(le),"data-disabled":ve(ie),"data-slot":"heading",className:we.heading({class:oe?.heading}),...Xe}),[we,oe?.heading,le,ie,oe?.heading]),Hi=b.useCallback((Xe={})=>({"data-open":ve(le),"data-disabled":ve(ie),"data-slot":"title",className:we.title({class:oe?.title}),...Xe}),[we,oe?.title,le,ie,oe?.title]),yn=b.useCallback((Xe={})=>({"data-open":ve(le),"data-disabled":ve(ie),"data-slot":"subtitle",className:we.subtitle({class:oe?.subtitle}),...Xe}),[we,oe,le,ie,oe?.subtitle]);return{Component:re,HeadingComponent:H,item:h,slots:we,classNames:oe,domRef:be,indicator:y,children:w,title:P,subtitle:E,startContent:I,isOpen:le,isDisabled:ie,hideIndicator:M,keepContentMounted:K,disableAnimation:k,motionProps:S,getBaseProps:Ki,getHeadingProps:Mn,getButtonProps:bn,getContentProps:ht,getIndicatorProps:xn,getTitleProps:Hi,getSubtitleProps:yn}}var Ou=o=>p.jsx("svg",{"aria-hidden":"true",fill:"none",focusable:"false",height:"1em",role:"presentation",viewBox:"0 0 24 24",width:"1em",...o,children:p.jsx("path",{d:"M15.5 19l-7-7 7-7",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})}),d1=o=>{const{isSelected:i,isIndeterminate:r,disableAnimation:a,...l}=o;return p.jsx("svg",{"aria-hidden":"true",className:"fill-current",fill:"none",focusable:"false",height:"1em",role:"presentation",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,viewBox:"0 0 24 24",width:"1em",...l,children:p.jsx("path",{d:"M18 6L6 18M6 6l12 12"})})},Rr={ease:[.36,.66,.4,1]},ki={scaleSpring:{enter:{transform:"scale(1)",opacity:1,transition:{type:"spring",bounce:0,duration:.2}},exit:{transform:"scale(0.85)",opacity:0,transition:{type:"easeOut",duration:.15}}},scaleSpringOpacity:{initial:{opacity:0,transform:"scale(0.8)"},enter:{opacity:1,transform:"scale(1)",transition:{type:"spring",bounce:0,duration:.3}},exit:{opacity:0,transform:"scale(0.96)",transition:{type:"easeOut",bounce:0,duration:.15}}},fade:{enter:{opacity:1,transition:{duration:.4,ease:Rr.ease}},exit:{opacity:0,transition:{duration:.3,ease:Rr.ease}}},collapse:{enter:{opacity:1,height:"auto",transition:{height:{type:"spring",bounce:0,duration:.3},opacity:{easings:"ease",duration:.4}}},exit:{opacity:0,height:0,transition:{easings:"ease",duration:.3}}}},Nu=()=>kt(()=>import("./index-Cfivfv5E.js"),__vite__mapDeps([0,1,2,3])).then(o=>o.default),Vc=Nn((o,i)=>{const{Component:r,HeadingComponent:a,classNames:l,slots:c,indicator:h,children:g,title:m,subtitle:_,startContent:y,isOpen:w,isDisabled:P,hideIndicator:E,keepContentMounted:I,disableAnimation:S,motionProps:R,getBaseProps:D,getHeadingProps:O,getButtonProps:F,getTitleProps:U,getSubtitleProps:M,getContentProps:k,getIndicatorProps:K}=c1({...o,ref:i}),V=Lx(),q=b.useMemo(()=>typeof h=="function"?h({indicator:p.jsx(Ou,{}),isOpen:w,isDisabled:P}):h||null,[h,w,P])||p.jsx(Ou,{}),J=b.useMemo(()=>{if(S)return I?p.jsx("div",{...k(),children:g}):w&&p.jsx("div",{...k(),children:g});const W={exit:{...ki.collapse.exit,overflowY:"hidden"},enter:{...ki.collapse.enter,overflowY:"unset"}};return I?p.jsx(Lr,{features:Nu,children:p.jsx(Or.section,{animate:w?"enter":"exit",exit:"exit",initial:"exit",style:{willChange:V},variants:W,onKeyDown:ee=>{ee.stopPropagation()},...R,children:p.jsx("div",{...k(),children:g})},"accordion-content")}):p.jsx(kn,{initial:!1,children:w&&p.jsx(Lr,{features:Nu,children:p.jsx(Or.section,{animate:"enter",exit:"exit",initial:"exit",style:{willChange:V},variants:W,onKeyDown:ee=>{ee.stopPropagation()},...R,children:p.jsx("div",{...k(),children:g})},"accordion-content")})})},[w,S,I,g,R]);return p.jsxs(r,{...D(),children:[p.jsx(a,{...O(),children:p.jsxs("button",{...F(),children:[y&&p.jsx("div",{className:c.startContent({class:l?.startContent}),children:y}),p.jsxs("div",{className:c.titleWrapper({class:l?.titleWrapper}),children:[m&&p.jsx("span",{...U(),children:m}),_&&p.jsx("span",{...M(),children:_})]}),!E&&q&&p.jsx("span",{...K(),children:q})]})}),J]})});Vc.displayName="HeroUI.AccordionItem";var f1=Vc;class h1{*[Symbol.iterator](){yield*this.iterable}get size(){return this.keyMap.size}getKeys(){return this.keyMap.keys()}getKeyBefore(i){let r=this.keyMap.get(i);var a;return r&&(a=r.prevKey)!==null&&a!==void 0?a:null}getKeyAfter(i){let r=this.keyMap.get(i);var a;return r&&(a=r.nextKey)!==null&&a!==void 0?a:null}getFirstKey(){return this.firstKey}getLastKey(){return this.lastKey}getItem(i){var r;return(r=this.keyMap.get(i))!==null&&r!==void 0?r:null}at(i){const r=[...this.getKeys()];return this.getItem(r[i])}constructor(i,{expandedKeys:r}={}){this.keyMap=new Map,this.firstKey=null,this.lastKey=null,this.iterable=i,r=r||new Set;let a=g=>{if(this.keyMap.set(g.key,g),g.childNodes&&(g.type==="section"||r.has(g.key)))for(let m of g.childNodes)a(m)};for(let g of i)a(g);let l=null,c=0;for(let[g,m]of this.keyMap)l?(l.nextKey=g,m.prevKey=l.key):(this.firstKey=g,m.prevKey=void 0),m.type==="item"&&(m.index=c++),l=m,l.nextKey=void 0;var h;this.lastKey=(h=l?.key)!==null&&h!==void 0?h:null}}function p1(o){let{onExpandedChange:i}=o,[r,a]=Ps(o.expandedKeys?new Set(o.expandedKeys):void 0,o.defaultExpandedKeys?new Set(o.defaultExpandedKeys):new Set,i),l=Ob(o),c=b.useMemo(()=>o.disabledKeys?new Set(o.disabledKeys):new Set,[o.disabledKeys]),h=Nb(o,b.useCallback(m=>new h1(m,{expandedKeys:r}),[r]),null);return b.useEffect(()=>{l.focusedKey!=null&&!h.getItem(l.focusedKey)&&l.setFocusedKey(null)},[h,l.focusedKey]),{collection:h,expandedKeys:r,disabledKeys:c,toggleKey:m=>{a(g1(r,m))},setExpandedKeys:a,selectionManager:new kb(h,l)}}function g1(o,i){let r=new Set(o);return r.has(i)?r.delete(i):r.add(i),r}function m1(o){var i;const r=On(),{ref:a,as:l,className:c,items:h,variant:g,motionProps:m,expandedKeys:_,disabledKeys:y,selectedKeys:w,children:P,defaultExpandedKeys:E,selectionMode:I="single",selectionBehavior:S="toggle",keepContentMounted:R=!1,disallowEmptySelection:D,defaultSelectedKeys:O,onExpandedChange:F,onSelectionChange:U,dividerProps:M={},isCompact:k=!1,isDisabled:K=!1,showDivider:V=!0,hideIndicator:H=!1,disableAnimation:q=(i=r?.disableAnimation)!=null?i:!1,disableIndicatorAnimation:J=!1,itemClasses:W,...ee}=o,[te,de]=b.useState(null),ae=l||"div",re=typeof ae=="string",G=or(a),be=b.useMemo(()=>r1({variant:g,className:c}),[g,c]),le={children:b.useMemo(()=>{let xe=[];return nt.Children.map(P,ot=>{var Ye;if(nt.isValidElement(ot)&&typeof((Ye=ot.props)==null?void 0:Ye.children)!="string"){const st=nt.cloneElement(ot,{hasChildItems:!1});xe.push(st)}else xe.push(ot)}),xe},[P]),items:h},Me={expandedKeys:_,defaultExpandedKeys:E,onExpandedChange:F},Pe={disabledKeys:y,selectedKeys:w,selectionMode:I,selectionBehavior:S,disallowEmptySelection:D,defaultSelectedKeys:O??E,onSelectionChange:U,...le,...Me},me=p1(Pe);me.selectionManager.setFocusedKey=xe=>{de(xe)};const{accordionProps:Ae}=u1({...le,...Me},me,G),Re=b.useMemo(()=>({state:me,focusedKey:te,motionProps:m,isCompact:k,isDisabled:K,hideIndicator:H,disableAnimation:q,keepContentMounted:R,disableIndicatorAnimation:J}),[te,k,K,H,w,q,R,me?.expandedKeys.values,J,me.expandedKeys.size,me.disabledKeys.size,m]),Dt=b.useCallback((xe={})=>({ref:G,className:be,"data-orientation":"vertical",...dt(Ae,tc(ee,{enabled:re}),xe)}),[]),it=b.useCallback((xe,ot)=>{xe&&de(ot)},[]);return{Component:ae,values:Re,state:me,focusedKey:te,getBaseProps:Dt,isSplitted:g==="splitted",classNames:be,showDivider:V,dividerProps:M,disableAnimation:q,handleFocusChanged:it,itemClasses:W}}var qc=Nn((o,i)=>{const{Component:r,values:a,state:l,isSplitted:c,showDivider:h,getBaseProps:g,disableAnimation:m,handleFocusChanged:_,itemClasses:y,dividerProps:w}=m1({...o,ref:i}),P=b.useCallback((I,S)=>_(I,S),[_]),E=b.useMemo(()=>[...l.collection].map((I,S)=>{const R={...y,...I.props.classNames||{}};return p.jsxs(b.Fragment,{children:[p.jsx(f1,{item:I,variant:o.variant,onFocusChange:P,...a,...I.props,classNames:R}),!I.props.hidden&&!c&&h&&S<l.collection.size-1&&p.jsx(Db,{...w})]},I.key)}),[a,y,P,c,h,l.collection]);return p.jsx(r,{...g(),children:m?E:p.jsx(Mb,{children:E})})});qc.displayName="HeroUI.Accordion";var ku=qc,v1=o=>{const i={top:{originY:1},bottom:{originY:0},left:{originX:1},right:{originX:0},"top-start":{originX:0,originY:1},"top-end":{originX:1,originY:1},"bottom-start":{originX:0,originY:0},"bottom-end":{originX:1,originY:0},"right-start":{originX:0,originY:0},"right-end":{originX:0,originY:1},"left-start":{originX:1,originY:0},"left-end":{originX:1,originY:1}};return i?.[o]||{}},b1=o=>({top:"top",bottom:"bottom",left:"left",right:"right","top-start":"top start","top-end":"top end","bottom-start":"bottom start","bottom-end":"bottom end","left-start":"left top","left-end":"left bottom","right-start":"right top","right-end":"right bottom"})[o],P_=(o,i)=>{if(i.includes("-")){const[r]=i.split("-");if(r.includes(o))return!1}return!0},Du=(o,i)=>{if(i.includes("-")){const[,r]=i.split("-");return`${o}-${r}`}return o},x1=jb,$r=x1;function y1(o={}){const{onLoad:i,onError:r,ignoreFallback:a,src:l,crossOrigin:c,srcSet:h,sizes:g,loading:m,shouldBypassImageLoad:_=!1}=o,y=bx(),w=b.useRef(y?new Image:null),[P,E]=b.useState("pending");b.useEffect(()=>{w.current&&(w.current.onload=R=>{I(),E("loaded"),i?.(R)},w.current.onerror=R=>{I(),E("failed"),r?.(R)})},[w.current]);const I=()=>{w.current&&(w.current.onload=null,w.current.onerror=null,w.current=null)},S=b.useCallback(()=>{if(!l)return"pending";if(a||_)return"loaded";const R=new Image;return R.src=l,c&&(R.crossOrigin=c),h&&(R.srcset=h),g&&(R.sizes=g),m&&(R.loading=m),w.current=R,R.complete&&R.naturalWidth?"loaded":"loading"},[l,c,h,g,i,r,m,_]);return rc(()=>{y&&E(S())},[y,S]),a?"loaded":P}var _1=b.forwardRef(function(i,r){var a,l;const c=On(),h=(l=(a=i.validationBehavior)!=null?a:c?.validationBehavior)!=null?l:"native";return p.jsx(Fb,{...i,ref:r,validationBehavior:h})});function Yc(o){let[i,r]=Ps(o.isOpen,o.defaultOpen||!1,o.onOpenChange);const a=b.useCallback(()=>{r(!0)},[r]),l=b.useCallback(()=>{r(!1)},[r]),c=b.useCallback(()=>{r(!i)},[r,i]);return{isOpen:i,setOpen:r,open:a,close:l,toggle:c}}const w1=1500,Mu=500;let Rn={},C1=0,Sr=!1,en=null,Tn=null;function $1(o={}){let{delay:i=w1,closeDelay:r=Mu}=o,{isOpen:a,open:l,close:c}=Yc(o),h=b.useMemo(()=>`${++C1}`,[]),g=b.useRef(null),m=b.useRef(c),_=()=>{Rn[h]=P},y=()=>{for(let I in Rn)I!==h&&(Rn[I](!0),delete Rn[I])},w=()=>{g.current&&clearTimeout(g.current),g.current=null,y(),_(),Sr=!0,l(),en&&(clearTimeout(en),en=null),Tn&&(clearTimeout(Tn),Tn=null)},P=I=>{I||r<=0?(g.current&&clearTimeout(g.current),g.current=null,m.current()):g.current||(g.current=setTimeout(()=>{g.current=null,m.current()},r)),en&&(clearTimeout(en),en=null),Sr&&(Tn&&clearTimeout(Tn),Tn=setTimeout(()=>{delete Rn[h],Tn=null,Sr=!1},Math.max(Mu,r)))},E=()=>{y(),_(),!a&&!en&&!Sr?en=setTimeout(()=>{en=null,Sr=!0,w()},i):a||w()};return b.useEffect(()=>{m.current=c},[c]),b.useEffect(()=>()=>{g.current&&clearTimeout(g.current),Rn[h]&&delete Rn[h]},[h]),{isOpen:a,open:I=>{!I&&i>0&&!g.current?E():w()},close:P}}function S1(o,i){let r=Es(o,{labelable:!0}),{hoverProps:a}=Is({onHoverStart:()=>i?.open(!0),onHoverEnd:()=>i?.close()});return{tooltipProps:ir(r,a,{role:"tooltip"})}}function E1(o,i,r){let{isDisabled:a,trigger:l}=o,c=Bb(),h=b.useRef(!1),g=b.useRef(!1),m=()=>{(h.current||g.current)&&i.open(g.current)},_=D=>{!h.current&&!g.current&&i.close(D)};b.useEffect(()=>{let D=O=>{r&&r.current&&O.key==="Escape"&&(O.stopPropagation(),i.close(!0))};if(i.isOpen)return document.addEventListener("keydown",D,!0),()=>{document.removeEventListener("keydown",D,!0)}},[r,i]);let y=()=>{l!=="focus"&&(Kb()==="pointer"?h.current=!0:h.current=!1,m())},w=()=>{l!=="focus"&&(g.current=!1,h.current=!1,_())},P=()=>{g.current=!1,h.current=!1,_(!0)},E=()=>{Hb()&&(g.current=!0,m())},I=()=>{g.current=!1,h.current=!1,_(!0)},{hoverProps:S}=Is({isDisabled:a,onHoverStart:y,onHoverEnd:w}),{focusableProps:R}=Qu({isDisabled:a,onFocus:E,onBlur:I},r);return{triggerProps:{"aria-describedby":i.isOpen?c:void 0,...ir(R,S,{onPointerDown:P,onKeyDown:P,tabIndex:void 0})},tooltipProps:{id:c}}}var tn=[];function Jc(o,i){const{disableOutsideEvents:r=!0,isDismissable:a=!1,isKeyboardDismissDisabled:l=!1,isOpen:c,onClose:h,shouldCloseOnBlur:g,shouldCloseOnInteractOutside:m}=o;b.useEffect(()=>(c&&tn.push(i),()=>{const S=tn.indexOf(i);S>=0&&tn.splice(S,1)}),[c,i]);const _=()=>{tn[tn.length-1]===i&&h&&h()},y=S=>{(!m||m(S.target))&&(tn[tn.length-1]===i&&r&&(S.stopPropagation(),S.preventDefault()),S.pointerType!=="touch"&&_())},w=S=>{S.pointerType==="touch"&&(!m||m(S.target))&&(tn[tn.length-1]===i&&r&&(S.stopPropagation(),S.preventDefault()),_())},P=S=>{S.key==="Escape"&&!l&&!S.nativeEvent.isComposing&&(S.stopPropagation(),S.preventDefault(),_())};Gx({isDisabled:!(a&&c),onInteractOutside:a&&c?w:void 0,onInteractOutsideStart:y,ref:i});const{focusWithinProps:E}=Xu({isDisabled:!g,onBlurWithin:S=>{!S.relatedTarget||Ub(S.relatedTarget)||(!m||m(S.relatedTarget))&&_()}}),I=S=>{S.target===S.currentTarget&&S.preventDefault()};return{overlayProps:{onKeyDown:P,...E},underlayProps:{onPointerDown:I}}}function I1(o){var i,r;const a=On(),[l,c]=Mi(o,Au.variantKeys),{ref:h,as:g,isOpen:m,content:_,children:y,defaultOpen:w,onOpenChange:P,isDisabled:E,trigger:I,shouldFlip:S=!0,containerPadding:R=12,placement:D="top",delay:O=0,closeDelay:F=500,showArrow:U=!1,offset:M=7,crossOffset:k=0,isDismissable:K,shouldCloseOnBlur:V=!0,portalContainer:H,isKeyboardDismissDisabled:q=!1,updatePositionDeps:J=[],shouldCloseOnInteractOutside:W,className:ee,onClose:te,motionProps:de,classNames:ae,...re}=l,G=g||"div",be=(r=(i=o?.disableAnimation)!=null?i:a?.disableAnimation)!=null?r:!1,ie=$1({delay:O,closeDelay:F,isDisabled:E,defaultOpen:w,isOpen:m,onOpenChange:oe=>{P?.(oe),oe||te?.()}}),le=b.useRef(null),Me=b.useRef(null),Pe=b.useId(),me=ie.isOpen&&!E;b.useImperativeHandle(h,()=>Wb(Me));const{triggerProps:Ae,tooltipProps:Re}=E1({isDisabled:E,trigger:I},ie,le),{tooltipProps:Dt}=S1({isOpen:me,...dt(l,Re)},ie),{overlayProps:it,placement:xe,updatePosition:ot}=Hx({isOpen:me,targetRef:le,placement:b1(D),overlayRef:Me,offset:U?M+3:M,crossOffset:k,shouldFlip:S,containerPadding:R});rc(()=>{J.length&&ot()},J);const{overlayProps:Ye}=Jc({isOpen:me,onClose:ie.close,isDismissable:K,shouldCloseOnBlur:V,isKeyboardDismissDisabled:q,shouldCloseOnInteractOutside:W},Me),st=b.useMemo(()=>{var oe,we,rn;return Au({...c,disableAnimation:be,radius:(oe=o?.radius)!=null?oe:"md",size:(we=o?.size)!=null?we:"md",shadow:(rn=o?.shadow)!=null?rn:"sm"})},[kr(c),be,o?.radius,o?.size,o?.shadow]),Dn=b.useCallback((oe={},we=null)=>({...dt(Ae,oe),ref:zb(we,le),"aria-describedby":me?Pe:void 0}),[Ae,me,Pe,ie]),Je=b.useCallback(()=>({ref:Me,"data-slot":"base","data-open":ve(me),"data-arrow":ve(U),"data-disabled":ve(E),"data-placement":Du(xe||"top",D),...dt(Dt,Ye,re),style:dt(it.style,re.style,l.style),className:st.base({class:ae?.base}),id:Pe}),[st,me,U,E,xe,D,Dt,Ye,re,it,l,Pe]),Ut=b.useCallback(()=>({"data-slot":"content","data-open":ve(me),"data-arrow":ve(U),"data-disabled":ve(E),"data-placement":Du(xe||"top",D),className:st.content({class:vn(ae?.content,ee)})}),[st,me,U,E,xe,D,ae]);return{Component:G,content:_,children:y,isOpen:me,triggerRef:le,showArrow:U,portalContainer:H,placement:D,disableAnimation:be,isDisabled:E,motionProps:de,getTooltipContentProps:Ut,getTriggerProps:Dn,getTooltipProps:Je}}var P1=()=>kt(()=>import("./index-Cfivfv5E.js"),__vite__mapDeps([0,1,2,3])).then(o=>o.default),Xc=Nn((o,i)=>{var r;const{Component:a,children:l,content:c,isOpen:h,portalContainer:g,placement:m,disableAnimation:_,motionProps:y,getTriggerProps:w,getTooltipProps:P,getTooltipContentProps:E}=I1({...o,ref:i});let I;try{if(b.Children.count(l)!==1)throw new Error;if(!b.isValidElement(l))I=p.jsx("p",{...w(),children:l});else{const M=l,k=(r=M.props.ref)!=null?r:M.ref;I=b.cloneElement(M,w(M.props,k))}}catch{I=p.jsx("span",{}),Gb("Tooltip must have only one child node. Please, check your code.")}const{ref:S,id:R,style:D,...O}=P(),F=p.jsx("div",{ref:S,id:R,style:D,children:p.jsx(Or.div,{animate:"enter",exit:"exit",initial:"exit",variants:ki.scaleSpring,...dt(y,O),style:{...v1(m)},children:p.jsx(a,{...E(),children:c})},`${R}-tooltip-inner`)},`${R}-tooltip-content`);return p.jsxs(p.Fragment,{children:[I,_?h&&p.jsx(du,{portalContainer:g,children:p.jsx("div",{ref:S,id:R,style:D,...O,children:p.jsx(a,{...E(),children:c})})}):p.jsx(Lr,{features:P1,children:p.jsx(kn,{children:h&&p.jsx(du,{portalContainer:g,children:F})})})]})});Xc.displayName="HeroUI.Tooltip";var A1=Xc;function R1(o){var i,r,a;const l=On(),[c,h]=Mi(o,fu.variantKeys),{ref:g,as:m,id:_,className:y,classNames:w,label:P,valueLabel:E,value:I=void 0,minValue:S=0,maxValue:R=100,strokeWidth:D,showValueLabel:O=!1,formatOptions:F={style:"percent"},...U}=c,M=m||"div",k=or(g),K=vn(w?.base,y),[,V]=Vb({rerender:!0,delay:100}),H=((i=o.isIndeterminate)!=null?i:!0)&&I===void 0,q=(a=(r=o.disableAnimation)!=null?r:l?.disableAnimation)!=null?a:!1,{progressBarProps:J,labelProps:W}=qb({id:_,label:P,value:I,minValue:S,maxValue:R,valueLabel:E,formatOptions:F,isIndeterminate:H,"aria-labelledby":o["aria-labelledby"],"aria-label":o["aria-label"]}),ee=b.useMemo(()=>fu({...h,disableAnimation:q,isIndeterminate:H}),[kr(h),q,H]),te=q?!0:V,de=16,ae=D||(o.size==="sm"?2:3),re=16-ae,G=2*re*Math.PI,be=b.useMemo(()=>te?H?.25:I?Yb((I-S)/(R-S),1):0:0,[te,I,S,R,H]),ie=G-be*G,le=b.useCallback((Re={})=>({ref:k,"data-indeterminate":ve(H),"data-disabled":ve(o.isDisabled),className:ee.base({class:K}),...dt(J,U,Re)}),[k,ee,H,o.isDisabled,K,J,U]),Me=b.useCallback((Re={})=>({className:ee.label({class:w?.label}),...dt(W,Re)}),[ee,w,W]),Pe=b.useCallback((Re={})=>({viewBox:"0 0 32 32",fill:"none",strokeWidth:ae,className:ee.svg({class:w?.svg}),...Re}),[ae,ee,w]),me=b.useCallback((Re={})=>({cx:de,cy:de,r:re,role:"presentation",strokeDasharray:`${G} ${G}`,strokeDashoffset:ie,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:ee.indicator({class:w?.indicator}),...Re}),[ee,w,ie,G,re]),Ae=b.useCallback((Re={})=>({cx:de,cy:de,r:re,role:"presentation",strokeDasharray:`${G} ${G}`,strokeDashoffset:0,transform:"rotate(-90 16 16)",strokeLinecap:"round",className:ee.track({class:w?.track}),...Re}),[ee,w,G,re]);return{Component:M,domRef:k,slots:ee,classNames:w,label:P,showValueLabel:O,getProgressBarProps:le,getLabelProps:Me,getSvgProps:Pe,getIndicatorProps:me,getTrackProps:Ae}}var Zc=Nn((o,i)=>{const{Component:r,slots:a,classNames:l,label:c,showValueLabel:h,getProgressBarProps:g,getLabelProps:m,getSvgProps:_,getIndicatorProps:y,getTrackProps:w}=R1({ref:i,...o}),P=g();return p.jsxs(r,{...P,children:[p.jsxs("div",{className:a.svgWrapper({class:l?.svgWrapper}),children:[p.jsxs("svg",{..._(),children:[p.jsx("circle",{...w()}),p.jsx("circle",{...y()})]}),h&&p.jsx("span",{className:a.value({class:l?.value}),children:P["aria-valuetext"]})]}),c&&p.jsx("span",{...m(),children:c})]})});Zc.displayName="HeroUI.CircularProgress";var Qc=Zc;function T1(o,i){let{role:r="dialog"}=o,a=Jb();a=o["aria-label"]?void 0:a;let l=b.useRef(!1);return b.useEffect(()=>{if(i.current&&!i.current.contains(document.activeElement)){xs(i.current);let c=setTimeout(()=>{document.activeElement===i.current&&(l.current=!0,i.current&&(i.current.blur(),xs(i.current)),l.current=!1)},500);return()=>{clearTimeout(c)}}},[i]),Gc(),{dialogProps:{...Es(o,{labelable:!0}),role:r,tabIndex:-1,"aria-labelledby":o["aria-labelledby"]||a,onBlur:c=>{l.current&&c.stopPropagation()}},titleProps:{id:a}}}function L1(o){var i,r;const a=On(),[l,c]=Mi(o,Tu.variantKeys),{ref:h,as:g,src:m,className:_,classNames:y,loading:w,isBlurred:P,fallbackSrc:E,isLoading:I,disableSkeleton:S=!!E,removeWrapper:R=!1,onError:D,onLoad:O,srcSet:F,sizes:U,crossOrigin:M,...k}=l,K=y1({src:m,loading:w,onError:D,onLoad:O,ignoreFallback:!1,srcSet:F,sizes:U,crossOrigin:M,shouldBypassImageLoad:g!==void 0}),V=(r=(i=o.disableAnimation)!=null?i:a?.disableAnimation)!=null?r:!1,H=K==="loaded"&&!I,q=K==="loading"||I,J=o.isZoomed,W=g||"img",ee=or(h),{w:te,h:de}=b.useMemo(()=>({w:l.width?typeof l.width=="number"?`${l.width}px`:l.width:"fit-content",h:l.height?typeof l.height=="number"?`${l.height}px`:l.height:"auto"}),[l?.width,l?.height]),ae=(!m||!H)&&!!E,re=q&&!S,G=b.useMemo(()=>Tu({...c,disableAnimation:V,showSkeleton:re}),[kr(c),V,re]),be=vn(_,y?.img),ie=(Pe={})=>{const me=vn(be,Pe?.className);return{src:m,ref:ee,"data-loaded":ve(H),className:G.img({class:me}),loading:w,srcSet:F,sizes:U,crossOrigin:M,...k,style:{...k?.height&&{height:de},...Pe.style,...k.style}}},le=b.useCallback(()=>{const Pe=ae?{backgroundImage:`url(${E})`}:{};return{className:G.wrapper({class:y?.wrapper}),style:{...Pe,maxWidth:te}}},[G,ae,E,y?.wrapper,te]),Me=b.useCallback(()=>({src:m,"aria-hidden":ve(!0),className:G.blurredImg({class:y?.blurredImg})}),[G,m,y?.blurredImg]);return{Component:W,domRef:ee,slots:G,classNames:y,isBlurred:P,disableSkeleton:S,fallbackSrc:E,removeWrapper:R,isZoomed:J,isLoading:q,getImgProps:ie,getWrapperProps:le,getBlurredImgProps:Me}}var ed=Nn((o,i)=>{const{Component:r,domRef:a,slots:l,classNames:c,isBlurred:h,isZoomed:g,fallbackSrc:m,removeWrapper:_,disableSkeleton:y,getImgProps:w,getWrapperProps:P,getBlurredImgProps:E}=L1({...o,ref:i}),I=p.jsx(r,{ref:a,...w()});if(_)return I;const S=p.jsx("div",{className:l.zoomedWrapper({class:c?.zoomedWrapper}),children:I});return h?p.jsxs("div",{...P(),children:[g?S:I,b.cloneElement(I,E())]}):g||!y||m?p.jsxs("div",{...P(),children:[" ",g?S:I]}):I});ed.displayName="HeroUI.Image";var gs=ed,[O1,td]=Xb({name:"ModalContext",errorMessage:"useModalContext: `context` is undefined. Seems you forgot to wrap all popover components within `<Modal />`"}),nd=Nn((o,i)=>{const{as:r,children:a,className:l,...c}=o,{slots:h,classNames:g,bodyId:m,setBodyMounted:_}=td(),y=or(i),w=r||"div";return b.useEffect(()=>(_(!0),()=>_(!1)),[_]),p.jsx(w,{ref:y,className:h.body({class:vn(g?.body,l)}),id:m,...c,children:a})});nd.displayName="HeroUI.ModalBody";var N1=nd,k1={enter:{scale:"var(--scale-enter)",y:"var(--slide-enter)",opacity:1,willChange:"auto",transition:{scale:{duration:.4,ease:Rr.ease},opacity:{duration:.4,ease:Rr.ease},y:{type:"spring",bounce:0,duration:.6}}},exit:{scale:"var(--scale-exit)",y:"var(--slide-exit)",opacity:0,willChange:"transform",transition:{duration:.3,ease:Rr.ease}}},Bt=typeof document<"u"&&window.visualViewport,D1=nt.createContext(!1);function M1(){return!1}function j1(){return!0}function F1(o){return()=>{}}function B1(){return typeof nt.useSyncExternalStore=="function"?nt.useSyncExternalStore(F1,M1,j1):b.useContext(D1)}function K1(){let o=B1(),[i,r]=b.useState(()=>o?{width:0,height:0}:ju());return b.useEffect(()=>{let a=()=>{r(l=>{let c=ju();return c.width===l.width&&c.height===l.height?l:c})};return Bt?Bt.addEventListener("resize",a):window.addEventListener("resize",a),()=>{Bt?Bt.removeEventListener("resize",a):window.removeEventListener("resize",a)}},[]),i}function ju(){return{width:Bt&&Bt?.width||window.innerWidth,height:Bt&&Bt?.height||window.innerHeight}}var Fu=()=>kt(()=>import("./index-Cfivfv5E.js"),__vite__mapDeps([0,1,2,3])).then(o=>o.default),rd=o=>{const{as:i,children:r,role:a="dialog",...l}=o,{Component:c,domRef:h,slots:g,classNames:m,motionProps:_,backdrop:y,closeButton:w,hideCloseButton:P,disableAnimation:E,getDialogProps:I,getBackdropProps:S,getCloseButtonProps:R,onClose:D}=td(),O=i||c||"div",F=K1(),{dialogProps:U}=T1({role:a},h),M=b.isValidElement(w)?b.cloneElement(w,R()):p.jsx("button",{...R(),children:p.jsx(d1,{})}),k=b.useCallback(W=>{W.key==="Tab"&&W.nativeEvent.isComposing&&(W.stopPropagation(),W.preventDefault())},[]),K=I(dt(U,l)),V=p.jsxs(O,{...K,onKeyDown:nc(K.onKeyDown,k),children:[p.jsx(Pu,{onDismiss:D}),!P&&M,typeof r=="function"?r(D):r,p.jsx(Pu,{onDismiss:D})]}),H=b.useMemo(()=>y==="transparent"?null:E?p.jsx("div",{...S()}):p.jsx(Lr,{features:Fu,children:p.jsx(Or.div,{animate:"enter",exit:"exit",initial:"exit",variants:ki.fade,...S()})}),[y,E,S]),q={"--visual-viewport-height":F.height+"px"},J=E?p.jsx("div",{className:g.wrapper({class:m?.wrapper}),"data-slot":"wrapper",style:q,children:V}):p.jsx(Lr,{features:Fu,children:p.jsx(Or.div,{animate:"enter",className:g.wrapper({class:m?.wrapper}),"data-slot":"wrapper",exit:"exit",initial:"exit",variants:k1,..._,style:q,children:V})});return p.jsxs("div",{tabIndex:-1,children:[H,J]})};rd.displayName="HeroUI.ModalContent";var H1=rd;function U1(o={shouldBlockScroll:!0},i,r){let{overlayProps:a,underlayProps:l}=Jc({...o,isOpen:i.isOpen,onClose:i.close},r);return qx({isDisabled:!i.isOpen||!o.shouldBlockScroll}),Gc(),b.useEffect(()=>{if(i.isOpen&&r.current)return t1([r.current])},[i.isOpen,r]),{modalProps:ir(a),underlayProps:l}}function W1(o){var i,r,a;const l=On(),[c,h]=Mi(o,Ru.variantKeys),{ref:g,as:m,className:_,classNames:y,isOpen:w,defaultOpen:P,onOpenChange:E,motionProps:I,closeButton:S,isDismissable:R=!0,hideCloseButton:D=!1,shouldBlockScroll:O=!0,portalContainer:F,isKeyboardDismissDisabled:U=!1,onClose:M,...k}=c,K=m||"section",V=or(g),H=b.useRef(null),[q,J]=b.useState(!1),[W,ee]=b.useState(!1),te=(r=(i=o.disableAnimation)!=null?i:l?.disableAnimation)!=null?r:!1,de=b.useId(),ae=b.useId(),re=b.useId(),G=Yc({isOpen:w,defaultOpen:P,onOpenChange:xe=>{E?.(xe),xe||M?.()}}),{modalProps:be,underlayProps:ie}=U1({isDismissable:R,shouldBlockScroll:O,isKeyboardDismissDisabled:U},G,V),{buttonProps:le}=Zb({onPress:G.close},H),{isFocusVisible:Me,focusProps:Pe}=ec(),me=vn(y?.base,_),Ae=b.useMemo(()=>Ru({...h,disableAnimation:te}),[kr(h),te]),Re=(xe={},ot=null)=>{var Ye;return{ref:Qb(ot,V),...dt(be,k,xe),className:Ae.base({class:vn(me,xe.className)}),id:de,"data-open":ve(G.isOpen),"data-dismissable":ve(R),"aria-modal":ve(!0),"data-placement":(Ye=o?.placement)!=null?Ye:"right","aria-labelledby":q?ae:void 0,"aria-describedby":W?re:void 0}},Dt=b.useCallback((xe={})=>({className:Ae.backdrop({class:y?.backdrop}),...ie,...xe}),[Ae,y,ie]),it=()=>({role:"button",tabIndex:0,"aria-label":"Close","data-focus-visible":ve(Me),className:Ae.closeButton({class:y?.closeButton}),...dt(le,Pe)});return{Component:K,slots:Ae,domRef:V,headerId:ae,bodyId:re,motionProps:I,classNames:y,isDismissable:R,closeButton:S,hideCloseButton:D,portalContainer:F,shouldBlockScroll:O,backdrop:(a=o.backdrop)!=null?a:"opaque",isOpen:G.isOpen,onClose:G.close,disableAnimation:te,setBodyMounted:ee,setHeaderMounted:J,getDialogProps:Re,getBackdropProps:Dt,getCloseButtonProps:it}}var id=Nn((o,i)=>{const{children:r,...a}=o,l=W1({...a,ref:i}),c=p.jsx(n1,{portalContainer:l.portalContainer,children:r});return p.jsx(O1,{value:l,children:l.disableAnimation&&l.isOpen?c:p.jsx(kn,{children:l.isOpen?c:null})})});id.displayName="HeroUI.Modal";var z1=id;function G1(o={}){const{id:i,defaultOpen:r,isOpen:a,onClose:l,onOpen:c,onChange:h=()=>{}}=o,g=hu(c),m=hu(l),[_,y]=Ps(a,r||!1,h),w=b.useId(),P=i||w,E=a!==void 0,I=b.useCallback(()=>{E||y(!1),m?.()},[E,m]),S=b.useCallback(()=>{E||y(!0),g?.()},[E,g]),R=b.useCallback(()=>{(_?I:S)()},[_,S,I]);return{isOpen:!!_,onOpen:S,onClose:I,onOpenChange:R,isControlled:E,getButtonProps:(D={})=>({...D,"aria-expanded":_,"aria-controls":P,onClick:Oi(D.onClick,R)}),getDisclosureProps:(D={})=>({...D,hidden:!_,id:P})}}const A_={Like:"like",Dislike:"dislike"},V1={Start:"START"},nr={User:"user",Assistant:"assistant"},er={Pending:"pending",InProgress:"in_progress",Completed:"completed"};function q1(o,i){const{client:r}=As(),[a,l]=b.useState(null),[c,h]=b.useState(null),[g,m]=b.useState(!1),_=b.useRef(null),y=b.useCallback(()=>{if(!_.current)return null;_.current.abort(),_.current=null,m(!1)},[]),w=b.useCallback(async(...E)=>{const I=E[0];_.current&&g&&_.current.abort();const S=new AbortController;_.current=S,m(!0),h(null);try{const D={...{...i,...I||{},headers:{...i?.headers,...I?.headers||{}}},signal:S.signal},O=await r.makeRequest(o,D);return S.signal.aborted||(l(O),_.current=null),O}catch(R){if(!S.signal.aborted){const D=R instanceof Error?R:new Error("API call failed");throw h(D),_.current=null,D}throw R}finally{S.signal.aborted||m(!1)}},[r,o,i,g]),P=b.useCallback(()=>{y(),l(null),h(null),m(!1)},[y]);return{data:a,error:c,isLoading:g,call:w,reset:P,abort:y}}var Er={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Y1=Er.exports,Bu;function J1(){return Bu||(Bu=1,function(o,i){(function(){var r,a="4.17.21",l=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",g="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",_=500,y="__lodash_placeholder__",w=1,P=2,E=4,I=1,S=2,R=1,D=2,O=4,F=8,U=16,M=32,k=64,K=128,V=256,H=512,q=30,J="...",W=800,ee=16,te=1,de=2,ae=3,re=1/0,G=9007199254740991,be=17976931348623157e292,ie=NaN,le=4294967295,Me=le-1,Pe=le>>>1,me=[["ary",K],["bind",R],["bindKey",D],["curry",F],["curryRight",U],["flip",H],["partial",M],["partialRight",k],["rearg",V]],Ae="[object Arguments]",Re="[object Array]",Dt="[object AsyncFunction]",it="[object Boolean]",xe="[object Date]",ot="[object DOMException]",Ye="[object Error]",st="[object Function]",Dn="[object GeneratorFunction]",Je="[object Map]",Ut="[object Number]",oe="[object Null]",we="[object Object]",rn="[object Promise]",Ki="[object Proxy]",bn="[object RegExp]",ht="[object Set]",xn="[object String]",Mn="[object Symbol]",Hi="[object Undefined]",yn="[object WeakMap]",Xe="[object WeakSet]",on="[object ArrayBuffer]",Wt="[object DataView]",Ui="[object Float32Array]",Wi="[object Float64Array]",zi="[object Int8Array]",Gi="[object Int16Array]",Vi="[object Int32Array]",qi="[object Uint8Array]",Yi="[object Uint8ClampedArray]",Ji="[object Uint16Array]",Xi="[object Uint32Array]",Od=/\b__p \+= '';/g,Nd=/\b(__p \+=) '' \+/g,kd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ns=/&(?:amp|lt|gt|quot|#39);/g,ks=/[&<>"']/g,Dd=RegExp(Ns.source),Md=RegExp(ks.source),jd=/<%-([\s\S]+?)%>/g,Fd=/<%([\s\S]+?)%>/g,Ds=/<%=([\s\S]+?)%>/g,Bd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kd=/^\w*$/,Hd=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zi=/[\\^$.*+?()[\]{}|]/g,Ud=RegExp(Zi.source),Qi=/^\s+/,Wd=/\s/,zd=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Gd=/\{\n\/\* \[wrapped with (.+)\] \*/,Vd=/,? & /,qd=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Yd=/[()=,{}\[\]\/\s]/,Jd=/\\(\\)?/g,Xd=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ms=/\w*$/,Zd=/^[-+]0x[0-9a-f]+$/i,Qd=/^0b[01]+$/i,ef=/^\[object .+?Constructor\]$/,tf=/^0o[0-7]+$/i,nf=/^(?:0|[1-9]\d*)$/,rf=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mr=/($^)/,of=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",sf="\\u0300-\\u036f",af="\\ufe20-\\ufe2f",lf="\\u20d0-\\u20ff",js=sf+af+lf,Fs="\\u2700-\\u27bf",Bs="a-z\\xdf-\\xf6\\xf8-\\xff",uf="\\xac\\xb1\\xd7\\xf7",cf="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",df="\\u2000-\\u206f",ff=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ks="A-Z\\xc0-\\xd6\\xd8-\\xde",Hs="\\ufe0e\\ufe0f",Us=uf+cf+df+ff,eo="['’]",hf="["+jr+"]",Ws="["+Us+"]",Fr="["+js+"]",zs="\\d+",pf="["+Fs+"]",Gs="["+Bs+"]",Vs="[^"+jr+Us+zs+Fs+Bs+Ks+"]",to="\\ud83c[\\udffb-\\udfff]",gf="(?:"+Fr+"|"+to+")",qs="[^"+jr+"]",no="(?:\\ud83c[\\udde6-\\uddff]){2}",ro="[\\ud800-\\udbff][\\udc00-\\udfff]",jn="["+Ks+"]",Ys="\\u200d",Js="(?:"+Gs+"|"+Vs+")",mf="(?:"+jn+"|"+Vs+")",Xs="(?:"+eo+"(?:d|ll|m|re|s|t|ve))?",Zs="(?:"+eo+"(?:D|LL|M|RE|S|T|VE))?",Qs=gf+"?",ea="["+Hs+"]?",vf="(?:"+Ys+"(?:"+[qs,no,ro].join("|")+")"+ea+Qs+")*",bf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",xf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ta=ea+Qs+vf,yf="(?:"+[pf,no,ro].join("|")+")"+ta,_f="(?:"+[qs+Fr+"?",Fr,no,ro,hf].join("|")+")",wf=RegExp(eo,"g"),Cf=RegExp(Fr,"g"),io=RegExp(to+"(?="+to+")|"+_f+ta,"g"),$f=RegExp([jn+"?"+Gs+"+"+Xs+"(?="+[Ws,jn,"$"].join("|")+")",mf+"+"+Zs+"(?="+[Ws,jn+Js,"$"].join("|")+")",jn+"?"+Js+"+"+Xs,jn+"+"+Zs,xf,bf,zs,yf].join("|"),"g"),Sf=RegExp("["+Ys+jr+js+Hs+"]"),Ef=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,If=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pf=-1,Ee={};Ee[Ui]=Ee[Wi]=Ee[zi]=Ee[Gi]=Ee[Vi]=Ee[qi]=Ee[Yi]=Ee[Ji]=Ee[Xi]=!0,Ee[Ae]=Ee[Re]=Ee[on]=Ee[it]=Ee[Wt]=Ee[xe]=Ee[Ye]=Ee[st]=Ee[Je]=Ee[Ut]=Ee[we]=Ee[bn]=Ee[ht]=Ee[xn]=Ee[yn]=!1;var Se={};Se[Ae]=Se[Re]=Se[on]=Se[Wt]=Se[it]=Se[xe]=Se[Ui]=Se[Wi]=Se[zi]=Se[Gi]=Se[Vi]=Se[Je]=Se[Ut]=Se[we]=Se[bn]=Se[ht]=Se[xn]=Se[Mn]=Se[qi]=Se[Yi]=Se[Ji]=Se[Xi]=!0,Se[Ye]=Se[st]=Se[yn]=!1;var Af={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Rf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Lf={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Of=parseFloat,Nf=parseInt,na=typeof Si=="object"&&Si&&Si.Object===Object&&Si,kf=typeof self=="object"&&self&&self.Object===Object&&self,He=na||kf||Function("return this")(),oo=i&&!i.nodeType&&i,_n=oo&&!0&&o&&!o.nodeType&&o,ra=_n&&_n.exports===oo,so=ra&&na.process,_t=function(){try{var C=_n&&_n.require&&_n.require("util").types;return C||so&&so.binding&&so.binding("util")}catch{}}(),ia=_t&&_t.isArrayBuffer,oa=_t&&_t.isDate,sa=_t&&_t.isMap,aa=_t&&_t.isRegExp,la=_t&&_t.isSet,ua=_t&&_t.isTypedArray;function pt(C,T,A){switch(A.length){case 0:return C.call(T);case 1:return C.call(T,A[0]);case 2:return C.call(T,A[0],A[1]);case 3:return C.call(T,A[0],A[1],A[2])}return C.apply(T,A)}function Df(C,T,A,z){for(var ne=-1,ye=C==null?0:C.length;++ne<ye;){var je=C[ne];T(z,je,A(je),C)}return z}function wt(C,T){for(var A=-1,z=C==null?0:C.length;++A<z&&T(C[A],A,C)!==!1;);return C}function Mf(C,T){for(var A=C==null?0:C.length;A--&&T(C[A],A,C)!==!1;);return C}function ca(C,T){for(var A=-1,z=C==null?0:C.length;++A<z;)if(!T(C[A],A,C))return!1;return!0}function sn(C,T){for(var A=-1,z=C==null?0:C.length,ne=0,ye=[];++A<z;){var je=C[A];T(je,A,C)&&(ye[ne++]=je)}return ye}function Br(C,T){var A=C==null?0:C.length;return!!A&&Fn(C,T,0)>-1}function ao(C,T,A){for(var z=-1,ne=C==null?0:C.length;++z<ne;)if(A(T,C[z]))return!0;return!1}function Ie(C,T){for(var A=-1,z=C==null?0:C.length,ne=Array(z);++A<z;)ne[A]=T(C[A],A,C);return ne}function an(C,T){for(var A=-1,z=T.length,ne=C.length;++A<z;)C[ne+A]=T[A];return C}function lo(C,T,A,z){var ne=-1,ye=C==null?0:C.length;for(z&&ye&&(A=C[++ne]);++ne<ye;)A=T(A,C[ne],ne,C);return A}function jf(C,T,A,z){var ne=C==null?0:C.length;for(z&&ne&&(A=C[--ne]);ne--;)A=T(A,C[ne],ne,C);return A}function uo(C,T){for(var A=-1,z=C==null?0:C.length;++A<z;)if(T(C[A],A,C))return!0;return!1}var Ff=co("length");function Bf(C){return C.split("")}function Kf(C){return C.match(qd)||[]}function da(C,T,A){var z;return A(C,function(ne,ye,je){if(T(ne,ye,je))return z=ye,!1}),z}function Kr(C,T,A,z){for(var ne=C.length,ye=A+(z?1:-1);z?ye--:++ye<ne;)if(T(C[ye],ye,C))return ye;return-1}function Fn(C,T,A){return T===T?Qf(C,T,A):Kr(C,fa,A)}function Hf(C,T,A,z){for(var ne=A-1,ye=C.length;++ne<ye;)if(z(C[ne],T))return ne;return-1}function fa(C){return C!==C}function ha(C,T){var A=C==null?0:C.length;return A?ho(C,T)/A:ie}function co(C){return function(T){return T==null?r:T[C]}}function fo(C){return function(T){return C==null?r:C[T]}}function pa(C,T,A,z,ne){return ne(C,function(ye,je,$e){A=z?(z=!1,ye):T(A,ye,je,$e)}),A}function Uf(C,T){var A=C.length;for(C.sort(T);A--;)C[A]=C[A].value;return C}function ho(C,T){for(var A,z=-1,ne=C.length;++z<ne;){var ye=T(C[z]);ye!==r&&(A=A===r?ye:A+ye)}return A}function po(C,T){for(var A=-1,z=Array(C);++A<C;)z[A]=T(A);return z}function Wf(C,T){return Ie(T,function(A){return[A,C[A]]})}function ga(C){return C&&C.slice(0,xa(C)+1).replace(Qi,"")}function gt(C){return function(T){return C(T)}}function go(C,T){return Ie(T,function(A){return C[A]})}function sr(C,T){return C.has(T)}function ma(C,T){for(var A=-1,z=C.length;++A<z&&Fn(T,C[A],0)>-1;);return A}function va(C,T){for(var A=C.length;A--&&Fn(T,C[A],0)>-1;);return A}function zf(C,T){for(var A=C.length,z=0;A--;)C[A]===T&&++z;return z}var Gf=fo(Af),Vf=fo(Rf);function qf(C){return"\\"+Lf[C]}function Yf(C,T){return C==null?r:C[T]}function Bn(C){return Sf.test(C)}function Jf(C){return Ef.test(C)}function Xf(C){for(var T,A=[];!(T=C.next()).done;)A.push(T.value);return A}function mo(C){var T=-1,A=Array(C.size);return C.forEach(function(z,ne){A[++T]=[ne,z]}),A}function ba(C,T){return function(A){return C(T(A))}}function ln(C,T){for(var A=-1,z=C.length,ne=0,ye=[];++A<z;){var je=C[A];(je===T||je===y)&&(C[A]=y,ye[ne++]=A)}return ye}function Hr(C){var T=-1,A=Array(C.size);return C.forEach(function(z){A[++T]=z}),A}function Zf(C){var T=-1,A=Array(C.size);return C.forEach(function(z){A[++T]=[z,z]}),A}function Qf(C,T,A){for(var z=A-1,ne=C.length;++z<ne;)if(C[z]===T)return z;return-1}function eh(C,T,A){for(var z=A+1;z--;)if(C[z]===T)return z;return z}function Kn(C){return Bn(C)?nh(C):Ff(C)}function Tt(C){return Bn(C)?rh(C):Bf(C)}function xa(C){for(var T=C.length;T--&&Wd.test(C.charAt(T)););return T}var th=fo(Tf);function nh(C){for(var T=io.lastIndex=0;io.test(C);)++T;return T}function rh(C){return C.match(io)||[]}function ih(C){return C.match($f)||[]}var oh=function C(T){T=T==null?He:Hn.defaults(He.Object(),T,Hn.pick(He,If));var A=T.Array,z=T.Date,ne=T.Error,ye=T.Function,je=T.Math,$e=T.Object,vo=T.RegExp,sh=T.String,Ct=T.TypeError,Ur=A.prototype,ah=ye.prototype,Un=$e.prototype,Wr=T["__core-js_shared__"],zr=ah.toString,Ce=Un.hasOwnProperty,lh=0,ya=function(){var e=/[^.]+$/.exec(Wr&&Wr.keys&&Wr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Gr=Un.toString,uh=zr.call($e),ch=He._,dh=vo("^"+zr.call(Ce).replace(Zi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vr=ra?T.Buffer:r,un=T.Symbol,qr=T.Uint8Array,_a=Vr?Vr.allocUnsafe:r,Yr=ba($e.getPrototypeOf,$e),wa=$e.create,Ca=Un.propertyIsEnumerable,Jr=Ur.splice,$a=un?un.isConcatSpreadable:r,ar=un?un.iterator:r,wn=un?un.toStringTag:r,Xr=function(){try{var e=In($e,"defineProperty");return e({},"",{}),e}catch{}}(),fh=T.clearTimeout!==He.clearTimeout&&T.clearTimeout,hh=z&&z.now!==He.Date.now&&z.now,ph=T.setTimeout!==He.setTimeout&&T.setTimeout,Zr=je.ceil,Qr=je.floor,bo=$e.getOwnPropertySymbols,gh=Vr?Vr.isBuffer:r,Sa=T.isFinite,mh=Ur.join,vh=ba($e.keys,$e),Fe=je.max,ze=je.min,bh=z.now,xh=T.parseInt,Ea=je.random,yh=Ur.reverse,xo=In(T,"DataView"),lr=In(T,"Map"),yo=In(T,"Promise"),Wn=In(T,"Set"),ur=In(T,"WeakMap"),cr=In($e,"create"),ei=ur&&new ur,zn={},_h=Pn(xo),wh=Pn(lr),Ch=Pn(yo),$h=Pn(Wn),Sh=Pn(ur),ti=un?un.prototype:r,dr=ti?ti.valueOf:r,Ia=ti?ti.toString:r;function d(e){if(Le(e)&&!se(e)&&!(e instanceof pe)){if(e instanceof $t)return e;if(Ce.call(e,"__wrapped__"))return Pl(e)}return new $t(e)}var Gn=function(){function e(){}return function(t){if(!Te(t))return{};if(wa)return wa(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function ni(){}function $t(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}d.templateSettings={escape:jd,evaluate:Fd,interpolate:Ds,variable:"",imports:{_:d}},d.prototype=ni.prototype,d.prototype.constructor=d,$t.prototype=Gn(ni.prototype),$t.prototype.constructor=$t;function pe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=le,this.__views__=[]}function Eh(){var e=new pe(this.__wrapped__);return e.__actions__=at(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=at(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=at(this.__views__),e}function Ih(){if(this.__filtered__){var e=new pe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Ph(){var e=this.__wrapped__.value(),t=this.__dir__,n=se(e),s=t<0,u=n?e.length:0,f=Bp(0,u,this.__views__),v=f.start,x=f.end,$=x-v,L=s?x:v-1,N=this.__iteratees__,j=N.length,B=0,Y=ze($,this.__takeCount__);if(!n||!s&&u==$&&Y==$)return Xa(e,this.__actions__);var Z=[];e:for(;$--&&B<Y;){L+=t;for(var ce=-1,Q=e[L];++ce<j;){var he=N[ce],ge=he.iteratee,bt=he.type,et=ge(Q);if(bt==de)Q=et;else if(!et){if(bt==te)continue e;break e}}Z[B++]=Q}return Z}pe.prototype=Gn(ni.prototype),pe.prototype.constructor=pe;function Cn(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Ah(){this.__data__=cr?cr(null):{},this.size=0}function Rh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Th(e){var t=this.__data__;if(cr){var n=t[e];return n===m?r:n}return Ce.call(t,e)?t[e]:r}function Lh(e){var t=this.__data__;return cr?t[e]!==r:Ce.call(t,e)}function Oh(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=cr&&t===r?m:t,this}Cn.prototype.clear=Ah,Cn.prototype.delete=Rh,Cn.prototype.get=Th,Cn.prototype.has=Lh,Cn.prototype.set=Oh;function zt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Nh(){this.__data__=[],this.size=0}function kh(e){var t=this.__data__,n=ri(t,e);if(n<0)return!1;var s=t.length-1;return n==s?t.pop():Jr.call(t,n,1),--this.size,!0}function Dh(e){var t=this.__data__,n=ri(t,e);return n<0?r:t[n][1]}function Mh(e){return ri(this.__data__,e)>-1}function jh(e,t){var n=this.__data__,s=ri(n,e);return s<0?(++this.size,n.push([e,t])):n[s][1]=t,this}zt.prototype.clear=Nh,zt.prototype.delete=kh,zt.prototype.get=Dh,zt.prototype.has=Mh,zt.prototype.set=jh;function Gt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var s=e[t];this.set(s[0],s[1])}}function Fh(){this.size=0,this.__data__={hash:new Cn,map:new(lr||zt),string:new Cn}}function Bh(e){var t=gi(this,e).delete(e);return this.size-=t?1:0,t}function Kh(e){return gi(this,e).get(e)}function Hh(e){return gi(this,e).has(e)}function Uh(e,t){var n=gi(this,e),s=n.size;return n.set(e,t),this.size+=n.size==s?0:1,this}Gt.prototype.clear=Fh,Gt.prototype.delete=Bh,Gt.prototype.get=Kh,Gt.prototype.has=Hh,Gt.prototype.set=Uh;function $n(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Gt;++t<n;)this.add(e[t])}function Wh(e){return this.__data__.set(e,m),this}function zh(e){return this.__data__.has(e)}$n.prototype.add=$n.prototype.push=Wh,$n.prototype.has=zh;function Lt(e){var t=this.__data__=new zt(e);this.size=t.size}function Gh(){this.__data__=new zt,this.size=0}function Vh(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function qh(e){return this.__data__.get(e)}function Yh(e){return this.__data__.has(e)}function Jh(e,t){var n=this.__data__;if(n instanceof zt){var s=n.__data__;if(!lr||s.length<l-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gt(s)}return n.set(e,t),this.size=n.size,this}Lt.prototype.clear=Gh,Lt.prototype.delete=Vh,Lt.prototype.get=qh,Lt.prototype.has=Yh,Lt.prototype.set=Jh;function Pa(e,t){var n=se(e),s=!n&&An(e),u=!n&&!s&&pn(e),f=!n&&!s&&!u&&Jn(e),v=n||s||u||f,x=v?po(e.length,sh):[],$=x.length;for(var L in e)(t||Ce.call(e,L))&&!(v&&(L=="length"||u&&(L=="offset"||L=="parent")||f&&(L=="buffer"||L=="byteLength"||L=="byteOffset")||Jt(L,$)))&&x.push(L);return x}function Aa(e){var t=e.length;return t?e[To(0,t-1)]:r}function Xh(e,t){return mi(at(e),Sn(t,0,e.length))}function Zh(e){return mi(at(e))}function _o(e,t,n){(n!==r&&!Ot(e[t],n)||n===r&&!(t in e))&&Vt(e,t,n)}function fr(e,t,n){var s=e[t];(!(Ce.call(e,t)&&Ot(s,n))||n===r&&!(t in e))&&Vt(e,t,n)}function ri(e,t){for(var n=e.length;n--;)if(Ot(e[n][0],t))return n;return-1}function Qh(e,t,n,s){return cn(e,function(u,f,v){t(s,u,n(u),v)}),s}function Ra(e,t){return e&&jt(t,Be(t),e)}function ep(e,t){return e&&jt(t,ut(t),e)}function Vt(e,t,n){t=="__proto__"&&Xr?Xr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function wo(e,t){for(var n=-1,s=t.length,u=A(s),f=e==null;++n<s;)u[n]=f?r:ns(e,t[n]);return u}function Sn(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function St(e,t,n,s,u,f){var v,x=t&w,$=t&P,L=t&E;if(n&&(v=u?n(e,s,u,f):n(e)),v!==r)return v;if(!Te(e))return e;var N=se(e);if(N){if(v=Hp(e),!x)return at(e,v)}else{var j=Ge(e),B=j==st||j==Dn;if(pn(e))return el(e,x);if(j==we||j==Ae||B&&!u){if(v=$||B?{}:xl(e),!x)return $?Tp(e,ep(v,e)):Rp(e,Ra(v,e))}else{if(!Se[j])return u?e:{};v=Up(e,j,x)}}f||(f=new Lt);var Y=f.get(e);if(Y)return Y;f.set(e,v),ql(e)?e.forEach(function(Q){v.add(St(Q,t,n,Q,e,f))}):Gl(e)&&e.forEach(function(Q,he){v.set(he,St(Q,t,n,he,e,f))});var Z=L?$?Ho:Ko:$?ut:Be,ce=N?r:Z(e);return wt(ce||e,function(Q,he){ce&&(he=Q,Q=e[he]),fr(v,he,St(Q,t,n,he,e,f))}),v}function tp(e){var t=Be(e);return function(n){return Ta(n,e,t)}}function Ta(e,t,n){var s=n.length;if(e==null)return!s;for(e=$e(e);s--;){var u=n[s],f=t[u],v=e[u];if(v===r&&!(u in e)||!f(v))return!1}return!0}function La(e,t,n){if(typeof e!="function")throw new Ct(h);return xr(function(){e.apply(r,n)},t)}function hr(e,t,n,s){var u=-1,f=Br,v=!0,x=e.length,$=[],L=t.length;if(!x)return $;n&&(t=Ie(t,gt(n))),s?(f=ao,v=!1):t.length>=l&&(f=sr,v=!1,t=new $n(t));e:for(;++u<x;){var N=e[u],j=n==null?N:n(N);if(N=s||N!==0?N:0,v&&j===j){for(var B=L;B--;)if(t[B]===j)continue e;$.push(N)}else f(t,j,s)||$.push(N)}return $}var cn=ol(Mt),Oa=ol($o,!0);function np(e,t){var n=!0;return cn(e,function(s,u,f){return n=!!t(s,u,f),n}),n}function ii(e,t,n){for(var s=-1,u=e.length;++s<u;){var f=e[s],v=t(f);if(v!=null&&(x===r?v===v&&!vt(v):n(v,x)))var x=v,$=f}return $}function rp(e,t,n,s){var u=e.length;for(n=ue(n),n<0&&(n=-n>u?0:u+n),s=s===r||s>u?u:ue(s),s<0&&(s+=u),s=n>s?0:Jl(s);n<s;)e[n++]=t;return e}function Na(e,t){var n=[];return cn(e,function(s,u,f){t(s,u,f)&&n.push(s)}),n}function Ue(e,t,n,s,u){var f=-1,v=e.length;for(n||(n=zp),u||(u=[]);++f<v;){var x=e[f];t>0&&n(x)?t>1?Ue(x,t-1,n,s,u):an(u,x):s||(u[u.length]=x)}return u}var Co=sl(),ka=sl(!0);function Mt(e,t){return e&&Co(e,t,Be)}function $o(e,t){return e&&ka(e,t,Be)}function oi(e,t){return sn(t,function(n){return Xt(e[n])})}function En(e,t){t=fn(t,e);for(var n=0,s=t.length;e!=null&&n<s;)e=e[Ft(t[n++])];return n&&n==s?e:r}function Da(e,t,n){var s=t(e);return se(e)?s:an(s,n(e))}function Ze(e){return e==null?e===r?Hi:oe:wn&&wn in $e(e)?Fp(e):Zp(e)}function So(e,t){return e>t}function ip(e,t){return e!=null&&Ce.call(e,t)}function op(e,t){return e!=null&&t in $e(e)}function sp(e,t,n){return e>=ze(t,n)&&e<Fe(t,n)}function Eo(e,t,n){for(var s=n?ao:Br,u=e[0].length,f=e.length,v=f,x=A(f),$=1/0,L=[];v--;){var N=e[v];v&&t&&(N=Ie(N,gt(t))),$=ze(N.length,$),x[v]=!n&&(t||u>=120&&N.length>=120)?new $n(v&&N):r}N=e[0];var j=-1,B=x[0];e:for(;++j<u&&L.length<$;){var Y=N[j],Z=t?t(Y):Y;if(Y=n||Y!==0?Y:0,!(B?sr(B,Z):s(L,Z,n))){for(v=f;--v;){var ce=x[v];if(!(ce?sr(ce,Z):s(e[v],Z,n)))continue e}B&&B.push(Z),L.push(Y)}}return L}function ap(e,t,n,s){return Mt(e,function(u,f,v){t(s,n(u),f,v)}),s}function pr(e,t,n){t=fn(t,e),e=Cl(e,t);var s=e==null?e:e[Ft(It(t))];return s==null?r:pt(s,e,n)}function Ma(e){return Le(e)&&Ze(e)==Ae}function lp(e){return Le(e)&&Ze(e)==on}function up(e){return Le(e)&&Ze(e)==xe}function gr(e,t,n,s,u){return e===t?!0:e==null||t==null||!Le(e)&&!Le(t)?e!==e&&t!==t:cp(e,t,n,s,gr,u)}function cp(e,t,n,s,u,f){var v=se(e),x=se(t),$=v?Re:Ge(e),L=x?Re:Ge(t);$=$==Ae?we:$,L=L==Ae?we:L;var N=$==we,j=L==we,B=$==L;if(B&&pn(e)){if(!pn(t))return!1;v=!0,N=!1}if(B&&!N)return f||(f=new Lt),v||Jn(e)?ml(e,t,n,s,u,f):Mp(e,t,$,n,s,u,f);if(!(n&I)){var Y=N&&Ce.call(e,"__wrapped__"),Z=j&&Ce.call(t,"__wrapped__");if(Y||Z){var ce=Y?e.value():e,Q=Z?t.value():t;return f||(f=new Lt),u(ce,Q,n,s,f)}}return B?(f||(f=new Lt),jp(e,t,n,s,u,f)):!1}function dp(e){return Le(e)&&Ge(e)==Je}function Io(e,t,n,s){var u=n.length,f=u,v=!s;if(e==null)return!f;for(e=$e(e);u--;){var x=n[u];if(v&&x[2]?x[1]!==e[x[0]]:!(x[0]in e))return!1}for(;++u<f;){x=n[u];var $=x[0],L=e[$],N=x[1];if(v&&x[2]){if(L===r&&!($ in e))return!1}else{var j=new Lt;if(s)var B=s(L,N,$,e,t,j);if(!(B===r?gr(N,L,I|S,s,j):B))return!1}}return!0}function ja(e){if(!Te(e)||Vp(e))return!1;var t=Xt(e)?dh:ef;return t.test(Pn(e))}function fp(e){return Le(e)&&Ze(e)==bn}function hp(e){return Le(e)&&Ge(e)==ht}function pp(e){return Le(e)&&wi(e.length)&&!!Ee[Ze(e)]}function Fa(e){return typeof e=="function"?e:e==null?ct:typeof e=="object"?se(e)?Ha(e[0],e[1]):Ka(e):au(e)}function Po(e){if(!br(e))return vh(e);var t=[];for(var n in $e(e))Ce.call(e,n)&&n!="constructor"&&t.push(n);return t}function gp(e){if(!Te(e))return Xp(e);var t=br(e),n=[];for(var s in e)s=="constructor"&&(t||!Ce.call(e,s))||n.push(s);return n}function Ao(e,t){return e<t}function Ba(e,t){var n=-1,s=lt(e)?A(e.length):[];return cn(e,function(u,f,v){s[++n]=t(u,f,v)}),s}function Ka(e){var t=Wo(e);return t.length==1&&t[0][2]?_l(t[0][0],t[0][1]):function(n){return n===e||Io(n,e,t)}}function Ha(e,t){return Go(e)&&yl(t)?_l(Ft(e),t):function(n){var s=ns(n,e);return s===r&&s===t?rs(n,e):gr(t,s,I|S)}}function si(e,t,n,s,u){e!==t&&Co(t,function(f,v){if(u||(u=new Lt),Te(f))mp(e,t,v,n,si,s,u);else{var x=s?s(qo(e,v),f,v+"",e,t,u):r;x===r&&(x=f),_o(e,v,x)}},ut)}function mp(e,t,n,s,u,f,v){var x=qo(e,n),$=qo(t,n),L=v.get($);if(L){_o(e,n,L);return}var N=f?f(x,$,n+"",e,t,v):r,j=N===r;if(j){var B=se($),Y=!B&&pn($),Z=!B&&!Y&&Jn($);N=$,B||Y||Z?se(x)?N=x:Ne(x)?N=at(x):Y?(j=!1,N=el($,!0)):Z?(j=!1,N=tl($,!0)):N=[]:yr($)||An($)?(N=x,An(x)?N=Xl(x):(!Te(x)||Xt(x))&&(N=xl($))):j=!1}j&&(v.set($,N),u(N,$,s,f,v),v.delete($)),_o(e,n,N)}function Ua(e,t){var n=e.length;if(n)return t+=t<0?n:0,Jt(t,n)?e[t]:r}function Wa(e,t,n){t.length?t=Ie(t,function(f){return se(f)?function(v){return En(v,f.length===1?f[0]:f)}:f}):t=[ct];var s=-1;t=Ie(t,gt(X()));var u=Ba(e,function(f,v,x){var $=Ie(t,function(L){return L(f)});return{criteria:$,index:++s,value:f}});return Uf(u,function(f,v){return Ap(f,v,n)})}function vp(e,t){return za(e,t,function(n,s){return rs(e,s)})}function za(e,t,n){for(var s=-1,u=t.length,f={};++s<u;){var v=t[s],x=En(e,v);n(x,v)&&mr(f,fn(v,e),x)}return f}function bp(e){return function(t){return En(t,e)}}function Ro(e,t,n,s){var u=s?Hf:Fn,f=-1,v=t.length,x=e;for(e===t&&(t=at(t)),n&&(x=Ie(e,gt(n)));++f<v;)for(var $=0,L=t[f],N=n?n(L):L;($=u(x,N,$,s))>-1;)x!==e&&Jr.call(x,$,1),Jr.call(e,$,1);return e}function Ga(e,t){for(var n=e?t.length:0,s=n-1;n--;){var u=t[n];if(n==s||u!==f){var f=u;Jt(u)?Jr.call(e,u,1):No(e,u)}}return e}function To(e,t){return e+Qr(Ea()*(t-e+1))}function xp(e,t,n,s){for(var u=-1,f=Fe(Zr((t-e)/(n||1)),0),v=A(f);f--;)v[s?f:++u]=e,e+=n;return v}function Lo(e,t){var n="";if(!e||t<1||t>G)return n;do t%2&&(n+=e),t=Qr(t/2),t&&(e+=e);while(t);return n}function fe(e,t){return Yo(wl(e,t,ct),e+"")}function yp(e){return Aa(Xn(e))}function _p(e,t){var n=Xn(e);return mi(n,Sn(t,0,n.length))}function mr(e,t,n,s){if(!Te(e))return e;t=fn(t,e);for(var u=-1,f=t.length,v=f-1,x=e;x!=null&&++u<f;){var $=Ft(t[u]),L=n;if($==="__proto__"||$==="constructor"||$==="prototype")return e;if(u!=v){var N=x[$];L=s?s(N,$,x):r,L===r&&(L=Te(N)?N:Jt(t[u+1])?[]:{})}fr(x,$,L),x=x[$]}return e}var Va=ei?function(e,t){return ei.set(e,t),e}:ct,wp=Xr?function(e,t){return Xr(e,"toString",{configurable:!0,enumerable:!1,value:os(t),writable:!0})}:ct;function Cp(e){return mi(Xn(e))}function Et(e,t,n){var s=-1,u=e.length;t<0&&(t=-t>u?0:u+t),n=n>u?u:n,n<0&&(n+=u),u=t>n?0:n-t>>>0,t>>>=0;for(var f=A(u);++s<u;)f[s]=e[s+t];return f}function $p(e,t){var n;return cn(e,function(s,u,f){return n=t(s,u,f),!n}),!!n}function ai(e,t,n){var s=0,u=e==null?s:e.length;if(typeof t=="number"&&t===t&&u<=Pe){for(;s<u;){var f=s+u>>>1,v=e[f];v!==null&&!vt(v)&&(n?v<=t:v<t)?s=f+1:u=f}return u}return Oo(e,t,ct,n)}function Oo(e,t,n,s){var u=0,f=e==null?0:e.length;if(f===0)return 0;t=n(t);for(var v=t!==t,x=t===null,$=vt(t),L=t===r;u<f;){var N=Qr((u+f)/2),j=n(e[N]),B=j!==r,Y=j===null,Z=j===j,ce=vt(j);if(v)var Q=s||Z;else L?Q=Z&&(s||B):x?Q=Z&&B&&(s||!Y):$?Q=Z&&B&&!Y&&(s||!ce):Y||ce?Q=!1:Q=s?j<=t:j<t;Q?u=N+1:f=N}return ze(f,Me)}function qa(e,t){for(var n=-1,s=e.length,u=0,f=[];++n<s;){var v=e[n],x=t?t(v):v;if(!n||!Ot(x,$)){var $=x;f[u++]=v===0?0:v}}return f}function Ya(e){return typeof e=="number"?e:vt(e)?ie:+e}function mt(e){if(typeof e=="string")return e;if(se(e))return Ie(e,mt)+"";if(vt(e))return Ia?Ia.call(e):"";var t=e+"";return t=="0"&&1/e==-re?"-0":t}function dn(e,t,n){var s=-1,u=Br,f=e.length,v=!0,x=[],$=x;if(n)v=!1,u=ao;else if(f>=l){var L=t?null:kp(e);if(L)return Hr(L);v=!1,u=sr,$=new $n}else $=t?[]:x;e:for(;++s<f;){var N=e[s],j=t?t(N):N;if(N=n||N!==0?N:0,v&&j===j){for(var B=$.length;B--;)if($[B]===j)continue e;t&&$.push(j),x.push(N)}else u($,j,n)||($!==x&&$.push(j),x.push(N))}return x}function No(e,t){return t=fn(t,e),e=Cl(e,t),e==null||delete e[Ft(It(t))]}function Ja(e,t,n,s){return mr(e,t,n(En(e,t)),s)}function li(e,t,n,s){for(var u=e.length,f=s?u:-1;(s?f--:++f<u)&&t(e[f],f,e););return n?Et(e,s?0:f,s?f+1:u):Et(e,s?f+1:0,s?u:f)}function Xa(e,t){var n=e;return n instanceof pe&&(n=n.value()),lo(t,function(s,u){return u.func.apply(u.thisArg,an([s],u.args))},n)}function ko(e,t,n){var s=e.length;if(s<2)return s?dn(e[0]):[];for(var u=-1,f=A(s);++u<s;)for(var v=e[u],x=-1;++x<s;)x!=u&&(f[u]=hr(f[u]||v,e[x],t,n));return dn(Ue(f,1),t,n)}function Za(e,t,n){for(var s=-1,u=e.length,f=t.length,v={};++s<u;){var x=s<f?t[s]:r;n(v,e[s],x)}return v}function Do(e){return Ne(e)?e:[]}function Mo(e){return typeof e=="function"?e:ct}function fn(e,t){return se(e)?e:Go(e,t)?[e]:Il(_e(e))}var Sp=fe;function hn(e,t,n){var s=e.length;return n=n===r?s:n,!t&&n>=s?e:Et(e,t,n)}var Qa=fh||function(e){return He.clearTimeout(e)};function el(e,t){if(t)return e.slice();var n=e.length,s=_a?_a(n):new e.constructor(n);return e.copy(s),s}function jo(e){var t=new e.constructor(e.byteLength);return new qr(t).set(new qr(e)),t}function Ep(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Ip(e){var t=new e.constructor(e.source,Ms.exec(e));return t.lastIndex=e.lastIndex,t}function Pp(e){return dr?$e(dr.call(e)):{}}function tl(e,t){var n=t?jo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function nl(e,t){if(e!==t){var n=e!==r,s=e===null,u=e===e,f=vt(e),v=t!==r,x=t===null,$=t===t,L=vt(t);if(!x&&!L&&!f&&e>t||f&&v&&$&&!x&&!L||s&&v&&$||!n&&$||!u)return 1;if(!s&&!f&&!L&&e<t||L&&n&&u&&!s&&!f||x&&n&&u||!v&&u||!$)return-1}return 0}function Ap(e,t,n){for(var s=-1,u=e.criteria,f=t.criteria,v=u.length,x=n.length;++s<v;){var $=nl(u[s],f[s]);if($){if(s>=x)return $;var L=n[s];return $*(L=="desc"?-1:1)}}return e.index-t.index}function rl(e,t,n,s){for(var u=-1,f=e.length,v=n.length,x=-1,$=t.length,L=Fe(f-v,0),N=A($+L),j=!s;++x<$;)N[x]=t[x];for(;++u<v;)(j||u<f)&&(N[n[u]]=e[u]);for(;L--;)N[x++]=e[u++];return N}function il(e,t,n,s){for(var u=-1,f=e.length,v=-1,x=n.length,$=-1,L=t.length,N=Fe(f-x,0),j=A(N+L),B=!s;++u<N;)j[u]=e[u];for(var Y=u;++$<L;)j[Y+$]=t[$];for(;++v<x;)(B||u<f)&&(j[Y+n[v]]=e[u++]);return j}function at(e,t){var n=-1,s=e.length;for(t||(t=A(s));++n<s;)t[n]=e[n];return t}function jt(e,t,n,s){var u=!n;n||(n={});for(var f=-1,v=t.length;++f<v;){var x=t[f],$=s?s(n[x],e[x],x,n,e):r;$===r&&($=e[x]),u?Vt(n,x,$):fr(n,x,$)}return n}function Rp(e,t){return jt(e,zo(e),t)}function Tp(e,t){return jt(e,vl(e),t)}function ui(e,t){return function(n,s){var u=se(n)?Df:Qh,f=t?t():{};return u(n,e,X(s,2),f)}}function Vn(e){return fe(function(t,n){var s=-1,u=n.length,f=u>1?n[u-1]:r,v=u>2?n[2]:r;for(f=e.length>3&&typeof f=="function"?(u--,f):r,v&&Qe(n[0],n[1],v)&&(f=u<3?r:f,u=1),t=$e(t);++s<u;){var x=n[s];x&&e(t,x,s,f)}return t})}function ol(e,t){return function(n,s){if(n==null)return n;if(!lt(n))return e(n,s);for(var u=n.length,f=t?u:-1,v=$e(n);(t?f--:++f<u)&&s(v[f],f,v)!==!1;);return n}}function sl(e){return function(t,n,s){for(var u=-1,f=$e(t),v=s(t),x=v.length;x--;){var $=v[e?x:++u];if(n(f[$],$,f)===!1)break}return t}}function Lp(e,t,n){var s=t&R,u=vr(e);function f(){var v=this&&this!==He&&this instanceof f?u:e;return v.apply(s?n:this,arguments)}return f}function al(e){return function(t){t=_e(t);var n=Bn(t)?Tt(t):r,s=n?n[0]:t.charAt(0),u=n?hn(n,1).join(""):t.slice(1);return s[e]()+u}}function qn(e){return function(t){return lo(ou(iu(t).replace(wf,"")),e,"")}}function vr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),s=e.apply(n,t);return Te(s)?s:n}}function Op(e,t,n){var s=vr(e);function u(){for(var f=arguments.length,v=A(f),x=f,$=Yn(u);x--;)v[x]=arguments[x];var L=f<3&&v[0]!==$&&v[f-1]!==$?[]:ln(v,$);if(f-=L.length,f<n)return fl(e,t,ci,u.placeholder,r,v,L,r,r,n-f);var N=this&&this!==He&&this instanceof u?s:e;return pt(N,this,v)}return u}function ll(e){return function(t,n,s){var u=$e(t);if(!lt(t)){var f=X(n,3);t=Be(t),n=function(x){return f(u[x],x,u)}}var v=e(t,n,s);return v>-1?u[f?t[v]:v]:r}}function ul(e){return Yt(function(t){var n=t.length,s=n,u=$t.prototype.thru;for(e&&t.reverse();s--;){var f=t[s];if(typeof f!="function")throw new Ct(h);if(u&&!v&&pi(f)=="wrapper")var v=new $t([],!0)}for(s=v?s:n;++s<n;){f=t[s];var x=pi(f),$=x=="wrapper"?Uo(f):r;$&&Vo($[0])&&$[1]==(K|F|M|V)&&!$[4].length&&$[9]==1?v=v[pi($[0])].apply(v,$[3]):v=f.length==1&&Vo(f)?v[x]():v.thru(f)}return function(){var L=arguments,N=L[0];if(v&&L.length==1&&se(N))return v.plant(N).value();for(var j=0,B=n?t[j].apply(this,L):N;++j<n;)B=t[j].call(this,B);return B}})}function ci(e,t,n,s,u,f,v,x,$,L){var N=t&K,j=t&R,B=t&D,Y=t&(F|U),Z=t&H,ce=B?r:vr(e);function Q(){for(var he=arguments.length,ge=A(he),bt=he;bt--;)ge[bt]=arguments[bt];if(Y)var et=Yn(Q),xt=zf(ge,et);if(s&&(ge=rl(ge,s,u,Y)),f&&(ge=il(ge,f,v,Y)),he-=xt,Y&&he<L){var ke=ln(ge,et);return fl(e,t,ci,Q.placeholder,n,ge,ke,x,$,L-he)}var Nt=j?n:this,Qt=B?Nt[e]:e;return he=ge.length,x?ge=Qp(ge,x):Z&&he>1&&ge.reverse(),N&&$<he&&(ge.length=$),this&&this!==He&&this instanceof Q&&(Qt=ce||vr(Qt)),Qt.apply(Nt,ge)}return Q}function cl(e,t){return function(n,s){return ap(n,e,t(s),{})}}function di(e,t){return function(n,s){var u;if(n===r&&s===r)return t;if(n!==r&&(u=n),s!==r){if(u===r)return s;typeof n=="string"||typeof s=="string"?(n=mt(n),s=mt(s)):(n=Ya(n),s=Ya(s)),u=e(n,s)}return u}}function Fo(e){return Yt(function(t){return t=Ie(t,gt(X())),fe(function(n){var s=this;return e(t,function(u){return pt(u,s,n)})})})}function fi(e,t){t=t===r?" ":mt(t);var n=t.length;if(n<2)return n?Lo(t,e):t;var s=Lo(t,Zr(e/Kn(t)));return Bn(t)?hn(Tt(s),0,e).join(""):s.slice(0,e)}function Np(e,t,n,s){var u=t&R,f=vr(e);function v(){for(var x=-1,$=arguments.length,L=-1,N=s.length,j=A(N+$),B=this&&this!==He&&this instanceof v?f:e;++L<N;)j[L]=s[L];for(;$--;)j[L++]=arguments[++x];return pt(B,u?n:this,j)}return v}function dl(e){return function(t,n,s){return s&&typeof s!="number"&&Qe(t,n,s)&&(n=s=r),t=Zt(t),n===r?(n=t,t=0):n=Zt(n),s=s===r?t<n?1:-1:Zt(s),xp(t,n,s,e)}}function hi(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Pt(t),n=Pt(n)),e(t,n)}}function fl(e,t,n,s,u,f,v,x,$,L){var N=t&F,j=N?v:r,B=N?r:v,Y=N?f:r,Z=N?r:f;t|=N?M:k,t&=~(N?k:M),t&O||(t&=-4);var ce=[e,t,u,Y,j,Z,B,x,$,L],Q=n.apply(r,ce);return Vo(e)&&$l(Q,ce),Q.placeholder=s,Sl(Q,e,t)}function Bo(e){var t=je[e];return function(n,s){if(n=Pt(n),s=s==null?0:ze(ue(s),292),s&&Sa(n)){var u=(_e(n)+"e").split("e"),f=t(u[0]+"e"+(+u[1]+s));return u=(_e(f)+"e").split("e"),+(u[0]+"e"+(+u[1]-s))}return t(n)}}var kp=Wn&&1/Hr(new Wn([,-0]))[1]==re?function(e){return new Wn(e)}:ls;function hl(e){return function(t){var n=Ge(t);return n==Je?mo(t):n==ht?Zf(t):Wf(t,e(t))}}function qt(e,t,n,s,u,f,v,x){var $=t&D;if(!$&&typeof e!="function")throw new Ct(h);var L=s?s.length:0;if(L||(t&=-97,s=u=r),v=v===r?v:Fe(ue(v),0),x=x===r?x:ue(x),L-=u?u.length:0,t&k){var N=s,j=u;s=u=r}var B=$?r:Uo(e),Y=[e,t,n,s,u,N,j,f,v,x];if(B&&Jp(Y,B),e=Y[0],t=Y[1],n=Y[2],s=Y[3],u=Y[4],x=Y[9]=Y[9]===r?$?0:e.length:Fe(Y[9]-L,0),!x&&t&(F|U)&&(t&=-25),!t||t==R)var Z=Lp(e,t,n);else t==F||t==U?Z=Op(e,t,x):(t==M||t==(R|M))&&!u.length?Z=Np(e,t,n,s):Z=ci.apply(r,Y);var ce=B?Va:$l;return Sl(ce(Z,Y),e,t)}function pl(e,t,n,s){return e===r||Ot(e,Un[n])&&!Ce.call(s,n)?t:e}function gl(e,t,n,s,u,f){return Te(e)&&Te(t)&&(f.set(t,e),si(e,t,r,gl,f),f.delete(t)),e}function Dp(e){return yr(e)?r:e}function ml(e,t,n,s,u,f){var v=n&I,x=e.length,$=t.length;if(x!=$&&!(v&&$>x))return!1;var L=f.get(e),N=f.get(t);if(L&&N)return L==t&&N==e;var j=-1,B=!0,Y=n&S?new $n:r;for(f.set(e,t),f.set(t,e);++j<x;){var Z=e[j],ce=t[j];if(s)var Q=v?s(ce,Z,j,t,e,f):s(Z,ce,j,e,t,f);if(Q!==r){if(Q)continue;B=!1;break}if(Y){if(!uo(t,function(he,ge){if(!sr(Y,ge)&&(Z===he||u(Z,he,n,s,f)))return Y.push(ge)})){B=!1;break}}else if(!(Z===ce||u(Z,ce,n,s,f))){B=!1;break}}return f.delete(e),f.delete(t),B}function Mp(e,t,n,s,u,f,v){switch(n){case Wt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case on:return!(e.byteLength!=t.byteLength||!f(new qr(e),new qr(t)));case it:case xe:case Ut:return Ot(+e,+t);case Ye:return e.name==t.name&&e.message==t.message;case bn:case xn:return e==t+"";case Je:var x=mo;case ht:var $=s&I;if(x||(x=Hr),e.size!=t.size&&!$)return!1;var L=v.get(e);if(L)return L==t;s|=S,v.set(e,t);var N=ml(x(e),x(t),s,u,f,v);return v.delete(e),N;case Mn:if(dr)return dr.call(e)==dr.call(t)}return!1}function jp(e,t,n,s,u,f){var v=n&I,x=Ko(e),$=x.length,L=Ko(t),N=L.length;if($!=N&&!v)return!1;for(var j=$;j--;){var B=x[j];if(!(v?B in t:Ce.call(t,B)))return!1}var Y=f.get(e),Z=f.get(t);if(Y&&Z)return Y==t&&Z==e;var ce=!0;f.set(e,t),f.set(t,e);for(var Q=v;++j<$;){B=x[j];var he=e[B],ge=t[B];if(s)var bt=v?s(ge,he,B,t,e,f):s(he,ge,B,e,t,f);if(!(bt===r?he===ge||u(he,ge,n,s,f):bt)){ce=!1;break}Q||(Q=B=="constructor")}if(ce&&!Q){var et=e.constructor,xt=t.constructor;et!=xt&&"constructor"in e&&"constructor"in t&&!(typeof et=="function"&&et instanceof et&&typeof xt=="function"&&xt instanceof xt)&&(ce=!1)}return f.delete(e),f.delete(t),ce}function Yt(e){return Yo(wl(e,r,Tl),e+"")}function Ko(e){return Da(e,Be,zo)}function Ho(e){return Da(e,ut,vl)}var Uo=ei?function(e){return ei.get(e)}:ls;function pi(e){for(var t=e.name+"",n=zn[t],s=Ce.call(zn,t)?n.length:0;s--;){var u=n[s],f=u.func;if(f==null||f==e)return u.name}return t}function Yn(e){var t=Ce.call(d,"placeholder")?d:e;return t.placeholder}function X(){var e=d.iteratee||ss;return e=e===ss?Fa:e,arguments.length?e(arguments[0],arguments[1]):e}function gi(e,t){var n=e.__data__;return Gp(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Wo(e){for(var t=Be(e),n=t.length;n--;){var s=t[n],u=e[s];t[n]=[s,u,yl(u)]}return t}function In(e,t){var n=Yf(e,t);return ja(n)?n:r}function Fp(e){var t=Ce.call(e,wn),n=e[wn];try{e[wn]=r;var s=!0}catch{}var u=Gr.call(e);return s&&(t?e[wn]=n:delete e[wn]),u}var zo=bo?function(e){return e==null?[]:(e=$e(e),sn(bo(e),function(t){return Ca.call(e,t)}))}:us,vl=bo?function(e){for(var t=[];e;)an(t,zo(e)),e=Yr(e);return t}:us,Ge=Ze;(xo&&Ge(new xo(new ArrayBuffer(1)))!=Wt||lr&&Ge(new lr)!=Je||yo&&Ge(yo.resolve())!=rn||Wn&&Ge(new Wn)!=ht||ur&&Ge(new ur)!=yn)&&(Ge=function(e){var t=Ze(e),n=t==we?e.constructor:r,s=n?Pn(n):"";if(s)switch(s){case _h:return Wt;case wh:return Je;case Ch:return rn;case $h:return ht;case Sh:return yn}return t});function Bp(e,t,n){for(var s=-1,u=n.length;++s<u;){var f=n[s],v=f.size;switch(f.type){case"drop":e+=v;break;case"dropRight":t-=v;break;case"take":t=ze(t,e+v);break;case"takeRight":e=Fe(e,t-v);break}}return{start:e,end:t}}function Kp(e){var t=e.match(Gd);return t?t[1].split(Vd):[]}function bl(e,t,n){t=fn(t,e);for(var s=-1,u=t.length,f=!1;++s<u;){var v=Ft(t[s]);if(!(f=e!=null&&n(e,v)))break;e=e[v]}return f||++s!=u?f:(u=e==null?0:e.length,!!u&&wi(u)&&Jt(v,u)&&(se(e)||An(e)))}function Hp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Ce.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function xl(e){return typeof e.constructor=="function"&&!br(e)?Gn(Yr(e)):{}}function Up(e,t,n){var s=e.constructor;switch(t){case on:return jo(e);case it:case xe:return new s(+e);case Wt:return Ep(e,n);case Ui:case Wi:case zi:case Gi:case Vi:case qi:case Yi:case Ji:case Xi:return tl(e,n);case Je:return new s;case Ut:case xn:return new s(e);case bn:return Ip(e);case ht:return new s;case Mn:return Pp(e)}}function Wp(e,t){var n=t.length;if(!n)return e;var s=n-1;return t[s]=(n>1?"& ":"")+t[s],t=t.join(n>2?", ":" "),e.replace(zd,`{
/* [wrapped with `+t+`] */
`)}function zp(e){return se(e)||An(e)||!!($a&&e&&e[$a])}function Jt(e,t){var n=typeof e;return t=t??G,!!t&&(n=="number"||n!="symbol"&&nf.test(e))&&e>-1&&e%1==0&&e<t}function Qe(e,t,n){if(!Te(n))return!1;var s=typeof t;return(s=="number"?lt(n)&&Jt(t,n.length):s=="string"&&t in n)?Ot(n[t],e):!1}function Go(e,t){if(se(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||vt(e)?!0:Kd.test(e)||!Bd.test(e)||t!=null&&e in $e(t)}function Gp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Vo(e){var t=pi(e),n=d[t];if(typeof n!="function"||!(t in pe.prototype))return!1;if(e===n)return!0;var s=Uo(n);return!!s&&e===s[0]}function Vp(e){return!!ya&&ya in e}var qp=Wr?Xt:cs;function br(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Un;return e===n}function yl(e){return e===e&&!Te(e)}function _l(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==r||e in $e(n))}}function Yp(e){var t=yi(e,function(s){return n.size===_&&n.clear(),s}),n=t.cache;return t}function Jp(e,t){var n=e[1],s=t[1],u=n|s,f=u<(R|D|K),v=s==K&&n==F||s==K&&n==V&&e[7].length<=t[8]||s==(K|V)&&t[7].length<=t[8]&&n==F;if(!(f||v))return e;s&R&&(e[2]=t[2],u|=n&R?0:O);var x=t[3];if(x){var $=e[3];e[3]=$?rl($,x,t[4]):x,e[4]=$?ln(e[3],y):t[4]}return x=t[5],x&&($=e[5],e[5]=$?il($,x,t[6]):x,e[6]=$?ln(e[5],y):t[6]),x=t[7],x&&(e[7]=x),s&K&&(e[8]=e[8]==null?t[8]:ze(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}function Xp(e){var t=[];if(e!=null)for(var n in $e(e))t.push(n);return t}function Zp(e){return Gr.call(e)}function wl(e,t,n){return t=Fe(t===r?e.length-1:t,0),function(){for(var s=arguments,u=-1,f=Fe(s.length-t,0),v=A(f);++u<f;)v[u]=s[t+u];u=-1;for(var x=A(t+1);++u<t;)x[u]=s[u];return x[t]=n(v),pt(e,this,x)}}function Cl(e,t){return t.length<2?e:En(e,Et(t,0,-1))}function Qp(e,t){for(var n=e.length,s=ze(t.length,n),u=at(e);s--;){var f=t[s];e[s]=Jt(f,n)?u[f]:r}return e}function qo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var $l=El(Va),xr=ph||function(e,t){return He.setTimeout(e,t)},Yo=El(wp);function Sl(e,t,n){var s=t+"";return Yo(e,Wp(s,eg(Kp(s),n)))}function El(e){var t=0,n=0;return function(){var s=bh(),u=ee-(s-n);if(n=s,u>0){if(++t>=W)return arguments[0]}else t=0;return e.apply(r,arguments)}}function mi(e,t){var n=-1,s=e.length,u=s-1;for(t=t===r?s:t;++n<t;){var f=To(n,u),v=e[f];e[f]=e[n],e[n]=v}return e.length=t,e}var Il=Yp(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Hd,function(n,s,u,f){t.push(u?f.replace(Jd,"$1"):s||n)}),t});function Ft(e){if(typeof e=="string"||vt(e))return e;var t=e+"";return t=="0"&&1/e==-re?"-0":t}function Pn(e){if(e!=null){try{return zr.call(e)}catch{}try{return e+""}catch{}}return""}function eg(e,t){return wt(me,function(n){var s="_."+n[0];t&n[1]&&!Br(e,s)&&e.push(s)}),e.sort()}function Pl(e){if(e instanceof pe)return e.clone();var t=new $t(e.__wrapped__,e.__chain__);return t.__actions__=at(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function tg(e,t,n){(n?Qe(e,t,n):t===r)?t=1:t=Fe(ue(t),0);var s=e==null?0:e.length;if(!s||t<1)return[];for(var u=0,f=0,v=A(Zr(s/t));u<s;)v[f++]=Et(e,u,u+=t);return v}function ng(e){for(var t=-1,n=e==null?0:e.length,s=0,u=[];++t<n;){var f=e[t];f&&(u[s++]=f)}return u}function rg(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),n=arguments[0],s=e;s--;)t[s-1]=arguments[s];return an(se(n)?at(n):[n],Ue(t,1))}var ig=fe(function(e,t){return Ne(e)?hr(e,Ue(t,1,Ne,!0)):[]}),og=fe(function(e,t){var n=It(t);return Ne(n)&&(n=r),Ne(e)?hr(e,Ue(t,1,Ne,!0),X(n,2)):[]}),sg=fe(function(e,t){var n=It(t);return Ne(n)&&(n=r),Ne(e)?hr(e,Ue(t,1,Ne,!0),r,n):[]});function ag(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===r?1:ue(t),Et(e,t<0?0:t,s)):[]}function lg(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===r?1:ue(t),t=s-t,Et(e,0,t<0?0:t)):[]}function ug(e,t){return e&&e.length?li(e,X(t,3),!0,!0):[]}function cg(e,t){return e&&e.length?li(e,X(t,3),!0):[]}function dg(e,t,n,s){var u=e==null?0:e.length;return u?(n&&typeof n!="number"&&Qe(e,t,n)&&(n=0,s=u),rp(e,t,n,s)):[]}function Al(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var u=n==null?0:ue(n);return u<0&&(u=Fe(s+u,0)),Kr(e,X(t,3),u)}function Rl(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var u=s-1;return n!==r&&(u=ue(n),u=n<0?Fe(s+u,0):ze(u,s-1)),Kr(e,X(t,3),u,!0)}function Tl(e){var t=e==null?0:e.length;return t?Ue(e,1):[]}function fg(e){var t=e==null?0:e.length;return t?Ue(e,re):[]}function hg(e,t){var n=e==null?0:e.length;return n?(t=t===r?1:ue(t),Ue(e,t)):[]}function pg(e){for(var t=-1,n=e==null?0:e.length,s={};++t<n;){var u=e[t];s[u[0]]=u[1]}return s}function Ll(e){return e&&e.length?e[0]:r}function gg(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var u=n==null?0:ue(n);return u<0&&(u=Fe(s+u,0)),Fn(e,t,u)}function mg(e){var t=e==null?0:e.length;return t?Et(e,0,-1):[]}var vg=fe(function(e){var t=Ie(e,Do);return t.length&&t[0]===e[0]?Eo(t):[]}),bg=fe(function(e){var t=It(e),n=Ie(e,Do);return t===It(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Eo(n,X(t,2)):[]}),xg=fe(function(e){var t=It(e),n=Ie(e,Do);return t=typeof t=="function"?t:r,t&&n.pop(),n.length&&n[0]===e[0]?Eo(n,r,t):[]});function yg(e,t){return e==null?"":mh.call(e,t)}function It(e){var t=e==null?0:e.length;return t?e[t-1]:r}function _g(e,t,n){var s=e==null?0:e.length;if(!s)return-1;var u=s;return n!==r&&(u=ue(n),u=u<0?Fe(s+u,0):ze(u,s-1)),t===t?eh(e,t,u):Kr(e,fa,u,!0)}function wg(e,t){return e&&e.length?Ua(e,ue(t)):r}var Cg=fe(Ol);function Ol(e,t){return e&&e.length&&t&&t.length?Ro(e,t):e}function $g(e,t,n){return e&&e.length&&t&&t.length?Ro(e,t,X(n,2)):e}function Sg(e,t,n){return e&&e.length&&t&&t.length?Ro(e,t,r,n):e}var Eg=Yt(function(e,t){var n=e==null?0:e.length,s=wo(e,t);return Ga(e,Ie(t,function(u){return Jt(u,n)?+u:u}).sort(nl)),s});function Ig(e,t){var n=[];if(!(e&&e.length))return n;var s=-1,u=[],f=e.length;for(t=X(t,3);++s<f;){var v=e[s];t(v,s,e)&&(n.push(v),u.push(s))}return Ga(e,u),n}function Jo(e){return e==null?e:yh.call(e)}function Pg(e,t,n){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&Qe(e,t,n)?(t=0,n=s):(t=t==null?0:ue(t),n=n===r?s:ue(n)),Et(e,t,n)):[]}function Ag(e,t){return ai(e,t)}function Rg(e,t,n){return Oo(e,t,X(n,2))}function Tg(e,t){var n=e==null?0:e.length;if(n){var s=ai(e,t);if(s<n&&Ot(e[s],t))return s}return-1}function Lg(e,t){return ai(e,t,!0)}function Og(e,t,n){return Oo(e,t,X(n,2),!0)}function Ng(e,t){var n=e==null?0:e.length;if(n){var s=ai(e,t,!0)-1;if(Ot(e[s],t))return s}return-1}function kg(e){return e&&e.length?qa(e):[]}function Dg(e,t){return e&&e.length?qa(e,X(t,2)):[]}function Mg(e){var t=e==null?0:e.length;return t?Et(e,1,t):[]}function jg(e,t,n){return e&&e.length?(t=n||t===r?1:ue(t),Et(e,0,t<0?0:t)):[]}function Fg(e,t,n){var s=e==null?0:e.length;return s?(t=n||t===r?1:ue(t),t=s-t,Et(e,t<0?0:t,s)):[]}function Bg(e,t){return e&&e.length?li(e,X(t,3),!1,!0):[]}function Kg(e,t){return e&&e.length?li(e,X(t,3)):[]}var Hg=fe(function(e){return dn(Ue(e,1,Ne,!0))}),Ug=fe(function(e){var t=It(e);return Ne(t)&&(t=r),dn(Ue(e,1,Ne,!0),X(t,2))}),Wg=fe(function(e){var t=It(e);return t=typeof t=="function"?t:r,dn(Ue(e,1,Ne,!0),r,t)});function zg(e){return e&&e.length?dn(e):[]}function Gg(e,t){return e&&e.length?dn(e,X(t,2)):[]}function Vg(e,t){return t=typeof t=="function"?t:r,e&&e.length?dn(e,r,t):[]}function Xo(e){if(!(e&&e.length))return[];var t=0;return e=sn(e,function(n){if(Ne(n))return t=Fe(n.length,t),!0}),po(t,function(n){return Ie(e,co(n))})}function Nl(e,t){if(!(e&&e.length))return[];var n=Xo(e);return t==null?n:Ie(n,function(s){return pt(t,r,s)})}var qg=fe(function(e,t){return Ne(e)?hr(e,t):[]}),Yg=fe(function(e){return ko(sn(e,Ne))}),Jg=fe(function(e){var t=It(e);return Ne(t)&&(t=r),ko(sn(e,Ne),X(t,2))}),Xg=fe(function(e){var t=It(e);return t=typeof t=="function"?t:r,ko(sn(e,Ne),r,t)}),Zg=fe(Xo);function Qg(e,t){return Za(e||[],t||[],fr)}function em(e,t){return Za(e||[],t||[],mr)}var tm=fe(function(e){var t=e.length,n=t>1?e[t-1]:r;return n=typeof n=="function"?(e.pop(),n):r,Nl(e,n)});function kl(e){var t=d(e);return t.__chain__=!0,t}function nm(e,t){return t(e),e}function vi(e,t){return t(e)}var rm=Yt(function(e){var t=e.length,n=t?e[0]:0,s=this.__wrapped__,u=function(f){return wo(f,e)};return t>1||this.__actions__.length||!(s instanceof pe)||!Jt(n)?this.thru(u):(s=s.slice(n,+n+(t?1:0)),s.__actions__.push({func:vi,args:[u],thisArg:r}),new $t(s,this.__chain__).thru(function(f){return t&&!f.length&&f.push(r),f}))});function im(){return kl(this)}function om(){return new $t(this.value(),this.__chain__)}function sm(){this.__values__===r&&(this.__values__=Yl(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function am(){return this}function lm(e){for(var t,n=this;n instanceof ni;){var s=Pl(n);s.__index__=0,s.__values__=r,t?u.__wrapped__=s:t=s;var u=s;n=n.__wrapped__}return u.__wrapped__=e,t}function um(){var e=this.__wrapped__;if(e instanceof pe){var t=e;return this.__actions__.length&&(t=new pe(this)),t=t.reverse(),t.__actions__.push({func:vi,args:[Jo],thisArg:r}),new $t(t,this.__chain__)}return this.thru(Jo)}function cm(){return Xa(this.__wrapped__,this.__actions__)}var dm=ui(function(e,t,n){Ce.call(e,n)?++e[n]:Vt(e,n,1)});function fm(e,t,n){var s=se(e)?ca:np;return n&&Qe(e,t,n)&&(t=r),s(e,X(t,3))}function hm(e,t){var n=se(e)?sn:Na;return n(e,X(t,3))}var pm=ll(Al),gm=ll(Rl);function mm(e,t){return Ue(bi(e,t),1)}function vm(e,t){return Ue(bi(e,t),re)}function bm(e,t,n){return n=n===r?1:ue(n),Ue(bi(e,t),n)}function Dl(e,t){var n=se(e)?wt:cn;return n(e,X(t,3))}function Ml(e,t){var n=se(e)?Mf:Oa;return n(e,X(t,3))}var xm=ui(function(e,t,n){Ce.call(e,n)?e[n].push(t):Vt(e,n,[t])});function ym(e,t,n,s){e=lt(e)?e:Xn(e),n=n&&!s?ue(n):0;var u=e.length;return n<0&&(n=Fe(u+n,0)),Ci(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&Fn(e,t,n)>-1}var _m=fe(function(e,t,n){var s=-1,u=typeof t=="function",f=lt(e)?A(e.length):[];return cn(e,function(v){f[++s]=u?pt(t,v,n):pr(v,t,n)}),f}),wm=ui(function(e,t,n){Vt(e,n,t)});function bi(e,t){var n=se(e)?Ie:Ba;return n(e,X(t,3))}function Cm(e,t,n,s){return e==null?[]:(se(t)||(t=t==null?[]:[t]),n=s?r:n,se(n)||(n=n==null?[]:[n]),Wa(e,t,n))}var $m=ui(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Sm(e,t,n){var s=se(e)?lo:pa,u=arguments.length<3;return s(e,X(t,4),n,u,cn)}function Em(e,t,n){var s=se(e)?jf:pa,u=arguments.length<3;return s(e,X(t,4),n,u,Oa)}function Im(e,t){var n=se(e)?sn:Na;return n(e,_i(X(t,3)))}function Pm(e){var t=se(e)?Aa:yp;return t(e)}function Am(e,t,n){(n?Qe(e,t,n):t===r)?t=1:t=ue(t);var s=se(e)?Xh:_p;return s(e,t)}function Rm(e){var t=se(e)?Zh:Cp;return t(e)}function Tm(e){if(e==null)return 0;if(lt(e))return Ci(e)?Kn(e):e.length;var t=Ge(e);return t==Je||t==ht?e.size:Po(e).length}function Lm(e,t,n){var s=se(e)?uo:$p;return n&&Qe(e,t,n)&&(t=r),s(e,X(t,3))}var Om=fe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Qe(e,t[0],t[1])?t=[]:n>2&&Qe(t[0],t[1],t[2])&&(t=[t[0]]),Wa(e,Ue(t,1),[])}),xi=hh||function(){return He.Date.now()};function Nm(e,t){if(typeof t!="function")throw new Ct(h);return e=ue(e),function(){if(--e<1)return t.apply(this,arguments)}}function jl(e,t,n){return t=n?r:t,t=e&&t==null?e.length:t,qt(e,K,r,r,r,r,t)}function Fl(e,t){var n;if(typeof t!="function")throw new Ct(h);return e=ue(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Zo=fe(function(e,t,n){var s=R;if(n.length){var u=ln(n,Yn(Zo));s|=M}return qt(e,s,t,n,u)}),Bl=fe(function(e,t,n){var s=R|D;if(n.length){var u=ln(n,Yn(Bl));s|=M}return qt(t,s,e,n,u)});function Kl(e,t,n){t=n?r:t;var s=qt(e,F,r,r,r,r,r,t);return s.placeholder=Kl.placeholder,s}function Hl(e,t,n){t=n?r:t;var s=qt(e,U,r,r,r,r,r,t);return s.placeholder=Hl.placeholder,s}function Ul(e,t,n){var s,u,f,v,x,$,L=0,N=!1,j=!1,B=!0;if(typeof e!="function")throw new Ct(h);t=Pt(t)||0,Te(n)&&(N=!!n.leading,j="maxWait"in n,f=j?Fe(Pt(n.maxWait)||0,t):f,B="trailing"in n?!!n.trailing:B);function Y(ke){var Nt=s,Qt=u;return s=u=r,L=ke,v=e.apply(Qt,Nt),v}function Z(ke){return L=ke,x=xr(he,t),N?Y(ke):v}function ce(ke){var Nt=ke-$,Qt=ke-L,lu=t-Nt;return j?ze(lu,f-Qt):lu}function Q(ke){var Nt=ke-$,Qt=ke-L;return $===r||Nt>=t||Nt<0||j&&Qt>=f}function he(){var ke=xi();if(Q(ke))return ge(ke);x=xr(he,ce(ke))}function ge(ke){return x=r,B&&s?Y(ke):(s=u=r,v)}function bt(){x!==r&&Qa(x),L=0,s=$=u=x=r}function et(){return x===r?v:ge(xi())}function xt(){var ke=xi(),Nt=Q(ke);if(s=arguments,u=this,$=ke,Nt){if(x===r)return Z($);if(j)return Qa(x),x=xr(he,t),Y($)}return x===r&&(x=xr(he,t)),v}return xt.cancel=bt,xt.flush=et,xt}var km=fe(function(e,t){return La(e,1,t)}),Dm=fe(function(e,t,n){return La(e,Pt(t)||0,n)});function Mm(e){return qt(e,H)}function yi(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ct(h);var n=function(){var s=arguments,u=t?t.apply(this,s):s[0],f=n.cache;if(f.has(u))return f.get(u);var v=e.apply(this,s);return n.cache=f.set(u,v)||f,v};return n.cache=new(yi.Cache||Gt),n}yi.Cache=Gt;function _i(e){if(typeof e!="function")throw new Ct(h);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function jm(e){return Fl(2,e)}var Fm=Sp(function(e,t){t=t.length==1&&se(t[0])?Ie(t[0],gt(X())):Ie(Ue(t,1),gt(X()));var n=t.length;return fe(function(s){for(var u=-1,f=ze(s.length,n);++u<f;)s[u]=t[u].call(this,s[u]);return pt(e,this,s)})}),Qo=fe(function(e,t){var n=ln(t,Yn(Qo));return qt(e,M,r,t,n)}),Wl=fe(function(e,t){var n=ln(t,Yn(Wl));return qt(e,k,r,t,n)}),Bm=Yt(function(e,t){return qt(e,V,r,r,r,t)});function Km(e,t){if(typeof e!="function")throw new Ct(h);return t=t===r?t:ue(t),fe(e,t)}function Hm(e,t){if(typeof e!="function")throw new Ct(h);return t=t==null?0:Fe(ue(t),0),fe(function(n){var s=n[t],u=hn(n,0,t);return s&&an(u,s),pt(e,this,u)})}function Um(e,t,n){var s=!0,u=!0;if(typeof e!="function")throw new Ct(h);return Te(n)&&(s="leading"in n?!!n.leading:s,u="trailing"in n?!!n.trailing:u),Ul(e,t,{leading:s,maxWait:t,trailing:u})}function Wm(e){return jl(e,1)}function zm(e,t){return Qo(Mo(t),e)}function Gm(){if(!arguments.length)return[];var e=arguments[0];return se(e)?e:[e]}function Vm(e){return St(e,E)}function qm(e,t){return t=typeof t=="function"?t:r,St(e,E,t)}function Ym(e){return St(e,w|E)}function Jm(e,t){return t=typeof t=="function"?t:r,St(e,w|E,t)}function Xm(e,t){return t==null||Ta(e,t,Be(t))}function Ot(e,t){return e===t||e!==e&&t!==t}var Zm=hi(So),Qm=hi(function(e,t){return e>=t}),An=Ma(function(){return arguments}())?Ma:function(e){return Le(e)&&Ce.call(e,"callee")&&!Ca.call(e,"callee")},se=A.isArray,ev=ia?gt(ia):lp;function lt(e){return e!=null&&wi(e.length)&&!Xt(e)}function Ne(e){return Le(e)&&lt(e)}function tv(e){return e===!0||e===!1||Le(e)&&Ze(e)==it}var pn=gh||cs,nv=oa?gt(oa):up;function rv(e){return Le(e)&&e.nodeType===1&&!yr(e)}function iv(e){if(e==null)return!0;if(lt(e)&&(se(e)||typeof e=="string"||typeof e.splice=="function"||pn(e)||Jn(e)||An(e)))return!e.length;var t=Ge(e);if(t==Je||t==ht)return!e.size;if(br(e))return!Po(e).length;for(var n in e)if(Ce.call(e,n))return!1;return!0}function ov(e,t){return gr(e,t)}function sv(e,t,n){n=typeof n=="function"?n:r;var s=n?n(e,t):r;return s===r?gr(e,t,r,n):!!s}function es(e){if(!Le(e))return!1;var t=Ze(e);return t==Ye||t==ot||typeof e.message=="string"&&typeof e.name=="string"&&!yr(e)}function av(e){return typeof e=="number"&&Sa(e)}function Xt(e){if(!Te(e))return!1;var t=Ze(e);return t==st||t==Dn||t==Dt||t==Ki}function zl(e){return typeof e=="number"&&e==ue(e)}function wi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=G}function Te(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Le(e){return e!=null&&typeof e=="object"}var Gl=sa?gt(sa):dp;function lv(e,t){return e===t||Io(e,t,Wo(t))}function uv(e,t,n){return n=typeof n=="function"?n:r,Io(e,t,Wo(t),n)}function cv(e){return Vl(e)&&e!=+e}function dv(e){if(qp(e))throw new ne(c);return ja(e)}function fv(e){return e===null}function hv(e){return e==null}function Vl(e){return typeof e=="number"||Le(e)&&Ze(e)==Ut}function yr(e){if(!Le(e)||Ze(e)!=we)return!1;var t=Yr(e);if(t===null)return!0;var n=Ce.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&zr.call(n)==uh}var ts=aa?gt(aa):fp;function pv(e){return zl(e)&&e>=-G&&e<=G}var ql=la?gt(la):hp;function Ci(e){return typeof e=="string"||!se(e)&&Le(e)&&Ze(e)==xn}function vt(e){return typeof e=="symbol"||Le(e)&&Ze(e)==Mn}var Jn=ua?gt(ua):pp;function gv(e){return e===r}function mv(e){return Le(e)&&Ge(e)==yn}function vv(e){return Le(e)&&Ze(e)==Xe}var bv=hi(Ao),xv=hi(function(e,t){return e<=t});function Yl(e){if(!e)return[];if(lt(e))return Ci(e)?Tt(e):at(e);if(ar&&e[ar])return Xf(e[ar]());var t=Ge(e),n=t==Je?mo:t==ht?Hr:Xn;return n(e)}function Zt(e){if(!e)return e===0?e:0;if(e=Pt(e),e===re||e===-re){var t=e<0?-1:1;return t*be}return e===e?e:0}function ue(e){var t=Zt(e),n=t%1;return t===t?n?t-n:t:0}function Jl(e){return e?Sn(ue(e),0,le):0}function Pt(e){if(typeof e=="number")return e;if(vt(e))return ie;if(Te(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Te(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ga(e);var n=Qd.test(e);return n||tf.test(e)?Nf(e.slice(2),n?2:8):Zd.test(e)?ie:+e}function Xl(e){return jt(e,ut(e))}function yv(e){return e?Sn(ue(e),-G,G):e===0?e:0}function _e(e){return e==null?"":mt(e)}var _v=Vn(function(e,t){if(br(t)||lt(t)){jt(t,Be(t),e);return}for(var n in t)Ce.call(t,n)&&fr(e,n,t[n])}),Zl=Vn(function(e,t){jt(t,ut(t),e)}),$i=Vn(function(e,t,n,s){jt(t,ut(t),e,s)}),wv=Vn(function(e,t,n,s){jt(t,Be(t),e,s)}),Cv=Yt(wo);function $v(e,t){var n=Gn(e);return t==null?n:Ra(n,t)}var Sv=fe(function(e,t){e=$e(e);var n=-1,s=t.length,u=s>2?t[2]:r;for(u&&Qe(t[0],t[1],u)&&(s=1);++n<s;)for(var f=t[n],v=ut(f),x=-1,$=v.length;++x<$;){var L=v[x],N=e[L];(N===r||Ot(N,Un[L])&&!Ce.call(e,L))&&(e[L]=f[L])}return e}),Ev=fe(function(e){return e.push(r,gl),pt(Ql,r,e)});function Iv(e,t){return da(e,X(t,3),Mt)}function Pv(e,t){return da(e,X(t,3),$o)}function Av(e,t){return e==null?e:Co(e,X(t,3),ut)}function Rv(e,t){return e==null?e:ka(e,X(t,3),ut)}function Tv(e,t){return e&&Mt(e,X(t,3))}function Lv(e,t){return e&&$o(e,X(t,3))}function Ov(e){return e==null?[]:oi(e,Be(e))}function Nv(e){return e==null?[]:oi(e,ut(e))}function ns(e,t,n){var s=e==null?r:En(e,t);return s===r?n:s}function kv(e,t){return e!=null&&bl(e,t,ip)}function rs(e,t){return e!=null&&bl(e,t,op)}var Dv=cl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Gr.call(t)),e[t]=n},os(ct)),Mv=cl(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Gr.call(t)),Ce.call(e,t)?e[t].push(n):e[t]=[n]},X),jv=fe(pr);function Be(e){return lt(e)?Pa(e):Po(e)}function ut(e){return lt(e)?Pa(e,!0):gp(e)}function Fv(e,t){var n={};return t=X(t,3),Mt(e,function(s,u,f){Vt(n,t(s,u,f),s)}),n}function Bv(e,t){var n={};return t=X(t,3),Mt(e,function(s,u,f){Vt(n,u,t(s,u,f))}),n}var Kv=Vn(function(e,t,n){si(e,t,n)}),Ql=Vn(function(e,t,n,s){si(e,t,n,s)}),Hv=Yt(function(e,t){var n={};if(e==null)return n;var s=!1;t=Ie(t,function(f){return f=fn(f,e),s||(s=f.length>1),f}),jt(e,Ho(e),n),s&&(n=St(n,w|P|E,Dp));for(var u=t.length;u--;)No(n,t[u]);return n});function Uv(e,t){return eu(e,_i(X(t)))}var Wv=Yt(function(e,t){return e==null?{}:vp(e,t)});function eu(e,t){if(e==null)return{};var n=Ie(Ho(e),function(s){return[s]});return t=X(t),za(e,n,function(s,u){return t(s,u[0])})}function zv(e,t,n){t=fn(t,e);var s=-1,u=t.length;for(u||(u=1,e=r);++s<u;){var f=e==null?r:e[Ft(t[s])];f===r&&(s=u,f=n),e=Xt(f)?f.call(e):f}return e}function Gv(e,t,n){return e==null?e:mr(e,t,n)}function Vv(e,t,n,s){return s=typeof s=="function"?s:r,e==null?e:mr(e,t,n,s)}var tu=hl(Be),nu=hl(ut);function qv(e,t,n){var s=se(e),u=s||pn(e)||Jn(e);if(t=X(t,4),n==null){var f=e&&e.constructor;u?n=s?new f:[]:Te(e)?n=Xt(f)?Gn(Yr(e)):{}:n={}}return(u?wt:Mt)(e,function(v,x,$){return t(n,v,x,$)}),n}function Yv(e,t){return e==null?!0:No(e,t)}function Jv(e,t,n){return e==null?e:Ja(e,t,Mo(n))}function Xv(e,t,n,s){return s=typeof s=="function"?s:r,e==null?e:Ja(e,t,Mo(n),s)}function Xn(e){return e==null?[]:go(e,Be(e))}function Zv(e){return e==null?[]:go(e,ut(e))}function Qv(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=Pt(n),n=n===n?n:0),t!==r&&(t=Pt(t),t=t===t?t:0),Sn(Pt(e),t,n)}function e0(e,t,n){return t=Zt(t),n===r?(n=t,t=0):n=Zt(n),e=Pt(e),sp(e,t,n)}function t0(e,t,n){if(n&&typeof n!="boolean"&&Qe(e,t,n)&&(t=n=r),n===r&&(typeof t=="boolean"?(n=t,t=r):typeof e=="boolean"&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=Zt(e),t===r?(t=e,e=0):t=Zt(t)),e>t){var s=e;e=t,t=s}if(n||e%1||t%1){var u=Ea();return ze(e+u*(t-e+Of("1e-"+((u+"").length-1))),t)}return To(e,t)}var n0=qn(function(e,t,n){return t=t.toLowerCase(),e+(n?ru(t):t)});function ru(e){return is(_e(e).toLowerCase())}function iu(e){return e=_e(e),e&&e.replace(rf,Gf).replace(Cf,"")}function r0(e,t,n){e=_e(e),t=mt(t);var s=e.length;n=n===r?s:Sn(ue(n),0,s);var u=n;return n-=t.length,n>=0&&e.slice(n,u)==t}function i0(e){return e=_e(e),e&&Md.test(e)?e.replace(ks,Vf):e}function o0(e){return e=_e(e),e&&Ud.test(e)?e.replace(Zi,"\\$&"):e}var s0=qn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),a0=qn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),l0=al("toLowerCase");function u0(e,t,n){e=_e(e),t=ue(t);var s=t?Kn(e):0;if(!t||s>=t)return e;var u=(t-s)/2;return fi(Qr(u),n)+e+fi(Zr(u),n)}function c0(e,t,n){e=_e(e),t=ue(t);var s=t?Kn(e):0;return t&&s<t?e+fi(t-s,n):e}function d0(e,t,n){e=_e(e),t=ue(t);var s=t?Kn(e):0;return t&&s<t?fi(t-s,n)+e:e}function f0(e,t,n){return n||t==null?t=0:t&&(t=+t),xh(_e(e).replace(Qi,""),t||0)}function h0(e,t,n){return(n?Qe(e,t,n):t===r)?t=1:t=ue(t),Lo(_e(e),t)}function p0(){var e=arguments,t=_e(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var g0=qn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function m0(e,t,n){return n&&typeof n!="number"&&Qe(e,t,n)&&(t=n=r),n=n===r?le:n>>>0,n?(e=_e(e),e&&(typeof t=="string"||t!=null&&!ts(t))&&(t=mt(t),!t&&Bn(e))?hn(Tt(e),0,n):e.split(t,n)):[]}var v0=qn(function(e,t,n){return e+(n?" ":"")+is(t)});function b0(e,t,n){return e=_e(e),n=n==null?0:Sn(ue(n),0,e.length),t=mt(t),e.slice(n,n+t.length)==t}function x0(e,t,n){var s=d.templateSettings;n&&Qe(e,t,n)&&(t=r),e=_e(e),t=$i({},t,s,pl);var u=$i({},t.imports,s.imports,pl),f=Be(u),v=go(u,f),x,$,L=0,N=t.interpolate||Mr,j="__p += '",B=vo((t.escape||Mr).source+"|"+N.source+"|"+(N===Ds?Xd:Mr).source+"|"+(t.evaluate||Mr).source+"|$","g"),Y="//# sourceURL="+(Ce.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pf+"]")+`
`;e.replace(B,function(Q,he,ge,bt,et,xt){return ge||(ge=bt),j+=e.slice(L,xt).replace(of,qf),he&&(x=!0,j+=`' +
__e(`+he+`) +
'`),et&&($=!0,j+=`';
`+et+`;
__p += '`),ge&&(j+=`' +
((__t = (`+ge+`)) == null ? '' : __t) +
'`),L=xt+Q.length,Q}),j+=`';
`;var Z=Ce.call(t,"variable")&&t.variable;if(!Z)j=`with (obj) {
`+j+`
}
`;else if(Yd.test(Z))throw new ne(g);j=($?j.replace(Od,""):j).replace(Nd,"$1").replace(kd,"$1;"),j="function("+(Z||"obj")+`) {
`+(Z?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+($?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+j+`return __p
}`;var ce=su(function(){return ye(f,Y+"return "+j).apply(r,v)});if(ce.source=j,es(ce))throw ce;return ce}function y0(e){return _e(e).toLowerCase()}function _0(e){return _e(e).toUpperCase()}function w0(e,t,n){if(e=_e(e),e&&(n||t===r))return ga(e);if(!e||!(t=mt(t)))return e;var s=Tt(e),u=Tt(t),f=ma(s,u),v=va(s,u)+1;return hn(s,f,v).join("")}function C0(e,t,n){if(e=_e(e),e&&(n||t===r))return e.slice(0,xa(e)+1);if(!e||!(t=mt(t)))return e;var s=Tt(e),u=va(s,Tt(t))+1;return hn(s,0,u).join("")}function $0(e,t,n){if(e=_e(e),e&&(n||t===r))return e.replace(Qi,"");if(!e||!(t=mt(t)))return e;var s=Tt(e),u=ma(s,Tt(t));return hn(s,u).join("")}function S0(e,t){var n=q,s=J;if(Te(t)){var u="separator"in t?t.separator:u;n="length"in t?ue(t.length):n,s="omission"in t?mt(t.omission):s}e=_e(e);var f=e.length;if(Bn(e)){var v=Tt(e);f=v.length}if(n>=f)return e;var x=n-Kn(s);if(x<1)return s;var $=v?hn(v,0,x).join(""):e.slice(0,x);if(u===r)return $+s;if(v&&(x+=$.length-x),ts(u)){if(e.slice(x).search(u)){var L,N=$;for(u.global||(u=vo(u.source,_e(Ms.exec(u))+"g")),u.lastIndex=0;L=u.exec(N);)var j=L.index;$=$.slice(0,j===r?x:j)}}else if(e.indexOf(mt(u),x)!=x){var B=$.lastIndexOf(u);B>-1&&($=$.slice(0,B))}return $+s}function E0(e){return e=_e(e),e&&Dd.test(e)?e.replace(Ns,th):e}var I0=qn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),is=al("toUpperCase");function ou(e,t,n){return e=_e(e),t=n?r:t,t===r?Jf(e)?ih(e):Kf(e):e.match(t)||[]}var su=fe(function(e,t){try{return pt(e,r,t)}catch(n){return es(n)?n:new ne(n)}}),P0=Yt(function(e,t){return wt(t,function(n){n=Ft(n),Vt(e,n,Zo(e[n],e))}),e});function A0(e){var t=e==null?0:e.length,n=X();return e=t?Ie(e,function(s){if(typeof s[1]!="function")throw new Ct(h);return[n(s[0]),s[1]]}):[],fe(function(s){for(var u=-1;++u<t;){var f=e[u];if(pt(f[0],this,s))return pt(f[1],this,s)}})}function R0(e){return tp(St(e,w))}function os(e){return function(){return e}}function T0(e,t){return e==null||e!==e?t:e}var L0=ul(),O0=ul(!0);function ct(e){return e}function ss(e){return Fa(typeof e=="function"?e:St(e,w))}function N0(e){return Ka(St(e,w))}function k0(e,t){return Ha(e,St(t,w))}var D0=fe(function(e,t){return function(n){return pr(n,e,t)}}),M0=fe(function(e,t){return function(n){return pr(e,n,t)}});function as(e,t,n){var s=Be(t),u=oi(t,s);n==null&&!(Te(t)&&(u.length||!s.length))&&(n=t,t=e,e=this,u=oi(t,Be(t)));var f=!(Te(n)&&"chain"in n)||!!n.chain,v=Xt(e);return wt(u,function(x){var $=t[x];e[x]=$,v&&(e.prototype[x]=function(){var L=this.__chain__;if(f||L){var N=e(this.__wrapped__),j=N.__actions__=at(this.__actions__);return j.push({func:$,args:arguments,thisArg:e}),N.__chain__=L,N}return $.apply(e,an([this.value()],arguments))})}),e}function j0(){return He._===this&&(He._=ch),this}function ls(){}function F0(e){return e=ue(e),fe(function(t){return Ua(t,e)})}var B0=Fo(Ie),K0=Fo(ca),H0=Fo(uo);function au(e){return Go(e)?co(Ft(e)):bp(e)}function U0(e){return function(t){return e==null?r:En(e,t)}}var W0=dl(),z0=dl(!0);function us(){return[]}function cs(){return!1}function G0(){return{}}function V0(){return""}function q0(){return!0}function Y0(e,t){if(e=ue(e),e<1||e>G)return[];var n=le,s=ze(e,le);t=X(t),e-=le;for(var u=po(s,t);++n<e;)t(n);return u}function J0(e){return se(e)?Ie(e,Ft):vt(e)?[e]:at(Il(_e(e)))}function X0(e){var t=++lh;return _e(e)+t}var Z0=di(function(e,t){return e+t},0),Q0=Bo("ceil"),eb=di(function(e,t){return e/t},1),tb=Bo("floor");function nb(e){return e&&e.length?ii(e,ct,So):r}function rb(e,t){return e&&e.length?ii(e,X(t,2),So):r}function ib(e){return ha(e,ct)}function ob(e,t){return ha(e,X(t,2))}function sb(e){return e&&e.length?ii(e,ct,Ao):r}function ab(e,t){return e&&e.length?ii(e,X(t,2),Ao):r}var lb=di(function(e,t){return e*t},1),ub=Bo("round"),cb=di(function(e,t){return e-t},0);function db(e){return e&&e.length?ho(e,ct):0}function fb(e,t){return e&&e.length?ho(e,X(t,2)):0}return d.after=Nm,d.ary=jl,d.assign=_v,d.assignIn=Zl,d.assignInWith=$i,d.assignWith=wv,d.at=Cv,d.before=Fl,d.bind=Zo,d.bindAll=P0,d.bindKey=Bl,d.castArray=Gm,d.chain=kl,d.chunk=tg,d.compact=ng,d.concat=rg,d.cond=A0,d.conforms=R0,d.constant=os,d.countBy=dm,d.create=$v,d.curry=Kl,d.curryRight=Hl,d.debounce=Ul,d.defaults=Sv,d.defaultsDeep=Ev,d.defer=km,d.delay=Dm,d.difference=ig,d.differenceBy=og,d.differenceWith=sg,d.drop=ag,d.dropRight=lg,d.dropRightWhile=ug,d.dropWhile=cg,d.fill=dg,d.filter=hm,d.flatMap=mm,d.flatMapDeep=vm,d.flatMapDepth=bm,d.flatten=Tl,d.flattenDeep=fg,d.flattenDepth=hg,d.flip=Mm,d.flow=L0,d.flowRight=O0,d.fromPairs=pg,d.functions=Ov,d.functionsIn=Nv,d.groupBy=xm,d.initial=mg,d.intersection=vg,d.intersectionBy=bg,d.intersectionWith=xg,d.invert=Dv,d.invertBy=Mv,d.invokeMap=_m,d.iteratee=ss,d.keyBy=wm,d.keys=Be,d.keysIn=ut,d.map=bi,d.mapKeys=Fv,d.mapValues=Bv,d.matches=N0,d.matchesProperty=k0,d.memoize=yi,d.merge=Kv,d.mergeWith=Ql,d.method=D0,d.methodOf=M0,d.mixin=as,d.negate=_i,d.nthArg=F0,d.omit=Hv,d.omitBy=Uv,d.once=jm,d.orderBy=Cm,d.over=B0,d.overArgs=Fm,d.overEvery=K0,d.overSome=H0,d.partial=Qo,d.partialRight=Wl,d.partition=$m,d.pick=Wv,d.pickBy=eu,d.property=au,d.propertyOf=U0,d.pull=Cg,d.pullAll=Ol,d.pullAllBy=$g,d.pullAllWith=Sg,d.pullAt=Eg,d.range=W0,d.rangeRight=z0,d.rearg=Bm,d.reject=Im,d.remove=Ig,d.rest=Km,d.reverse=Jo,d.sampleSize=Am,d.set=Gv,d.setWith=Vv,d.shuffle=Rm,d.slice=Pg,d.sortBy=Om,d.sortedUniq=kg,d.sortedUniqBy=Dg,d.split=m0,d.spread=Hm,d.tail=Mg,d.take=jg,d.takeRight=Fg,d.takeRightWhile=Bg,d.takeWhile=Kg,d.tap=nm,d.throttle=Um,d.thru=vi,d.toArray=Yl,d.toPairs=tu,d.toPairsIn=nu,d.toPath=J0,d.toPlainObject=Xl,d.transform=qv,d.unary=Wm,d.union=Hg,d.unionBy=Ug,d.unionWith=Wg,d.uniq=zg,d.uniqBy=Gg,d.uniqWith=Vg,d.unset=Yv,d.unzip=Xo,d.unzipWith=Nl,d.update=Jv,d.updateWith=Xv,d.values=Xn,d.valuesIn=Zv,d.without=qg,d.words=ou,d.wrap=zm,d.xor=Yg,d.xorBy=Jg,d.xorWith=Xg,d.zip=Zg,d.zipObject=Qg,d.zipObjectDeep=em,d.zipWith=tm,d.entries=tu,d.entriesIn=nu,d.extend=Zl,d.extendWith=$i,as(d,d),d.add=Z0,d.attempt=su,d.camelCase=n0,d.capitalize=ru,d.ceil=Q0,d.clamp=Qv,d.clone=Vm,d.cloneDeep=Ym,d.cloneDeepWith=Jm,d.cloneWith=qm,d.conformsTo=Xm,d.deburr=iu,d.defaultTo=T0,d.divide=eb,d.endsWith=r0,d.eq=Ot,d.escape=i0,d.escapeRegExp=o0,d.every=fm,d.find=pm,d.findIndex=Al,d.findKey=Iv,d.findLast=gm,d.findLastIndex=Rl,d.findLastKey=Pv,d.floor=tb,d.forEach=Dl,d.forEachRight=Ml,d.forIn=Av,d.forInRight=Rv,d.forOwn=Tv,d.forOwnRight=Lv,d.get=ns,d.gt=Zm,d.gte=Qm,d.has=kv,d.hasIn=rs,d.head=Ll,d.identity=ct,d.includes=ym,d.indexOf=gg,d.inRange=e0,d.invoke=jv,d.isArguments=An,d.isArray=se,d.isArrayBuffer=ev,d.isArrayLike=lt,d.isArrayLikeObject=Ne,d.isBoolean=tv,d.isBuffer=pn,d.isDate=nv,d.isElement=rv,d.isEmpty=iv,d.isEqual=ov,d.isEqualWith=sv,d.isError=es,d.isFinite=av,d.isFunction=Xt,d.isInteger=zl,d.isLength=wi,d.isMap=Gl,d.isMatch=lv,d.isMatchWith=uv,d.isNaN=cv,d.isNative=dv,d.isNil=hv,d.isNull=fv,d.isNumber=Vl,d.isObject=Te,d.isObjectLike=Le,d.isPlainObject=yr,d.isRegExp=ts,d.isSafeInteger=pv,d.isSet=ql,d.isString=Ci,d.isSymbol=vt,d.isTypedArray=Jn,d.isUndefined=gv,d.isWeakMap=mv,d.isWeakSet=vv,d.join=yg,d.kebabCase=s0,d.last=It,d.lastIndexOf=_g,d.lowerCase=a0,d.lowerFirst=l0,d.lt=bv,d.lte=xv,d.max=nb,d.maxBy=rb,d.mean=ib,d.meanBy=ob,d.min=sb,d.minBy=ab,d.stubArray=us,d.stubFalse=cs,d.stubObject=G0,d.stubString=V0,d.stubTrue=q0,d.multiply=lb,d.nth=wg,d.noConflict=j0,d.noop=ls,d.now=xi,d.pad=u0,d.padEnd=c0,d.padStart=d0,d.parseInt=f0,d.random=t0,d.reduce=Sm,d.reduceRight=Em,d.repeat=h0,d.replace=p0,d.result=zv,d.round=ub,d.runInContext=C,d.sample=Pm,d.size=Tm,d.snakeCase=g0,d.some=Lm,d.sortedIndex=Ag,d.sortedIndexBy=Rg,d.sortedIndexOf=Tg,d.sortedLastIndex=Lg,d.sortedLastIndexBy=Og,d.sortedLastIndexOf=Ng,d.startCase=v0,d.startsWith=b0,d.subtract=cb,d.sum=db,d.sumBy=fb,d.template=x0,d.times=Y0,d.toFinite=Zt,d.toInteger=ue,d.toLength=Jl,d.toLower=y0,d.toNumber=Pt,d.toSafeInteger=yv,d.toString=_e,d.toUpper=_0,d.trim=w0,d.trimEnd=C0,d.trimStart=$0,d.truncate=S0,d.unescape=E0,d.uniqueId=X0,d.upperCase=I0,d.upperFirst=is,d.each=Dl,d.eachRight=Ml,d.first=Ll,as(d,function(){var e={};return Mt(d,function(t,n){Ce.call(d.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),d.VERSION=a,wt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){d[e].placeholder=d}),wt(["drop","take"],function(e,t){pe.prototype[e]=function(n){n=n===r?1:Fe(ue(n),0);var s=this.__filtered__&&!t?new pe(this):this.clone();return s.__filtered__?s.__takeCount__=ze(n,s.__takeCount__):s.__views__.push({size:ze(n,le),type:e+(s.__dir__<0?"Right":"")}),s},pe.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),wt(["filter","map","takeWhile"],function(e,t){var n=t+1,s=n==te||n==ae;pe.prototype[e]=function(u){var f=this.clone();return f.__iteratees__.push({iteratee:X(u,3),type:n}),f.__filtered__=f.__filtered__||s,f}}),wt(["head","last"],function(e,t){var n="take"+(t?"Right":"");pe.prototype[e]=function(){return this[n](1).value()[0]}}),wt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");pe.prototype[e]=function(){return this.__filtered__?new pe(this):this[n](1)}}),pe.prototype.compact=function(){return this.filter(ct)},pe.prototype.find=function(e){return this.filter(e).head()},pe.prototype.findLast=function(e){return this.reverse().find(e)},pe.prototype.invokeMap=fe(function(e,t){return typeof e=="function"?new pe(this):this.map(function(n){return pr(n,e,t)})}),pe.prototype.reject=function(e){return this.filter(_i(X(e)))},pe.prototype.slice=function(e,t){e=ue(e);var n=this;return n.__filtered__&&(e>0||t<0)?new pe(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(t=ue(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},pe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},pe.prototype.toArray=function(){return this.take(le)},Mt(pe.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),s=/^(?:head|last)$/.test(t),u=d[s?"take"+(t=="last"?"Right":""):t],f=s||/^find/.test(t);u&&(d.prototype[t]=function(){var v=this.__wrapped__,x=s?[1]:arguments,$=v instanceof pe,L=x[0],N=$||se(v),j=function(he){var ge=u.apply(d,an([he],x));return s&&B?ge[0]:ge};N&&n&&typeof L=="function"&&L.length!=1&&($=N=!1);var B=this.__chain__,Y=!!this.__actions__.length,Z=f&&!B,ce=$&&!Y;if(!f&&N){v=ce?v:new pe(this);var Q=e.apply(v,x);return Q.__actions__.push({func:vi,args:[j],thisArg:r}),new $t(Q,B)}return Z&&ce?e.apply(this,x):(Q=this.thru(j),Z?s?Q.value()[0]:Q.value():Q)})}),wt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ur[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",s=/^(?:pop|shift)$/.test(e);d.prototype[e]=function(){var u=arguments;if(s&&!this.__chain__){var f=this.value();return t.apply(se(f)?f:[],u)}return this[n](function(v){return t.apply(se(v)?v:[],u)})}}),Mt(pe.prototype,function(e,t){var n=d[t];if(n){var s=n.name+"";Ce.call(zn,s)||(zn[s]=[]),zn[s].push({name:t,func:n})}}),zn[ci(r,D).name]=[{name:"wrapper",func:r}],pe.prototype.clone=Eh,pe.prototype.reverse=Ih,pe.prototype.value=Ph,d.prototype.at=rm,d.prototype.chain=im,d.prototype.commit=om,d.prototype.next=sm,d.prototype.plant=lm,d.prototype.reverse=um,d.prototype.toJSON=d.prototype.valueOf=d.prototype.value=cm,d.prototype.first=d.prototype.head,ar&&(d.prototype[ar]=am),d},Hn=oh();_n?((_n.exports=Hn)._=Hn,oo._=Hn):He._=Hn}).call(Y1)}(Er,Er.exports)),Er.exports}var od=J1();class X1{plugins={};activePlugins=[];listeners=new Set;register(i){this.plugins[i.name]={isActivated:!1,config:i},this.notify()}activate(i){const r=this.plugins[i];!r||r.isActivated||(r.isActivated=!0,r.config.onActivate&&r.config.onActivate(),this.produceActivePlugins(),this.notify())}deactivate(i){const r=this.plugins[i];!r||!r.isActivated||(r.isActivated=!1,r.config.onDeactivate&&r.config.onDeactivate(),this.produceActivePlugins(),this.notify())}isPluginActivated(i){const r=this.plugins[i];return!!r&&r.isActivated}getPlugin(i){const r=this.plugins[i];return!r||!r.isActivated?null:r}getActivePlugins(){return this.activePlugins}subscribe(i){return this.listeners.add(i),()=>this.listeners.delete(i)}notify(){this.listeners.forEach(i=>i())}produceActivePlugins(){this.activePlugins=od.transform(this.plugins,(i,r)=>{r.isActivated&&i.push(r.config)},[])}}const Ve=new X1;const sd="FeedbackFormPlugin",ad={name:sd,components:{FeedbackForm:b.lazy(()=>kt(()=>import("./FeedbackForm-6ubxHVpo.js"),__vite__mapDeps([4,2,3,5,6,7,8,9,10,11])))}},ld="ChatOptionsPlugin",ud={name:ld,components:{ChatOptionsForm:b.lazy(()=>kt(()=>import("./ChatOptionsForm-9GXOuke2.js"),__vite__mapDeps([12,2,3,5,6,7,8,9,10,11])))}},cd=b.createContext(void 0),dd="SharePluginName",fd={name:dd,components:{ShareButton:b.lazy(()=>kt(()=>import("./ShareButton-suUhCGLy.js"),__vite__mapDeps([13,2,3,11])))}},We=[];for(let o=0;o<256;++o)We.push((o+256).toString(16).slice(1));function Z1(o,i=0){return(We[o[i+0]]+We[o[i+1]]+We[o[i+2]]+We[o[i+3]]+"-"+We[o[i+4]]+We[o[i+5]]+"-"+We[o[i+6]]+We[o[i+7]]+"-"+We[o[i+8]]+We[o[i+9]]+"-"+We[o[i+10]]+We[o[i+11]]+We[o[i+12]]+We[o[i+13]]+We[o[i+14]]+We[o[i+15]]).toLowerCase()}let ms;const Q1=new Uint8Array(16);function ey(){if(!ms){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ms=crypto.getRandomValues.bind(crypto)}return ms(Q1)}const ty=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ku={randomUUID:ty};function hd(o,i,r){if(Ku.randomUUID&&!o)return Ku.randomUUID();o=o||{};const a=o.random??o.rng?.()??ey();if(a.length<16)throw new Error("Random bytes length must be >= 16");return a[6]=a[6]&15|64,a[8]=a[8]&63|128,Z1(a)}function Hu(o){return Object.values(o).map(i=>({role:i.role,content:i.content,extra:i.extra||null}))}const ny=({content:o},i)=>{i.serverState=o},ry=({content:o},i,r)=>{const a=r.conversationIdRef.current;return i.conversationId=o.conversation_id,r.conversationIdRef.current=o.conversation_id,{originalConversationId:a}},iy=(o,i,{originalConversationId:r,conversationIdRef:a})=>{const l=i.conversations[r];if(!l)throw new Error("Received events for non-existent conversation");i.conversations[a.current]=l,i.currentConversation===r&&(i.currentConversation=a.current),delete i.conversations[r]},oy=({content:o},i)=>{i.followupMessages=o.messages},sy=({content:o},i)=>{i.summary=o.summary},ay=(o,i,r)=>{const a=i.history[r.messageId];a.hasConfirmationBreak&&(a.hasConfirmationBreak=!1,a.content.endsWith(`

`)||(a.content+=`

`)),a.content+=o.content.text},ly=(o,i,r)=>{const a=i.history[r.messageId];a.references=[...a.references??[],o.content]},uy=(o,i,r)=>{const a=i.history[r.messageId];a.serverId=o.content.message_id},cy=(o,i,r)=>{const a=i.history[r.messageId],{update_id:l,content:c,type:h}=o.content,g=ji(a.liveUpdates??{},m=>{h===V1.Start&&l in m&&console.error(`Got duplicate start event for update_id: ${l}. Ignoring the event.`),m[l]=c});a.liveUpdates=g},dy=(o,i,r)=>{const a=i.history[r.messageId],l=o.content;a.images=ji(a.images??{},c=>{c[l.id]&&console.error(`Got duplicate image event for image_id: ${l.id}. Ignoring the event.`),c[l.id]=l.url})},fy=(o,i,r)=>{const a=i.history[r.messageId];i.history[r.messageId]={id:a.id,role:a.role,content:""}},hy=(o,i,r)=>{const a=i.history[r.messageId];a.usage=o.content.usage},py=({content:o},i,r)=>{const a=i.history[r.messageId],l=a.tasks??[],c=o.task,h=ji(l,g=>{const m=g.findIndex(_=>_.id===c.id);m===-1?g.push(c):g[m]=c});a.tasks=h},gy=(o,i,r)=>{const a=i.history[r.messageId],l=o.content.confirmation_request.confirmation_id;a.confirmationRequests||(a.confirmationRequests={}),a.confirmationStates||(a.confirmationStates={}),!(l in a.confirmationRequests)&&(a.confirmationRequests[l]=o.content.confirmation_request,a.confirmationStates[l]="pending")},my=(o,i,r)=>{const a=i.history[r.messageId];a.error=o.content.message};class vy{handlers=new Map;register(i,r){this.handlers.has(i)&&console.warn(`Handler for ${String(i)} already registered - overwriting.`),this.handlers.set(i,r)}get(i){const r=this.handlers.get(i);return r||(console.warn(`No handler registered for type: ${String(i)}`),console.warn("Continuing with empty handler..."),{handle:()=>{},after:()=>{}})}}const rt=new vy;rt.register("state_update",{handle:ny});rt.register("conversation_id",{handle:ry,after:iy});rt.register("followup_messages",{handle:oy});rt.register("text",{handle:ay});rt.register("reference",{handle:ly});rt.register("message_id",{handle:uy});rt.register("live_update",{handle:cy});rt.register("image",{handle:dy});rt.register("clear_message",{handle:fy});rt.register("usage",{handle:hy});rt.register("todo_item",{handle:py});rt.register("conversation_summary",{handle:sy});rt.register("confirmation_request",{handle:gy});rt.register("error",{handle:my});const pd="temp-",gd=()=>`${pd}${hd()}`,_s=()=>({history:{},followupMessages:null,serverState:null,conversationId:gd(),eventsLog:[],lastMessageId:null,context:void 0,chatOptions:void 0,isLoading:!1,abortController:null}),by=()=>{const o=_s();return{conversations:{[o.conversationId]:o},currentConversation:o.conversationId}},yt=(o,i)=>r=>{const a=r.conversations[o];if(!a)throw new Error(`Conversation with ID '${o}' does not exist`);i(a)},Uu=o=>o.startsWith(pd),Wu=ex((o,i)=>({...by(),computed:{getContext:()=>{const{primitives:{getCurrentConversation:r}}=i(),a=r(),{serverState:l,conversationId:c,chatOptions:h}=a;return{...l??{},...c&&!Uu(a.conversationId)?{conversation_id:c}:{},...h?{user_settings:h}:{}}}},_internal:{_hasHydrated:!1,_setHasHydrated:r=>{o(a=>{a._internal._hasHydrated=r})},handleResponse:(r,a,l)=>{let c;const h=rt.get(l.type);o(yt(r.current,g=>{if(!g.history[a])throw new Error(`Message ID ${a} not found in history`);c=h.handle(l,g,{conversationIdRef:r,messageId:a})})),o(g=>{h.after?.(l,g,{conversationIdRef:r,messageId:a,...c})}),o(yt(r.current,g=>{g.eventsLog[g.eventsLog.length-1].push(l)}))}},primitives:{getCurrentConversation:()=>{const{currentConversation:r,conversations:a}=i(),l=a[r];if(!l)throw new Error("Tried to get conversation that doesn't exist.");return l},restore:(r,a,l,c)=>{const h=gd(),g={..._s(),followupMessages:a,chatOptions:l,serverState:c,history:r,conversationId:h},m=Object.values(r).filter(_=>_.role!==nr.User);g.eventsLog=m.map(()=>[]),o(_=>{_.conversations[h]=g,_.currentConversation=h})},addMessage:(r,a)=>{const l=hd(),c={...a,id:l};return o(yt(r,h=>{h.followupMessages=null,h.lastMessageId=l,h.history[l]=c})),l},deleteMessage:(r,a)=>{o(yt(r,l=>{const{history:c}=l,h=Object.keys(c);h.at(-1)===a&&(l.lastMessageId=h.at(-2)??null),delete l.history[a]}))},stopAnswering:r=>{const a=i().conversations[r];if(!a)throw new Error("Tried to stop answering for conversation that doesn't exist");a.abortController?.abort(),o(yt(r,l=>{l.abortController=null,l.isLoading=!1}))}},actions:{selectConversation:r=>{o(a=>{if(a.currentConversation===r)return;if(!a.conversations[r])throw new Error(`Tried to select conversation that doesn't exist, id: ${r}`);a.currentConversation=r})},deleteConversation:r=>{const{actions:{newConversation:a},primitives:{stopAnswering:l},currentConversation:c}=i();if(l(r),o(h=>{delete h.conversations[r]}),r===c)return a()},mergeExtensions:(r,a)=>{const{currentConversation:l}=i();o(yt(l,c=>{if(!(r in c.history))throw new Error("Attempted to set extensions for a message that does not exist.");const h=c.history[r];h.extensions={...h.extensions,...a},c.history[r]=h}))},initializeChatOptions:r=>{const{currentConversation:a}=i();o(yt(a,l=>{const c=l.chatOptions??{};Object.keys(c).forEach(h=>{h in r||delete c[h]}),Object.keys(r).forEach(h=>{h in c||(c[h]=r[h])}),l.chatOptions=c}))},setConversationProperties:(r,a)=>{o(yt(r,l=>{Object.assign(l,a)}))},stopAnswering:()=>{const{currentConversation:r,primitives:{stopAnswering:a}}=i();a(r)},newConversation:()=>{const r=_s();return o(a=>{a.conversations[r.conversationId]=r,a.currentConversation=r.conversationId,a.conversations=od.omitBy(a.conversations,l=>Uu(l.conversationId)&&l.conversationId!==a.currentConversation)}),r.conversationId},sendMessage:(r,a,l)=>{const{_internal:{handleResponse:c},primitives:{addMessage:h,getCurrentConversation:g,stopAnswering:m},computed:{getContext:_}}=i(),{history:y,conversationId:w}=g();h(w,{role:nr.User,content:r});const P=h(w,{role:nr.Assistant,content:""}),E={message:r,history:Hu(y),context:{..._(),...l}};o(yt(w,R=>{R.eventsLog.push([])}));const I=new AbortController,S={current:w};o(yt(w,R=>{R.abortController=I,R.isLoading=!0})),a.makeStreamRequest("/api/chat",E,{onMessage:R=>c(S,P,R),onError:R=>{c(S,P,{type:"text",content:{text:R.message}}),m(S.current)},onClose:()=>{m(S.current)}},I.signal)},sendSilentConfirmation:(r,a,l,c)=>{const{_internal:{handleResponse:h},primitives:{getCurrentConversation:g,stopAnswering:m},computed:{getContext:_}}=i(),{history:y,conversationId:w}=g(),P=Array.isArray(a)?a:[a],E=typeof l=="boolean"?P.reduce((F,U)=>({...F,[U]:l}),{}):l;o(yt(w,F=>{const U=F.history[r];U&&U.confirmationStates&&(P.forEach(M=>{M in U.confirmationStates&&(U.confirmationStates[M]=E[M]?"confirmed":"declined")}),U.hasConfirmationBreak=!0,U.liveUpdates=void 0)}));const I=r,S=P.map(F=>({confirmation_id:F,confirmed:E[F]})),R={message:"",history:Hu(y),context:{..._(),confirmed_tools:S}};o(yt(w,F=>{F.eventsLog.push([])}));const D=new AbortController,O={current:w};o(yt(w,F=>{F.abortController=D,F.isLoading=!0})),c.makeStreamRequest("/api/chat",R,{onMessage:F=>h(O,I,F),onError:F=>{h(O,I,{type:"text",content:{text:F.message}}),m(O.current)},onClose:()=>{m(O.current)}},D.signal)}}}));function md(o,i){let r;try{r=o()}catch{return}return{getItem:l=>{var c;const h=m=>m===null?null:JSON.parse(m,void 0),g=(c=r.getItem(l))!=null?c:null;return g instanceof Promise?g.then(h):h(g)},setItem:(l,c)=>r.setItem(l,JSON.stringify(c,void 0)),removeItem:l=>r.removeItem(l)}}const ws=o=>i=>{try{const r=o(i);return r instanceof Promise?r:{then(a){return ws(a)(r)},catch(a){return this}}}catch(r){return{then(a){return this},catch(a){return ws(a)(r)}}}},xy=(o,i)=>(r,a,l)=>{let c={storage:md(()=>localStorage),partialize:S=>S,version:0,merge:(S,R)=>({...R,...S}),...i},h=!1;const g=new Set,m=new Set;let _=c.storage;if(!_)return o((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${c.name}', the given storage is currently unavailable.`),r(...S)},a,l);const y=()=>{const S=c.partialize({...a()});return _.setItem(c.name,{state:S,version:c.version})},w=l.setState;l.setState=(S,R)=>{w(S,R),y()};const P=o((...S)=>{r(...S),y()},a,l);l.getInitialState=()=>P;let E;const I=()=>{var S,R;if(!_)return;h=!1,g.forEach(O=>{var F;return O((F=a())!=null?F:P)});const D=((R=c.onRehydrateStorage)==null?void 0:R.call(c,(S=a())!=null?S:P))||void 0;return ws(_.getItem.bind(_))(c.name).then(O=>{if(O)if(typeof O.version=="number"&&O.version!==c.version){if(c.migrate){const F=c.migrate(O.state,O.version);return F instanceof Promise?F.then(U=>[!0,U]):[!0,F]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,O.state];return[!1,void 0]}).then(O=>{var F;const[U,M]=O;if(E=c.merge(M,(F=a())!=null?F:P),r(E,!0),U)return y()}).then(()=>{D?.(E,void 0),E=a(),h=!0,m.forEach(O=>O(E))}).catch(O=>{D?.(void 0,O)})};return l.persist={setOptions:S=>{c={...c,...S},S.storage&&(_=S.storage)},clearStorage:()=>{_?.removeItem(c.name)},getOptions:()=>c,rehydrate:()=>I(),hasHydrated:()=>h,onHydrate:S=>(g.add(S),()=>{g.delete(S)}),onFinishHydration:S=>(m.add(S),()=>{m.delete(S)})},c.skipHydration||I(),E||P},yy=xy;function Bi(o){return new Promise((i,r)=>{o.oncomplete=o.onsuccess=()=>i(o.result),o.onabort=o.onerror=()=>r(o.error)})}function _y(o,i){let r;const a=()=>{if(r)return r;const l=indexedDB.open(o);return l.onupgradeneeded=()=>l.result.createObjectStore(i),r=Bi(l),r.then(c=>{c.onclose=()=>r=void 0},()=>{}),r};return(l,c)=>a().then(h=>c(h.transaction(i,l).objectStore(i)))}let vs;function Rs(){return vs||(vs=_y("keyval-store","keyval")),vs}function wy(o,i=Rs()){return i("readonly",r=>Bi(r.get(o)))}function Cy(o,i,r=Rs()){return r("readwrite",a=>(a.put(i,o),Bi(a.transaction)))}function $y(o,i=Rs()){return i("readwrite",r=>(r.delete(o),Bi(r.transaction)))}const Sy={getItem:async o=>await wy(o)||null,setItem:async(o,i)=>{await Cy(o,i)},removeItem:async o=>{await $y(o)}},vd=b.createContext(null);function bd(){return p.jsx("div",{className:Oe("bg-background flex h-screen w-screen items-start justify-center"),children:p.jsxs("div",{className:"text-default-900 m-auto flex flex-col items-center gap-4",children:[p.jsx(Qc,{size:"lg","aria-label":"Progress indicator"}),p.jsx("p",{children:"Initializing..."})]})})}const zu="ragbits-history-store";function Ey(o,i){if(o)return pu(yy(Wu,{name:i,partialize:a=>({conversations:a.conversations}),onRehydrateStorage:a=>()=>a._internal._setHasHydrated(!0),merge:(a,l)=>{const c=a?.conversations??{},{conversations:h,currentConversation:g}=l,m=Object.values(c).reduce((_,y)=>(y.conversationId===null||(_[y.conversationId]={...y,isLoading:!1,abortController:null}),_),{});return{...l,currentConversation:g,conversations:{...m,...h}}},storage:md(()=>Sy)}));const r=pu(Wu);return r.getState()._internal._setHasHydrated(!0),r}function Iy({children:o,shouldStoreHistory:i}){const[r,a]=b.useState(zu),l=b.useMemo(()=>Ey(i,r),[i,r]),c=ic(l,m=>m._internal._hasHydrated),h=m=>{a(`${zu}-${m}`)},g=b.useMemo(()=>({store:l,initializeUserStore:h}),[l]);return i&&!c?p.jsx(bd,{}):p.jsx(vd.Provider,{value:g,children:o})}const Gu=o=>Symbol.iterator in o,Vu=o=>"entries"in o,qu=(o,i)=>{const r=o instanceof Map?o:new Map(o.entries()),a=i instanceof Map?i:new Map(i.entries());if(r.size!==a.size)return!1;for(const[l,c]of r)if(!Object.is(c,a.get(l)))return!1;return!0},Py=(o,i)=>{const r=o[Symbol.iterator](),a=i[Symbol.iterator]();let l=r.next(),c=a.next();for(;!l.done&&!c.done;){if(!Object.is(l.value,c.value))return!1;l=r.next(),c=a.next()}return!!l.done&&!!c.done};function Ay(o,i){return Object.is(o,i)?!0:typeof o!="object"||o===null||typeof i!="object"||i===null||Object.getPrototypeOf(o)!==Object.getPrototypeOf(i)?!1:Gu(o)&&Gu(i)?Vu(o)&&Vu(i)?qu(o,i):Py(o,i):qu({entries:()=>Object.entries(o)},{entries:()=>Object.entries(i)})}function Dr(o){const i=nt.useRef(void 0);return r=>{const a=o(r);return Ay(i.current,a)?i.current:i.current=a}}const Ht=o=>{const i=b.useContext(vd);if(!i||!i.store)throw new Error("useHistoryStore must be used within a HistoryStoreContextProvider");return ic(i.store,o)},Ts=()=>Ht(o=>o.actions),R_=()=>Ht(o=>o.primitives),mn=o=>Ht(Dr(i=>o(i.primitives.getCurrentConversation()))),xd=o=>Ht(i=>o?i.primitives.getCurrentConversation().history[o]:void 0),Ry=()=>Ht(Dr(o=>Object.keys(o.primitives.getCurrentConversation().history))),Ty=()=>Ht(Dr(o=>Object.values(o.primitives.getCurrentConversation().history))),Ly=()=>Ht(o=>{const i=o.primitives.getCurrentConversation().history;return Object.values(i).some(r=>r.confirmationStates&&Object.values(r.confirmationStates).some(a=>a==="pending"))}),Yu=({content:o,classNames:i})=>p.jsx(Pr,{className:Oe("markdown-container prose dark:prose-invert text-default-900 max-w-full",i),remarkPlugins:[Ar],components:{pre:({children:r})=>p.jsx("pre",{className:"bg-default text-default-900 mt-2 mb-2 max-w-full overflow-auto rounded p-2 font-mono text-[90%] font-normal",children:r}),code:({children:r})=>p.jsx("code",{className:"bg-default text-default-900 rounded px-1 py-0.5 font-mono text-[85%] font-normal",children:r})},children:o}),Oy=2;function Ny({duration:o,className:i,children:r}){return p.jsx(nn.div,{className:Oe("from-default-600 via-default-200 to-default-600 relative inline-block bg-gradient-to-r bg-clip-text text-transparent",i),initial:{backgroundPosition:"200% 0%"},animate:{backgroundPosition:"-200% 0%"},transition:{duration:o??Oy,repeat:1/0,ease:"linear"},style:{backgroundSize:"400% 100%"},children:r})}function ky({shouldShimmer:o,liveUpdates:i,classNames:r}){const[a,l]=b.useState(!1),c=Object.values(i),h=b.useCallback(()=>l(w=>!w),[]),g=c.length>1,m=c[c.length-1],_=c.slice(0,-1),y=Math.max((m.description??"").length,m.label.length)/10;return p.jsxs("div",{className:Oe("flex flex-col",g&&"cursor-pointer"),onClick:h,children:[p.jsx(nn.div,{initial:!1,animate:{height:a?"auto":0,opacity:a?1:0,marginBottom:a?"0.5rem":0},transition:{duration:.3,ease:"easeInOut"},style:{overflow:"hidden"},children:p.jsx("div",{className:"flex flex-col gap-2",children:_.map((w,P)=>p.jsxs(nn.div,{initial:{opacity:0,y:-10},animate:{opacity:a?1:0,y:a?0:-10},transition:{duration:.3},style:{pointerEvents:a?"auto":"none"},children:[p.jsx("div",{className:"text-default-500",children:w.label}),p.jsx(Pr,{className:Oe("markdown-container prose dark:prose-invert text-default-400 max-w-full text-sm",r?.liveUpdates),remarkPlugins:[Ar],children:w.description})]},P))})}),p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"relative overflow-hidden bg-transparent",children:o?p.jsxs(Ny,{duration:y,children:[p.jsx("div",{children:m.label}),p.jsx(Pr,{className:Oe("markdown-container prose dark:prose-invert max-w-full text-sm",r?.liveUpdates),remarkPlugins:[Ar],children:m.description})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"text-default-500",children:m.label}),p.jsx(Pr,{className:Oe("markdown-container prose dark:prose-invert text-default-400 max-w-full text-sm",r?.liveUpdates),remarkPlugins:[Ar],children:m.description})]})}),g&&p.jsx(qe,{variant:"light",isIconOnly:!0,onPress:h,"data-testid":"live-updates-expand",children:p.jsx(nn.div,{initial:{rotate:0},animate:{rotate:a?180:0},transition:{duration:.3},children:p.jsx(ft,{icon:"heroicons:chevron-down"})})})]})]})}const Dy=({images:o})=>{const{isOpen:i,onOpen:r,onClose:a}=G1(),[l,c]=b.useState(0),h=Object.entries(o).map(([y,w])=>({src:w,alt:y})),g=y=>{c(y),r()},m=b.useCallback(()=>{c(y=>y===0?h.length-1:y-1)},[h.length]),_=b.useCallback(()=>{c(y=>y===h.length-1?0:y+1)},[h.length]);return b.useEffect(()=>{if(!i)return;const y=w=>{switch(w.key){case"ArrowLeft":w.preventDefault(),m();break;case"ArrowRight":w.preventDefault(),_();break;case"Escape":w.preventDefault(),a();break}};return document.addEventListener("keydown",y),()=>document.removeEventListener("keydown",y)},[i,m,_,a]),p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"xs:grid-cols-4 grid grid-cols-3 gap-2 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-12",children:h.map((y,w)=>p.jsx("div",{className:"relative aspect-square cursor-pointer overflow-hidden rounded-lg",onClick:()=>g(w),children:p.jsx(gs,{src:y.src,alt:y.alt,className:"h-full w-full rounded-lg object-cover transition-transform hover:scale-125",classNames:{wrapper:"h-full w-full",img:"h-full w-full object-cover"}})},y.alt))}),p.jsx(z1,{isOpen:i,onClose:a,size:"full",hideCloseButton:!0,classNames:{backdrop:"bg-black/90",wrapper:"p-0",base:"bg-transparent shadow-none m-0",body:"p-0"},children:p.jsx(H1,{children:p.jsxs(N1,{className:"relative flex min-h-screen items-center justify-center p-4",children:[p.jsx(qe,{isIconOnly:!0,variant:"flat",className:"absolute top-4 right-4 z-50 bg-black/50 text-white",onPress:a,children:p.jsx(ft,{icon:"heroicons:x-mark",className:"h-6 w-6"})}),h.length>1&&p.jsxs(p.Fragment,{children:[p.jsx(qe,{isIconOnly:!0,variant:"flat",className:"absolute top-1/2 left-4 z-50 -translate-y-1/2 bg-black/50 text-white",onPress:m,children:p.jsx(ft,{icon:"heroicons:chevron-left",className:"h-6 w-6"})}),p.jsx(qe,{isIconOnly:!0,variant:"flat",className:"absolute top-1/2 right-4 z-50 -translate-y-1/2 bg-black/50 text-white",onPress:_,children:p.jsx(ft,{icon:"heroicons:chevron-right",className:"h-6 w-6"})})]}),p.jsx("div",{className:"relative flex max-h-[90vh] max-w-[90vw] items-center justify-center",children:p.jsx(gs,{src:h[l]?.src,alt:h[l]?.alt,className:"max-h-full max-w-full object-contain",classNames:{wrapper:"max-w-full max-h-full",img:"max-w-full max-h-full object-contain"}})}),h.length>1&&p.jsx("div",{className:"absolute bottom-16 left-1/2 flex max-w-[90vw] -translate-x-1/2 gap-2 overflow-x-auto rounded bg-black/30 p-2",children:h.map((y,w)=>p.jsx("button",{onClick:()=>c(w),className:Oe("flex-shrink-0 overflow-hidden border-2 border-transparent transition-all",w===l?"z-10 scale-125":"hover:scale-110"),children:p.jsx(gs,{src:y.src,alt:y.alt,className:"h-12 w-12 rounded-lg object-cover",classNames:{wrapper:"w-12 h-12",img:"w-12 h-12 object-cover"}})},y.alt))}),h.length>1&&p.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 rounded-full bg-black/50 px-4 py-2",children:p.jsxs("span",{className:"text-sm font-medium text-white",children:[l+1," / ",h.length]})})]})})})]})},My=({references:o})=>p.jsx("div",{className:"text-default-500 text-xs italic",children:p.jsx("ul",{className:"list-disc pl-4",children:o.map((i,r)=>p.jsx("li",{children:p.jsx("a",{href:i.url??void 0,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:i.title})},r))})}),Ti=o=>p.jsx(A1,{delay:300,closeDelay:0,...o}),yd=o=>{const i=a=>Ve.subscribe(a),r=()=>Ve.getPlugin(o);return b.useSyncExternalStore(i,r)},rr=({plugin:o,component:i,skeletonSize:r,disableSkeleton:a,componentProps:l})=>{const c=yd(o.name),h=r?{width:r.width,height:r.height}:{};if(!c)return null;const g=c.config.components[i];try{return p.jsx(b.Suspense,{fallback:a?null:p.jsx(tx,{className:"rounded-lg",style:h}),children:p.jsx(g,{...l||{}})})}catch(m){return console.error(m),null}},_d="UsagePluginName",wd={name:_d,components:{UsageButton:b.lazy(()=>kt(()=>import("./UsageButton-hf03gD4E.js"),__vite__mapDeps([14,2,3,9,15,10,11])))}},jy=({content:o,serverId:i,message:r})=>{const[a,l]=b.useState("heroicons:clipboard"),c=b.useRef(null),h=async()=>{await navigator.clipboard.writeText(o),l("heroicons:check"),c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{l("heroicons:clipboard")},2e3)};return p.jsxs("div",{className:"flex items-center gap-2",children:[r.usage&&Object.keys(r.usage).length>=1&&p.jsx(rr,{plugin:wd,component:"UsageButton",componentProps:{usage:r.usage},skeletonSize:{width:"88px",height:"40px"}}),p.jsx(Ti,{content:"Copy",placement:"bottom",children:p.jsx(qe,{isIconOnly:!0,variant:"ghost",className:"p-0","aria-label":"Copy message",onPress:h,children:p.jsx(ft,{icon:a,"data-testid":"chat-message-copy-icon","data-icon":a})})}),i&&p.jsx(rr,{plugin:ad,component:"FeedbackForm",componentProps:{message:r},skeletonSize:{width:"88px",height:"40px"}})]})},Fy=()=>p.jsx("div",{className:"text-default-500 flex items-center gap-2",children:p.jsx(ft,{icon:"heroicons:arrow-path",className:"animate-spin","data-testid":"loading-indicator"})}),By=({confirmationRequests:o,confirmationStates:i,onConfirm:r,onSkip:a,onBulkConfirm:l,onBulkSkip:c,isLoading:h})=>{const[g,m]=b.useState(new Set),_=Object.values(o),y=M=>{const k=Object.entries(M);return k.length===0?"":k.slice(0,3).map(([K,V])=>{const H=typeof V=="string"?V.length>30?`${V.substring(0,30)}...`:V:JSON.stringify(V);return`${K}: ${H}`}).join(", ")},w=M=>{if(M.tool_description)return M.tool_description;const k=M.arguments,K=M.tool_name.replace(/_/g," "),V=k.email||k.to||k.name||k.id||k.event_id;return V?`${K}: ${V}`:`Execute ${K}`},P=_.filter(M=>i[M.confirmation_id]==="pending"),E=P.length>0,I=g.size>0,S=M=>{m(k=>{const K=new Set(k);return K.has(M)?K.delete(M):K.add(M),K})},R=()=>{const M=P.map(k=>k.confirmation_id);l(M),m(new Set)},D=()=>{const M=P.map(k=>k.confirmation_id);c(M),m(new Set)},O=()=>{const M=Array.from(g).filter(k=>i[k]==="pending");l(M),m(new Set)},F=M=>{r(M),m(k=>{const K=new Set(k);return K.delete(M),K})},U=M=>{a(M),m(k=>{const K=new Set(k);return K.delete(M),K})};return p.jsx(kn,{children:p.jsxs(nn.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:"my-2 flex flex-col gap-3",children:[E&&p.jsxs("div",{role:"status","aria-live":"polite",className:"sr-only",children:[P.length," confirmation",P.length>1?"s":""," pending"]}),E&&p.jsxs("div",{className:"flex flex-wrap gap-2",children:[p.jsxs(qe,{size:"sm",color:"success",variant:"solid",onPress:R,isDisabled:h,"aria-label":`Confirm all ${P.length} pending actions`,children:["✓ Confirm All (",P.length,")"]}),p.jsx(qe,{size:"sm",color:"default",variant:"bordered",onPress:D,isDisabled:h,"aria-label":`Skip all ${P.length} pending actions`,children:"⏭ Skip All"}),I&&p.jsxs(qe,{size:"sm",color:"success",variant:"flat",onPress:O,isDisabled:h,"aria-label":`Confirm ${g.size} selected actions`,children:["✓ Confirm Selected (",g.size,")"]})]}),p.jsx("div",{className:`flex flex-col gap-2 ${_.length>3?"max-h-[400px] overflow-y-auto pr-2":""}`,children:_.map(M=>{const k=i[M.confirmation_id]||"pending",K=k==="pending",V=k==="skipped",H=w(M),q=y(M.arguments),J=g.has(M.confirmation_id);return p.jsxs(nn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.2},className:`rounded-medium border-small flex items-center gap-3 p-3 ${V?"border-default bg-default-100/50 opacity-60 grayscale":K?"border-warning bg-warning-50/50":k==="confirmed"?"border-success bg-success-50/50":"border-danger bg-danger-50/50"}`,children:[K&&p.jsx(oc,{isSelected:J,onValueChange:()=>S(M.confirmation_id),size:"sm",className:"shrink-0",isDisabled:h}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[k==="pending"&&p.jsx(Ei,{size:"sm",color:"warning",variant:"flat",children:"⚠️ Confirmation needed"}),k==="confirmed"&&p.jsx(Ei,{size:"sm",color:"success",variant:"flat",children:"✅ Confirmed"}),k==="declined"&&p.jsx(Ei,{size:"sm",color:"default",variant:"flat",children:"❌ Declined"}),k==="skipped"&&p.jsx(Ei,{size:"sm",color:"default",variant:"flat",children:"⏭️ Handled naturally"})]}),p.jsx("p",{className:"text-small text-default-700 font-medium",children:H}),q&&K&&p.jsx("p",{className:"text-tiny text-default-500 mt-1 truncate",id:`conf-args-${M.confirmation_id}`,children:q})]}),K&&p.jsxs("div",{className:"flex shrink-0 gap-2",children:[p.jsx(qe,{size:"sm",color:"success",variant:"solid",onPress:()=>F(M.confirmation_id),isDisabled:h,"aria-label":`Confirm ${M.tool_name}: ${H}`,"aria-describedby":q?`conf-args-${M.confirmation_id}`:void 0,children:"Do it"}),p.jsx(qe,{size:"sm",color:"default",variant:"bordered",onPress:()=>U(M.confirmation_id),isDisabled:h,"aria-label":`Skip ${M.tool_name}: ${H}`,children:"Skip"})]})]},M.confirmation_id)})})]},"confirmation-dialogs")})};class Ky{nodes=new Map;roots=[];constructor(i){this.buildTree(i)}buildTree(i){for(const r of i)this.nodes.set(r.id,{...r,children:[]});for(const r of this.nodes.values())if(r.parent_id){const a=this.nodes.get(r.parent_id);a?(a.children.push(r),a.children.sort((l,c)=>l.order-c.order)):(this.roots.push(r),this.roots.sort((l,c)=>l.order-c.order))}else this.roots.push(r),this.roots.sort((a,l)=>a.order-l.order)}*iterate(){function*i(r){for(const a of r)yield a,yield*i(a.children)}yield*i(this.roots)}get(i){return this.nodes.get(i)}update(i,r){const a=this.nodes.get(i);a&&(Object.assign(a,r),r.order!==void 0&&(a.parent_id?this.nodes.get(a.parent_id)?.children.sort((c,h)=>c.order-h.order):this.roots.sort((l,c)=>l.order-c.order)),r.status==="completed"&&this.completeChildren(a))}completeChildren(i){for(const r of i.children)r.status="completed",this.completeChildren(r)}getRoots(){return this.roots}}function Cd({tasks:o,depth:i=0}){const r=new Ky(o);return p.jsx("div",{className:"space-y-2","data-testid":`todo-list-root-${i}`,children:r.getRoots().map(({id:a,description:l,status:c,summary:h,children:g})=>{const m=p.jsx(Qc,{size:"sm",color:"primary","aria-label":"Task is in progress",className:"m-0 p-0",classNames:{svg:"w-4 h-4"}});return p.jsxs("div",{"data-testid":`todo-task-${a}`,children:[p.jsx("div",{children:p.jsxs(oc,{isSelected:c===er.Completed,disabled:!0,className:"block",icon:c===er.InProgress?()=>m:void 0,classNames:{hiddenInput:"cursor-default",wrapper:Oe(c===er.InProgress&&"before:border-none"),base:"pointer-events-none hover:bg-transparent",label:Oe("transition-colors",c===er.Completed&&"line-through text-default-400",c===er.InProgress&&"text-primary italic",c===er.Pending&&"text-default-900")},children:[l,h&&p.jsx("p",{className:"ml-7",children:h})]})}),g.length>0&&p.jsx("div",{style:{marginLeft:`${(i+1)*.5}rem`},"data-testid":`todo-children-wrapper-${a}`,children:p.jsx(Cd,{tasks:g,depth:i+1})})]},`${a}-${c}`)})})}const Hy=b.forwardRef(({messageId:o,classNames:i},r)=>{const a=mn(de=>de.lastMessageId),l=mn(de=>de.isLoading),c=xd(o),h=Ht(de=>de.actions.sendSilentConfirmation),{client:g}=As();if(!c)throw new Error("Tried to render non-existent message");const{serverId:m,content:_,role:y,references:w,liveUpdates:P,images:E,confirmationRequests:I,confirmationStates:S,error:R}=c,D=y===nr.User,O=l&&y===nr.Assistant&&o===a,[F,U]=b.useState(!1),M=O&&!P&&!_.length,k=!O,K=!O&&E&&Object.keys(E).length>0,V=!O&&w&&w.length>0,H=P&&Object.keys(P).length>0,q=I&&Object.keys(I).length>0,J=async de=>{try{await h(o,de,!0,g)}catch(ae){console.error(ae)}},W=async de=>{try{await h(o,de,!1,g)}catch(ae){console.error(ae)}},ee=async de=>{const ae=I?Object.keys(I):[],re=ae.reduce((G,be)=>({...G,[be]:de.includes(be)}),{});try{await h(o,ae,re,g)}catch(G){console.error(G)}},te=async de=>{const re=(I?Object.keys(I):[]).reduce((G,be)=>({...G,[be]:!1}),{});try{await h(o,de,re,g)}catch(G){console.error(G)}};return p.jsx("div",{ref:r,"data-testid":"chat-message-wrapper",className:Oe("flex gap-3",{"flex-row-reverse":D},i?.wrapper),children:p.jsx("div",{className:Oe(!F&&"motion-safe:animate-pop-in","flex flex-col gap-4",D&&"max-w-[75%]",!D&&"w-full"),onAnimationEnd:()=>U(!0),children:p.jsx("div",{className:Oe("rounded-medium text-default relative px-4 py-3",D&&"bg-default-100",i?.innerWrapper),children:D?p.jsx(Yu,{content:_,classNames:i?.content}):p.jsxs("div",{className:"flex flex-col gap-2",children:[M&&p.jsx(Fy,{}),H&&p.jsx(ky,{shouldShimmer:O,liveUpdates:P,classNames:{liveUpdates:i?.liveUpdates}}),c.tasks&&c.tasks.length>0&&p.jsx(kn,{children:p.jsxs(nn.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3,ease:"easeOut"},className:"rounded-medium text-large text-default-900 border-default flex w-fit flex-col gap-2 border p-4",children:[p.jsx("p",{children:"Execution plan"}),p.jsx(Cd,{tasks:c.tasks})]},`${c.id}-execution-plan`)}),q&&S&&p.jsx(By,{confirmationRequests:I,confirmationStates:S,onConfirm:J,onSkip:W,onBulkConfirm:ee,onBulkSkip:te,isLoading:O}),c.hasConfirmationBreak&&p.jsx("div",{className:"border-divider my-2 border-t"}),p.jsx(Yu,{content:_,classNames:i?.content}),R&&p.jsxs("div",{"data-testid":"message-error",className:"bg-danger-50 border-danger-200 text-danger-700 rounded-medium flex items-center gap-2 border px-3 py-2",role:"alert",children:[p.jsx(ft,{icon:"heroicons:exclamation-triangle",className:"text-danger h-5 w-5 flex-shrink-0"}),p.jsx("span",{className:"text-small",children:R})]}),K&&p.jsx(Dy,{images:E}),V&&p.jsx(My,{references:w}),k&&p.jsx(jy,{content:_,serverId:m,message:c})]})})})})}),Uy=b.forwardRef(({classNames:o={},...i},r)=>p.jsx(nx,{ref:r,className:"min-h-[50px]",classNames:o,...i}));function Wy({isVisible:o,actions:i,sendMessage:r}){return p.jsx(kn,{children:o&&p.jsx(nn.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{overflow:"hidden",opacity:0,height:0},transition:{type:"tween",ease:"easeInOut",duration:.3},children:p.jsx(sc,{className:Oe("flex flex-nowrap gap-2 py-2 transition-all"),orientation:"horizontal",role:"group","aria-label":"Predefined message actions","aria-roledescription":"Horizontal scrollable list","data-testid":"horizontal-actions",children:p.jsx("div",{className:"m-auto flex gap-2",children:i.map((a,l)=>p.jsx(qe,{className:"flex",variant:"flat",onPress:()=>r(a),"aria-label":`Send message: ${a}`,children:p.jsx("p",{children:a})},l))})})},"horizontal-actions")})}function zy(){const o=c=>{const h=window.getComputedStyle(c),g=document.createElement("div");return g.style.whiteSpace="pre-wrap",g.style.wordWrap="break-word",g.style.position="absolute",g.style.visibility="hidden",g.style.font=h.font,g.style.lineHeight=h.lineHeight,g.style.padding=h.padding,g.style.border=h.border,g.style.boxSizing=h.boxSizing,g.style.width=`${c.clientWidth}px`,g},i=b.useCallback(c=>{const h=c.value.slice(0,c.selectionStart),g=o(c),m=window.getComputedStyle(c),_=document.createElement("span");_.textContent="​",g.textContent=h,g.appendChild(_),document.body.appendChild(g);const y=_.offsetTop,w=parseFloat(m.lineHeight||"16"),P=Math.round(y/w);return document.body.removeChild(g),P},[]),r=b.useCallback(c=>{const h=o(c),g=window.getComputedStyle(c);let m=c.value;(m.endsWith(`
`)||m==="")&&(m+="​"),h.textContent=m,document.body.appendChild(h);const _=h.offsetHeight,y=parseFloat(g.lineHeight||"16"),w=Math.round(_/y);return document.body.removeChild(h),w},[]),a=b.useCallback(c=>i(c)===0,[i]),l=b.useCallback(c=>{const h=i(c),g=r(c);return h===g-1},[i,r]);return{isCaretInFirstLine:a,isCaretInLastLine:l}}const Gy=({followupMessages:o,submit:i,stopAnswering:r,isLoading:a,formProps:l,inputProps:c,sendButtonProps:h,customSendIcon:g,customStopIcon:m,history:_,isDisabled:y=!1})=>{const[w,P]=b.useState(""),[E,I]=b.useState([]),S=b.useRef(null),R=b.useRef(null),{isCaretInFirstLine:D,isCaretInLastLine:O}=zy(),F=b.useRef(Math.max(E.length-1,0)),U=b.useCallback(()=>{const W=E[F.current];P(W)},[E]),M=b.useCallback(()=>{F.current=Math.max(F.current-1,0),U()},[U]),k=b.useCallback(()=>{F.current=Math.min(E.length-1,F.current+1),U()},[E,U]),K=b.useCallback(W=>{!w&&!W||y||(r(),i(W??w),I(ee=>{const te=ee.slice(0,-1);return te.push(W??w),te}),P(""),R?.current?.focus())},[w,r,i,y]),V=b.useCallback(W=>{W.target===S.current&&(W.preventDefault(),K())},[K]),H=b.useCallback(W=>{if(R.current){if(W.key==="ArrowUp"){if(!D(R.current))return;W.preventDefault(),M()}if(W.key==="ArrowDown"){if(!O(R.current))return;W.preventDefault(),k()}W.key==="Enter"&&!W.shiftKey&&(W.preventDefault(),K())}},[K,D,O,k,M]),q=b.useCallback(()=>{r(),R?.current?.focus()},[r]),J=b.useCallback(W=>{I(ee=>{const te=[...ee];return te[F.current]=W,te}),P(W)},[]);return b.useEffect(()=>{const W=(_??[]).filter(ee=>ee.role===nr.User).map(ee=>ee.content);E.length-1!==W.length&&(W.push(""),F.current=Math.max(W.length-1,0),I(W))},[_,E.length]),p.jsxs("div",{className:"rounded-medium",children:[p.jsx(Wy,{isVisible:!!o,actions:o??[],sendMessage:W=>K(W)}),p.jsxs(_1,{className:"rounded-medium bg-default-100 dark:bg-default-100 flex w-full flex-row items-center pr-2 pl-0",validationBehavior:"native",onSubmit:V,ref:S,...l,children:[p.jsx(Uy,{ref:R,"aria-label":"Message to the chat",classNames:{input:"text-medium text-default-foreground",inputWrapper:"!bg-transparent shadow-none group-data-[focus-visible=true]:ring-0 group-data-[focus-visible=true]:ring-offset-0 py-4"},name:"message",placeholder:y?"Please respond to pending confirmation...":"Enter a message here",autoFocus:!0,maxRows:16,minRows:1,value:w,onKeyDown:H,onValueChange:J,"data-testid":"prompt-input-input","data-value":w,isDisabled:y,...c}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(rr,{plugin:ud,component:"ChatOptionsForm",skeletonSize:{width:"40px",height:"40px"}}),p.jsx(qe,{isIconOnly:!0,"aria-label":a?"Stop answering":"Send message to the chat",color:!a&&!w?"default":"primary",isDisabled:!a&&(!w||y),radius:"full",size:"sm",type:a?"button":"submit",onPress:a?q:void 0,"data-testid":"send-message",...h,children:p.jsxs(p.Fragment,{children:[!a&&(g??p.jsx(ft,{className:Oe(w?"text-primary-foreground":"text-default-600"),icon:"heroicons:arrow-up","data-testid":"prompt-input-send-icon",width:20})),a&&(m??p.jsx(ft,{className:"text-primary-foreground",icon:"heroicons:stop","data-testid":"prompt-input-stop-icon",width:20}))]})})]})]})]})};function Vy({...o}){const i=Ty();return p.jsx(Gy,{...o,history:i})}const Ls=()=>{const o=b.useContext(cd);if(!o)throw new Error("useChat must be used within a ConfigContextProvider");return o};function Cs(){const{config:{customization:o}}=Ls(),i=Ry(),r=mn(k=>k.lastMessageId),a=xd(r),l=mn(k=>k.isLoading),c=mn(k=>k.followupMessages),h=Ly(),{sendMessage:g,stopAnswering:m}=Ts(),[_,y]=b.useState(!1),[w,P]=b.useState(!0),E=b.useRef(null),I=b.useMemo(()=>i.length>0,[i.length]),{client:S}=As(),R=k=>{g(k,S)},D=b.useCallback(()=>{if(!E.current)return;const V=E.current,H=V.scrollHeight-V.scrollTop-V.clientHeight;y(H>100),P(!1),H>25?P(!1):P(!0)},[]);b.useEffect(()=>{P(!0),i.length===0&&y(!1)},[i.length]),b.useEffect(()=>{if(E.current&&w){const k=E.current;k.scrollTop=k.scrollHeight}},[D,a,w]),b.useEffect(()=>{const k=E.current;return k?.addEventListener("scroll",D),()=>{k?.removeEventListener("scroll",D)}},[D,I]);const O=b.useCallback(()=>{E.current&&(E.current.scrollTo({top:E.current.scrollHeight,behavior:"smooth"}),P(!0))},[]),F=b.useMemo(()=>p.jsx(sc,{className:"relative flex h-full flex-col gap-6 pb-8",ref:E,children:i.map(k=>p.jsx(Hy,{messageId:k},k))}),[i]),U=p.jsx("div",{className:"flex h-full w-full items-center justify-center",children:p.jsxs("div",{className:"flex w-full max-w-[600px] flex-col gap-4",children:[o?.welcome_message&&p.jsx(Pr,{className:"text-large text-default-900 text-center",remarkPlugins:[Ar],children:o?.welcome_message}),p.jsx("div",{className:"text-small text-default-500 text-center",children:"You can start a conversation by typing in the input box below."})]})}),M=I?F:U;return p.jsxs("div",{className:"relative flex h-full flex-col overflow-y-auto p-6 pb-8",children:[M,p.jsxs("div",{className:"relative mt-auto flex max-w-full flex-col gap-2 px-6",children:[p.jsx(qe,{variant:"solid",onPress:O,className:Oe("absolute -top-16 left-1/2 z-10 -translate-x-1/2 transition-all duration-200 ease-out",_&&I?"opacity-100":"pointer-events-none opacity-0"),tabIndex:-1,startContent:p.jsx(ft,{icon:"heroicons:arrow-down"}),children:"Scroll to bottom"}),p.jsx(Vy,{isLoading:l,submit:R,stopAnswering:m,followupMessages:c,isDisabled:h})]})]})}function qy(){const i=ac().conversationId;if(!i||typeof i!="string")throw new Error("HistoryRoute expects `conversationId` param to be present in the URL.");return p.jsx(Cs,{})}function Yy(o){return`/conversation/${o}`}function Jy({children:o}){const i=rx(),r=Ht(Dr(g=>Object.keys(g.conversations))),{selectConversation:a}=Ts(),c=ac().conversationId,h=c&&typeof c=="string"&&r.includes(c);return b.useEffect(()=>{if(h){a(c);return}const g=r.at(-1);if(!g)throw new Error("No conversation to navigate to");a(g),i(Yy(g),{replace:!0})},[r,h,i,a,c]),o}const Os="ChatHistoryPlugin",$d={name:Os,components:{ChatHistory:b.lazy(()=>kt(()=>import("./ChatHistory-BZi_xwSy.js"),__vite__mapDeps([16,2,3,8,9,6])))},routes:[{target:"/",path:"/conversation/:conversationId",element:p.jsx(qy,{})}],routeWrappers:[{target:"/",wrapper:o=>p.jsx(Jy,{children:o})}]},Xy=b.lazy(()=>kt(()=>import("./Login-Ctzl3npD.js"),__vite__mapDeps([17,2,3,18,6])));function Zy(){return p.jsx(b.Suspense,{children:p.jsx(Xy,{})})}const Qy=b.lazy(()=>kt(()=>import("./AuthGuard-0x0xzXyF.js"),__vite__mapDeps([19,2,3,18])));function e_({children:o}){return p.jsx(b.Suspense,{children:p.jsx(Qy,{children:o})})}const Sd="AuthPlugin",Ed={name:Sd,components:{LogoutButton:b.lazy(()=>kt(()=>import("./LogoutButton-vlyrGtdG.js"),__vite__mapDeps([20,2,3,18])))},routes:[{path:"/login",element:p.jsx(Zy,{})}],routeWrappers:[{target:"global",wrapper:o=>p.jsx(e_,{children:o})}]};function t_(){return p.jsx("div",{className:Oe("bg-background flex h-screen w-screen items-start justify-center"),children:p.jsxs("div",{className:"text-default-900 m-auto flex flex-col items-center gap-4",children:[p.jsx("p",{className:"text-large",children:"Something went wrong during chat initialization."}),p.jsx("p",{className:"text-small text-default-500",children:"Try refreshing the page."})]})})}function n_({children:o}){const{call:i,...r}=q1("/api/config"),a=b.useMemo(()=>r.data?{config:r.data}:null,[r.data]);return b.useEffect(()=>{if(!r.data)return;const{feedback:l,user_settings:c,conversation_history:h,authentication:g,show_usage:m}=r.data;(l.like.enabled||l.dislike.enabled)&&Ve.activate(sd),c.form&&Ve.activate(ld),h&&Ve.activate(Os),g.enabled&&Ve.activate(Sd),m&&Ve.activate(_d),Ve.activate(dd)},[r.data]),!r.data&&!r.error&&!r.isLoading&&i(),b.useEffect(()=>{document.title=ix},[]),r.isLoading?p.jsx(bd,{}):r.error||!a?p.jsx(t_,{}):p.jsx(cd.Provider,{value:a,children:p.jsx(Iy,{shouldStoreHistory:a.config.conversation_history,children:o})})}function r_(o,i){return ji(o,r=>{for(const a of i)for(const l of a.routes??[]){if(!l.target){r.push(l);continue}const c=Id(r,l.target);if(!c){console.warn(`Target route "${l.target}" not found`);continue}c.children||(c.children=[]),c.children.push({path:l.path,element:l.element,children:l.children})}})}function Id(o,i){for(const r of o){if(r.path===i)return r;if(r.children){const a=Id(r.children,i);if(a)return a}}}function i_(o,i){const r=a=>a.map(l=>{const c=l.path??"",h=i.filter(_=>_.target==="global"||_.target===c);let g=l.element;for(const{wrapper:_}of h)g=_(g);const m={...l,element:g};return l.children&&(m.children=r(l.children)),m});return r(o)}function o_(){const o=r=>Ve.subscribe(r),i=()=>Ve.getActivePlugins();return b.useSyncExternalStore(o,i)}const s_=o=>typeof o=="boolean"||o instanceof Boolean,a_=o=>typeof o=="number"||o instanceof Number,l_=o=>typeof o=="bigint"||o instanceof BigInt,Pd=o=>!!o&&o instanceof Date,u_=o=>typeof o=="string"||o instanceof String,c_=o=>Array.isArray(o),d_=o=>typeof o=="object"&&o!==null,Ad=o=>!!o&&o instanceof Object&&typeof o=="function";function Di(o,i){return i===void 0&&(i=!1),!o||i?`"${o}"`:o}function f_(o,i,r){return r?JSON.stringify(o):i?`"${o}"`:o}function Rd(o){let{field:i,value:r,data:a,lastElement:l,openBracket:c,closeBracket:h,level:g,style:m,shouldExpandNode:_,clickToExpandNode:y,outerRef:w,beforeExpandChange:P}=o;const E=b.useRef(!1),[I,S]=b.useState(()=>_(g,r,i)),R=b.useRef(null);b.useEffect(()=>{E.current?S(_(g,r,i)):E.current=!0},[_]);const D=b.useId();if(a.length===0)return h_({field:i,openBracket:c,closeBracket:h,lastElement:l,style:m});const O=I?m.collapseIcon:m.expandIcon,F=I?m.ariaLables.collapseJson:m.ariaLables.expandJson,U=g+1,M=a.length-1,k=H=>{I!==H&&(!P||P({level:g,value:r,field:i,newExpandValue:H}))&&S(H)},K=H=>{if(H.key==="ArrowRight"||H.key==="ArrowLeft")H.preventDefault(),k(H.key==="ArrowRight");else if(H.key==="ArrowUp"||H.key==="ArrowDown"){H.preventDefault();const q=H.key==="ArrowUp"?-1:1;if(!w.current)return;const J=w.current.querySelectorAll("[role=button]");let W=-1;for(let te=0;te<J.length;te++)if(J[te].tabIndex===0){W=te;break}if(W<0)return;const ee=(W+q+J.length)%J.length;J[W].tabIndex=-1,J[ee].tabIndex=0,J[ee].focus()}},V=()=>{var H;k(!I);const q=R.current;if(!q)return;const J=(H=w.current)===null||H===void 0?void 0:H.querySelector('[role=button][tabindex="0"]');J&&(J.tabIndex=-1),q.tabIndex=0,q.focus()};return b.createElement("div",{className:m.basicChildStyle,role:"treeitem","aria-expanded":I,"aria-selected":void 0},b.createElement("span",{className:O,onClick:V,onKeyDown:K,role:"button","aria-label":F,"aria-expanded":I,"aria-controls":I?D:void 0,ref:R,tabIndex:g===0?0:-1}),(i||i==="")&&(y?b.createElement("span",{className:m.clickableLabel,onClick:V,onKeyDown:K},Di(i,m.quotesForFieldNames),":"):b.createElement("span",{className:m.label},Di(i,m.quotesForFieldNames),":")),b.createElement("span",{className:m.punctuation},c),I?b.createElement("ul",{id:D,role:"group",className:m.childFieldsContainer},a.map((H,q)=>b.createElement(Td,{key:H[0]||q,field:H[0],value:H[1],style:m,lastElement:q===M,level:U,shouldExpandNode:_,clickToExpandNode:y,outerRef:w}))):b.createElement("span",{className:m.collapsedContent,onClick:V,onKeyDown:K}),b.createElement("span",{className:m.punctuation},h),!l&&b.createElement("span",{className:m.punctuation},","))}function h_(o){let{field:i,openBracket:r,closeBracket:a,lastElement:l,style:c}=o;return b.createElement("div",{className:c.basicChildStyle,role:"treeitem","aria-selected":void 0},(i||i==="")&&b.createElement("span",{className:c.label},Di(i,c.quotesForFieldNames),":"),b.createElement("span",{className:c.punctuation},r),b.createElement("span",{className:c.punctuation},a),!l&&b.createElement("span",{className:c.punctuation},","))}function p_(o){let{field:i,value:r,style:a,lastElement:l,shouldExpandNode:c,clickToExpandNode:h,level:g,outerRef:m,beforeExpandChange:_}=o;return Rd({field:i,value:r,lastElement:l||!1,level:g,openBracket:"{",closeBracket:"}",style:a,shouldExpandNode:c,clickToExpandNode:h,data:Object.keys(r).map(y=>[y,r[y]]),outerRef:m,beforeExpandChange:_})}function g_(o){let{field:i,value:r,style:a,lastElement:l,level:c,shouldExpandNode:h,clickToExpandNode:g,outerRef:m,beforeExpandChange:_}=o;return Rd({field:i,value:r,lastElement:l||!1,level:c,openBracket:"[",closeBracket:"]",style:a,shouldExpandNode:h,clickToExpandNode:g,data:r.map(y=>[void 0,y]),outerRef:m,beforeExpandChange:_})}function m_(o){let{field:i,value:r,style:a,lastElement:l}=o,c,h=a.otherValue;return r===null?(c="null",h=a.nullValue):r===void 0?(c="undefined",h=a.undefinedValue):u_(r)?(c=f_(r,!a.noQuotesForStringValues,a.stringifyStringValues),h=a.stringValue):s_(r)?(c=r?"true":"false",h=a.booleanValue):a_(r)?(c=r.toString(),h=a.numberValue):l_(r)?(c=`${r.toString()}n`,h=a.numberValue):Pd(r)?c=r.toISOString():Ad(r)?c="function() { }":c=r.toString(),b.createElement("div",{className:a.basicChildStyle,role:"treeitem","aria-selected":void 0},(i||i==="")&&b.createElement("span",{className:a.label},Di(i,a.quotesForFieldNames),":"),b.createElement("span",{className:h},c),!l&&b.createElement("span",{className:a.punctuation},","))}function Td(o){const i=o.value;return c_(i)?b.createElement(g_,Object.assign({},o)):d_(i)&&!Pd(i)&&!Ad(i)?b.createElement(p_,Object.assign({},o)):b.createElement(m_,Object.assign({},o))}var tt={"container-light":"_2IvMF _GzYRV","basic-element-style":"_2bkNM","child-fields-container":"_1BXBN","label-light":"_1MGIk","clickable-label-light":"_2YKJg _1MGIk _1MFti","punctuation-light":"_3uHL6 _3eOF8","value-null-light":"_2T6PJ","value-undefined-light":"_1Gho6","value-string-light":"_vGjyY","value-number-light":"_1bQdo","value-boolean-light":"_3zQKs","value-other-light":"_1xvuR","collapse-icon-light":"_oLqym _f10Tu _1MFti _1LId0","expand-icon-light":"_2AXVT _f10Tu _1MFti _1UmXx","collapsed-content-light":"_2KJWg _1pNG9 _1MFti"};const v_={collapseJson:"collapse JSON",expandJson:"expand JSON"},Rt={container:tt["container-light"],basicChildStyle:tt["basic-element-style"],childFieldsContainer:tt["child-fields-container"],label:tt["label-light"],clickableLabel:tt["clickable-label-light"],nullValue:tt["value-null-light"],undefinedValue:tt["value-undefined-light"],stringValue:tt["value-string-light"],booleanValue:tt["value-boolean-light"],numberValue:tt["value-number-light"],otherValue:tt["value-other-light"],punctuation:tt["punctuation-light"],collapseIcon:tt["collapse-icon-light"],expandIcon:tt["expand-icon-light"],collapsedContent:tt["collapsed-content-light"],noQuotesForStringValues:!1,quotesForFieldNames:!1,ariaLables:v_,stringifyStringValues:!1},Ir=()=>!0,Ai=o=>{let{data:i,style:r=Rt,shouldExpandNode:a=Ir,clickToExpandNode:l=!1,beforeExpandChange:c,...h}=o;const g=b.useRef(null);return b.createElement("div",Object.assign({"aria-label":"JSON view"},h,{className:r.container,ref:g,role:"tree"}),b.createElement(Td,{value:i,style:{...Rt,...r},lastElement:!0,level:0,shouldExpandNode:a,clickToExpandNode:l,outerRef:g,beforeExpandChange:c}))};function b_(o){return typeof o=="string"?o:`map:${String(o)}`}function gn(o,i=new WeakSet){if(o===null||typeof o!="object")return typeof o=="bigint"?o.toString():typeof o>"u"||typeof o=="function"?void 0:o;if(i.has(o))return"[Circular]";if(i.add(o),o instanceof Date)return o.toISOString();if(o instanceof Map){const a={};for(const[l,c]of o.entries())a[b_(l)]=gn(c,i);return a}if(o instanceof Set)return Array.from(o).map(a=>gn(a,i));if(Array.isArray(o))return o.map(a=>gn(a,i));const r={};for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=gn(o[a],i);l!==void 0&&(r[a]=l)}return r}const Ri={container:"max-w-full overflow-auto rounded bg-default p-2 font-mono font-normal",label:`${Rt.label} !text-default-900`,collapseIcon:`${Rt.collapseIcon} !text-default-900`,expandIcon:`${Rt.expandIcon} !text-default-900`,collapsedContent:`${Rt.collapsedContent} !text-default-900`,punctuation:"!text-default-900",stringValue:`${Rt.stringValue} !text-green-600`,otherValue:`${Rt.otherValue} !text-purple-500`,numberValue:`${Rt.numberValue}`,nullValue:`${Rt.nullValue}`,booleanValue:`${Rt.booleanValue} !text-yellow-600`,undefinedValue:`${Rt.undefinedValue}`};function x_({isOpen:o}){const i=mn(c=>c.history),r=mn(c=>c.followupMessages),a=mn(c=>c.eventsLog),l=Ht(Dr(c=>c.computed.getContext()));return p.jsx(kn,{children:o&&p.jsx(nn.div,{initial:{scale:.6,opacity:0,width:0},animate:{scale:1,opacity:1,width:"100%"},exit:{scale:.6,opacity:0,width:0},className:"w-full max-w-[33%] overflow-hidden px-4",children:p.jsxs("div",{className:"rounded-medium border-small border-divider mr-4 h-full overflow-auto","data-testid":"debug-panel",children:[p.jsx("div",{className:"border-b-small border-divider min-h-16 p-4 text-lg font-bold",children:p.jsx("span",{children:"Debug"})}),p.jsxs(ku,{className:"max-h-full",children:[p.jsx($r,{"aria-label":"Context",title:"Context",children:p.jsx("div",{className:"max-h-[664px] overflow-auto",children:p.jsx(Ai,{data:gn(l)??{},shouldExpandNode:Ir,style:Ri})})},"context"),p.jsx($r,{"aria-label":"History",title:"History",children:p.jsx("div",{className:"max-h-[664px] overflow-auto",children:p.jsx(Ai,{data:gn(i)??{},shouldExpandNode:Ir,style:Ri})})},"history"),p.jsx($r,{"aria-label":"Followup messages",title:"Followup messages",children:p.jsx("div",{className:"max-h-[664px] overflow-auto",children:p.jsx(Ai,{data:gn(r)??{},shouldExpandNode:Ir,style:Ri})})},"folowup-messages"),p.jsx($r,{"aria-label":"Events",title:"Events",children:a.length===0?p.jsx("p",{children:"No events in the log"}):p.jsx(ku,{children:a.map((c,h)=>p.jsx($r,{"aria-label":`Events for response number ${h+1}`,title:`Events for response number ${h+1}`,children:p.jsx(Ai,{data:gn(c)??{},shouldExpandNode:Ir,style:Ri})},`events-${h+1}`))})},"events")]})]})})})}function Ld(o){return y_(o)?!0:w_(o)&&__(o)}function y_(o){try{return new URL(o),!0}catch{return!1}}function __(o){try{const i="http://base.local";return new URL(o,i),!0}catch{return!1}}function w_(o){return/^[./~\w%-][\w./~%-]*$/.test(o)}function C_({children:o,title:i,subTitle:r,logo:a,classNames:l}){const c=yd(Os),{config:h}=Ls(),{newConversation:g,stopAnswering:m}=Ts(),{setTheme:_,theme:y}=ox(),[w,P]=b.useState(!1),E=()=>{_(y===_r.DARK?_r.LIGHT:_r.DARK)},I=b.useCallback(()=>{m(),g()},[g,m]),S=c?.isActivated;return p.jsxs("div",{className:"flex h-full min-h-[48rem] justify-center py-4",children:[p.jsx(rr,{plugin:$d,component:"ChatHistory",disableSkeleton:!0}),p.jsxs("div",{className:Oe("flex grow flex-col px-4 sm:max-w-[1200px]",S&&"pl-0"),children:[p.jsxs("header",{className:Oe("border-small border-divider flex h-16 min-h-16 items-center justify-between gap-2 rounded-none px-4 py-3",l?.header,S?"rounded-tr-medium":"rounded-t-medium"),children:[p.jsxs("div",{className:"flex w-full items-center gap-2",children:[Ld(a)?p.jsx("img",{src:a,className:"h-8 w-8",width:32,height:32}):p.jsx("div",{className:"bg-foreground flex h-8 w-8 items-center justify-center rounded-full",children:a}),p.jsxs("div",{className:"w-full min-w-[120px] sm:w-auto",children:[p.jsx("div",{className:Oe("text-small text-foreground truncate leading-5 font-semibold",l?.title),children:i}),p.jsx("div",{className:Oe("text-small text-default-500 truncate leading-5 font-normal",l?.subTitle),children:r})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(rr,{plugin:Ed,component:"LogoutButton",skeletonSize:{width:"40px",height:"40px"}}),p.jsx(rr,{plugin:fd,component:"ShareButton",skeletonSize:{width:"40px",height:"40px"}}),!S&&p.jsx(Ti,{content:"Clear chat",placement:"bottom",children:p.jsx(qe,{isIconOnly:!0,"aria-label":"Clear chat",variant:"ghost",onPress:I,"data-testid":"layout-clear-chat-button",children:p.jsx(ft,{icon:"heroicons:arrow-path"})})}),p.jsx(Ti,{content:"Change theme",placement:"bottom",children:p.jsx(qe,{isIconOnly:!0,"aria-label":`Change theme to ${y===_r.DARK?"light":"dark"}`,variant:"ghost",onPress:E,"data-testid":"layout-toggle-theme-button",children:y===_r.DARK?p.jsx(ft,{icon:"heroicons:sun"}):p.jsx(ft,{icon:"heroicons:moon"})})}),h.debug_mode&&p.jsx(Ti,{content:"Toggle debug panel",placement:"bottom",children:p.jsxs(qe,{isIconOnly:!0,"aria-label":`${w?"Open":"Close"} debug panel`,variant:"ghost",onPress:()=>P(R=>!R),"data-testid":"layout-debug-button",children:[p.jsx(ft,{icon:"heroicons:bug-ant"}),w&&p.jsx("div",{className:"bg-default-500 absolute top-1/2 right-0 left-0 h-0.5 -rotate-45"})]})})]})]}),p.jsx("main",{className:"flex h-full overflow-hidden",children:p.jsx("div",{className:Oe("border-divider flex h-full w-full flex-col gap-4 rounded-none border-0 border-r border-b border-l py-3",l?.container,S?"rounded-br-medium":"rounded-b-medium"),children:o})})]}),p.jsx(x_,{isOpen:w})]})}const Ju="generated-favicon";function $_(){const{config:{customization:o}}=Ls(),i=b.useMemo(()=>o?.header?.logo??sx,[o?.header?.logo]),r=b.useMemo(()=>o?.header?.title??ax,[o?.header?.title]),a=b.useMemo(()=>o?.header?.subtitle??lx,[o?.header?.subtitle]),l=b.useMemo(()=>o?.meta?.favicon??i,[o?.meta?.favicon,i]),c=b.useMemo(()=>o?.meta?.page_title??r,[o?.meta?.page_title,r]);b.useLayoutEffect(()=>{document.title=c},[c]);const h=g=>{const m=document.createElement("link");m.rel="icon",m.href=g,m.id=Ju,document.head.appendChild(m)};return b.useLayoutEffect(()=>{if(document.querySelectorAll("link[rel*='icon']").forEach(m=>m.remove()),Ld(l))h(l);else{const m=`
      <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64">
        <text x="50%" y="50%" dominant-baseline="middle" text-anchor="middle"
              font-family="sans-serif" font-size="48">${l}</text>
      </svg>
    `,_=new TextEncoder().encode(m),y=Array.from(_).map(E=>String.fromCharCode(E)).join(""),P=`data:image/svg+xml;base64,${btoa(y)}`;h(P)}return()=>{document.querySelector(`#${Ju}`)?.remove()}},[l]),p.jsx("div",{className:"bg-background flex h-screen w-screen items-start justify-center",children:p.jsx("div",{className:"h-full w-full max-w-full",children:p.jsx(C_,{subTitle:a,title:r,logo:i,children:p.jsx(ux,{})})})})}const S_=[{path:"/",element:p.jsx($_,{}),children:[{index:!0,element:p.jsx(Cs,{})},{path:"*",element:p.jsx(Cs,{})}]}];function E_(){const o=o_(),i=b.useMemo(()=>{const r=r_(S_,o),a=o.flatMap(l=>l.routeWrappers??[]);return i_(r,a)},[o]);return cx(i)}Ve.register(ad);Ve.register(ud);Ve.register(fd);Ve.register($d);Ve.register(Ed);Ve.register(wd);dx(["heroicons:check","heroicons:clipboard","heroicons:arrow-path","heroicons:sun","heroicons:moon","heroicons:arrow-down","heroicons:arrow-up","heroicons:chevron-down","heroicons:cog-6-tooth","heroicons:bug-ant","heroicons:trash"]);fx.createRoot(document.getElementById("root")).render(p.jsx(b.StrictMode,{children:p.jsx(hx,{children:p.jsx(px,{baseUrl:gx,children:p.jsx(mx,{children:p.jsx(n_,{children:p.jsx(vx,{children:p.jsx(E_,{})})})})})})}));export{T1 as $,Yy as A,Bx as B,$d as C,Ti as D,Jc as E,A_ as F,Hx as G,b1 as H,Au as I,Yc as J,P_ as K,Du as L,Ex as M,Lu as N,lc as O,td as P,vd as Q,bd as R,yy as S,ki as T,Ts as a,Ls as b,q1 as c,H1 as d,N1 as e,mn as f,Ht as g,n1 as h,Pu as i,v1 as j,Px as k,a1 as l,z1 as m,qx as n,Zx as o,Ve as p,l1 as q,Qx as r,od as s,R_ as t,G1 as u,gn as v,p1 as w,Dr as x,nn as y,Uu as z};
