import{a as g,aP as c,r as w,j as t,aS as n,aK as C,D as o,d as a,I as i,aT as N}from"./index-mEDYeXca.js";function I(){const{selectConversation:d,deleteConversation:h,stopAnswering:m,clearHistory:u}=g(),x=c(e=>e.conversations),p=c(e=>e.currentConversation),[s,v]=w.useState(!1),r=s?"Open sidebar":"Close sidebar",f=t.jsx(i,{icon:"heroicons:pencil-square"}),b=()=>{m(),u()};return t.jsx(n.div,{initial:!1,animate:{maxWidth:s?"4.5rem":"16rem"},className:"rounded-l-medium border-small border-divider ml-4 flex h-full w-full min-w-[4.5rem] flex-grow flex-col space-y-2 overflow-hidden border-r-0 p-4 py-3",children:t.jsxs(C,{children:[t.jsx(o,{content:r,placement:"bottom",children:t.jsx(a,{isIconOnly:!0,"aria-label":r,variant:"ghost",onPress:()=>v(e=>!e),"data-testid":"chat-history-collapse-button",className:"ml-auto",children:t.jsx(i,{icon:s?"heroicons:chevron-double-right":"heroicons:chevron-double-left"})})},"collapse-button"),!s&&t.jsx(n.p,{initial:!1,animate:{opacity:1,width:"100%",height:"auto"},exit:{opacity:0,width:0,height:0,marginBottom:0},className:"text-small text-foreground truncate leading-5 font-semibold",children:"Conversations"},"conversations"),t.jsx(o,{content:"New conversation",placement:"right",children:t.jsx(a,{"aria-label":"New conversation",variant:"ghost",onPress:b,"data-testid":"chat-history-clear-chat-button",startContent:f,isIconOnly:s,children:!s&&"New conversation"})},"new-conversation-button"),!s&&t.jsx(n.div,{className:"mt-2 flex flex-1 flex-col gap-2 overflow-auto overflow-x-hidden",initial:!1,animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},children:Object.entries(x).reverse().map(([e,j])=>{if(!j.conversationId)return null;const l=e===N(p);return t.jsxs("div",{className:"flex gap-2",children:[t.jsx(a,{variant:l?"solid":"light","aria-label":`Select conversation ${e}`,"data-active":l,onPress:()=>d(e),title:e,"data-testid":`select-conversation-${e}`,children:t.jsx("div",{className:"text-small truncate",children:e})}),t.jsx(o,{content:"Delete conversation",placement:"right",children:t.jsx(a,{isIconOnly:!0,"aria-label":`Delete conversation ${e}`,onPress:()=>h(e),variant:"ghost","data-testid":`delete-conversation-${e}`,children:t.jsx(i,{icon:"heroicons:trash"})})})]},e)})},"conversation-list")]})})}export{I as default};
