import{a as b,h as d,r as j,j as e,aU as n,aM as w,D as o,d as a,I as i,aV as g}from"./index-CMUZuguB.js";function N(){const{selectConversation:h,deleteConversation:m,newConversation:u}=b(),x=d(t=>t.conversations),v=d(t=>t.currentConversation),[s,p]=j.useState(!1),r=s?"Open sidebar":"Close sidebar",f=e.jsx(i,{icon:"heroicons:pencil-square"});return e.jsx(n.div,{initial:!1,animate:{maxWidth:s?"4.5rem":"16rem"},className:"rounded-l-medium border-small border-divider ml-4 flex h-full w-full min-w-[4.5rem] flex-grow flex-col space-y-2 overflow-hidden border-r-0 p-4 py-3",children:e.jsxs(w,{children:[e.jsx(o,{content:r,placement:"bottom",children:e.jsx(a,{isIconOnly:!0,"aria-label":r,variant:"ghost",onPress:()=>p(t=>!t),"data-testid":"chat-history-collapse-button",className:"ml-auto",children:e.jsx(i,{icon:s?"heroicons:chevron-double-right":"heroicons:chevron-double-left"})})},"collapse-button"),!s&&e.jsx(n.p,{initial:!1,animate:{opacity:1,width:"100%",height:"auto"},exit:{opacity:0,width:0,height:0,marginBottom:0},className:"text-small text-foreground truncate leading-5 font-semibold",children:"Conversations"},"conversations"),e.jsx(o,{content:"New conversation",placement:"right",children:e.jsx(a,{"aria-label":"New conversation",variant:"ghost",onPress:u,"data-testid":"chat-history-clear-chat-button",startContent:f,isIconOnly:s,children:!s&&"New conversation"})},"new-conversation-button"),!s&&e.jsx(n.div,{className:"mt-2 flex flex-1 flex-col gap-2 overflow-auto overflow-x-hidden",initial:!1,animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},children:Object.entries(x).reverse().map(([t,l])=>{if(g(l))return null;const c=t===v;return e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{variant:c?"solid":"light","aria-label":`Select conversation ${t}`,"data-active":c,onPress:()=>h(t),title:t,"data-testid":`select-conversation-${t}`,children:e.jsx("div",{className:"text-small truncate",children:l.conversationId})}),e.jsx(o,{content:"Delete conversation",placement:"right",children:e.jsx(a,{isIconOnly:!0,"aria-label":`Delete conversation ${t}`,onPress:()=>m(t),variant:"ghost","data-testid":`delete-conversation-${t}`,children:e.jsx(i,{icon:"heroicons:trash"})})})]},t)})},"conversation-list")]})})}export{N as default};
