import{a as y,aK as C,i as h,aL as N,r as I,j as t,aM as n,aD as O,D as o,d as s,I as i,aN as $,aO as u}from"./index-BTypXP0X.js";function P(){const{selectConversation:m,deleteConversation:x,newConversation:v}=y(),l=C(),p=h(N(e=>Object.keys(e.conversations).reverse())),f=h(e=>e.currentConversation),[a,b]=I.useState(!1),r=a?"Open sidebar":"Close sidebar",g=t.jsx(i,{icon:"heroicons:pencil-square"}),j=()=>{const e=v();l(u(e))},w=e=>{m(e),l(u(e))};return t.jsx(n.div,{initial:!1,animate:{maxWidth:a?"4.5rem":"16rem"},className:"rounded-l-medium border-small border-divider ml-4 flex h-full w-full min-w-[4.5rem] flex-grow flex-col space-y-2 overflow-hidden border-r-0 p-4 py-3",children:t.jsxs(O,{children:[t.jsx(o,{content:r,placement:"bottom",children:t.jsx(s,{isIconOnly:!0,"aria-label":r,variant:"ghost",onPress:()=>b(e=>!e),"data-testid":"chat-history-collapse-button",className:"ml-auto",children:t.jsx(i,{icon:a?"heroicons:chevron-double-right":"heroicons:chevron-double-left"})})},"collapse-button"),!a&&t.jsx(n.p,{initial:!1,animate:{opacity:1,width:"100%",height:"auto"},exit:{opacity:0,width:0,height:0,marginBottom:0},className:"text-small text-foreground truncate leading-5 font-semibold",children:"Conversations"},"conversations"),t.jsx(o,{content:"New conversation",placement:"right",children:t.jsx(s,{"aria-label":"New conversation",variant:"ghost",onPress:j,"data-testid":"chat-history-clear-chat-button",startContent:g,isIconOnly:a,children:!a&&"New conversation"})},"new-conversation-button"),!a&&t.jsx(n.div,{className:"mt-2 flex flex-1 flex-col gap-2 overflow-auto overflow-x-hidden",initial:!1,animate:{opacity:1,width:"100%"},exit:{opacity:0,width:0},children:p.map(e=>{if($(e))return null;const c=e===f,d=c?"solid":"light";return t.jsxs("div",{className:"flex gap-2",children:[t.jsx(s,{variant:d,"aria-label":`Select conversation ${e}`,"data-active":c,onPress:()=>w(e),title:e,"data-testid":`select-conversation-${e}`,children:t.jsx("div",{className:"text-small truncate",children:e})}),t.jsx(o,{content:"Delete conversation",placement:"right",children:t.jsx(s,{isIconOnly:!0,"aria-label":`Delete conversation ${e}`,onPress:()=>x(e),variant:"ghost","data-testid":`delete-conversation-${e}`,children:t.jsx(i,{icon:"heroicons:trash"})})})]},`${e}-${d}`)})},"conversation-list")]})})}export{P as default};
