import{a4 as s,ai as u,E as t,a7 as i,a8 as g}from"./useThemeContext-DkrqKvLn.js";import{a as n}from"./authStore-BZmq_GrX.js";import{c as p,D as d}from"./main-BJLJjzL4.js";function y(){const r=p("/api/auth/logout",{headers:{"Content-Type":"application/json"},method:"POST"}),c=s(n,o=>o.logout),e=s(n,o=>o.token?.access_token),a=u(),l=async()=>{if(!e){a("/login");return}try{if(!(await r.call({body:{token:e}})).success)return;c(),a("/login")}catch(o){console.error("Failed to logout",o)}};return t.jsx(d,{content:"Logout",placement:"bottom",children:t.jsx(i,{isIconOnly:!0,"aria-label":"Logout",variant:"ghost",onPress:l,"data-testid":"logout-button",children:t.jsx(g,{icon:"heroicons:arrow-left-start-on-rectangle"})})})}export{y as default};
